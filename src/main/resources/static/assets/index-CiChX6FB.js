(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ml(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zv={exports:{}},su={},Qv={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=Symbol.for("react.element"),rb=Symbol.for("react.portal"),ib=Symbol.for("react.fragment"),sb=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),ab=Symbol.for("react.context"),cb=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),hb=Symbol.for("react.memo"),fb=Symbol.for("react.lazy"),jm=Symbol.iterator;function db(e){return e===null||typeof e!="object"?null:(e=jm&&e[jm]||e["@@iterator"],typeof e=="function"?e:null)}var Jv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ey=Object.assign,ty={};function $s(e,t,n){this.props=e,this.context=t,this.refs=ty,this.updater=n||Jv}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ny(){}ny.prototype=$s.prototype;function Qd(e,t,n){this.props=e,this.context=t,this.refs=ty,this.updater=n||Jv}var Jd=Qd.prototype=new ny;Jd.constructor=Qd;ey(Jd,$s.prototype);Jd.isPureReactComponent=!0;var Hm=Array.isArray,ry=Object.prototype.hasOwnProperty,ep={current:null},iy={key:!0,ref:!0,__self:!0,__source:!0};function sy(e,t,n){var r,i={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)ry.call(t,r)&&!iy.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ol,type:e,key:s,ref:l,props:i,_owner:ep.current}}function pb(e,t){return{$$typeof:Ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ol}function mb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $m=/\/+/g;function Vu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mb(""+e.key):t.toString(36)}function qa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ol:case rb:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Vu(l,0):r,Hm(i)?(n="",e!=null&&(n=e.replace($m,"$&/")+"/"),qa(i,t,n,"",function(c){return c})):i!=null&&(tp(i)&&(i=pb(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace($m,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",Hm(e))for(var o=0;o<e.length;o++){s=e[o];var a=r+Vu(s,o);l+=qa(s,t,n,a,i)}else if(a=db(e),typeof a=="function")for(e=a.call(e),o=0;!(s=e.next()).done;)s=s.value,a=r+Vu(s,o++),l+=qa(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ua(e,t,n){if(e==null)return e;var r=[],i=0;return qa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function gb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},Ga={transition:null},_b={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:ep};function oy(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:ua,forEach:function(e,t,n){ua(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ua(e,function(){t++}),t},toArray:function(e){return ua(e,function(t){return t})||[]},only:function(e){if(!tp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=$s;Ce.Fragment=ib;Ce.Profiler=ob;Ce.PureComponent=Qd;Ce.StrictMode=sb;Ce.Suspense=ub;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_b;Ce.act=oy;Ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ey({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=ep.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(a in t)ry.call(t,a)&&!iy.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&o!==void 0?o[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){o=Array(a);for(var c=0;c<a;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ol,type:e.type,key:i,ref:s,props:r,_owner:l}};Ce.createContext=function(e){return e={$$typeof:ab,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lb,_context:e},e.Consumer=e};Ce.createElement=sy;Ce.createFactory=function(e){var t=sy.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:cb,render:e}};Ce.isValidElement=tp;Ce.lazy=function(e){return{$$typeof:fb,_payload:{_status:-1,_result:e},_init:gb}};Ce.memo=function(e,t){return{$$typeof:hb,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Ga.transition;Ga.transition={};try{e()}finally{Ga.transition=t}};Ce.unstable_act=oy;Ce.useCallback=function(e,t){return Ht.current.useCallback(e,t)};Ce.useContext=function(e){return Ht.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return Ht.current.useEffect(e,t)};Ce.useId=function(){return Ht.current.useId()};Ce.useImperativeHandle=function(e,t,n){return Ht.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return Ht.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return Ht.current.useReducer(e,t,n)};Ce.useRef=function(e){return Ht.current.useRef(e)};Ce.useState=function(e){return Ht.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return Ht.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return Ht.current.useTransition()};Ce.version="18.3.1";Qv.exports=Ce;var j=Qv.exports;const Q=Ml(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb=j,yb=Symbol.for("react.element"),wb=Symbol.for("react.fragment"),Sb=Object.prototype.hasOwnProperty,xb=vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kb={key:!0,ref:!0,__self:!0,__source:!0};function ly(e,t,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Sb.call(t,r)&&!kb.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:yb,type:e,key:s,ref:l,props:i,_owner:xb.current}}su.Fragment=wb;su.jsx=ly;su.jsxs=ly;Zv.exports=su;var T=Zv.exports,pf={},ay={exports:{}},hn={},cy={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,R){var E=L.length;L.push(R);e:for(;0<E;){var M=E-1>>>1,U=L[M];if(0<i(U,R))L[M]=R,L[E]=U,E=M;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var R=L[0],E=L.pop();if(E!==R){L[0]=E;e:for(var M=0,U=L.length,O=U>>>1;M<O;){var Y=2*(M+1)-1,K=L[Y],ee=Y+1,P=L[ee];if(0>i(K,E))ee<U&&0>i(P,K)?(L[M]=P,L[ee]=E,M=ee):(L[M]=K,L[Y]=E,M=Y);else if(ee<U&&0>i(P,E))L[M]=P,L[ee]=E,M=ee;else break e}}return R}function i(L,R){var E=L.sortIndex-R.sortIndex;return E!==0?E:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var a=[],c=[],h=1,u=null,p=3,m=!1,y=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=L)r(c),R.sortIndex=R.expirationTime,t(a,R);else break;R=n(c)}}function v(L){if(w=!1,_(L),!y)if(n(a)!==null)y=!0,z(S);else{var R=n(c);R!==null&&H(v,R.startTime-L)}}function S(L,R){y=!1,w&&(w=!1,f(x),x=-1),m=!0;var E=p;try{for(_(R),u=n(a);u!==null&&(!(u.expirationTime>R)||L&&!N());){var M=u.callback;if(typeof M=="function"){u.callback=null,p=u.priorityLevel;var U=M(u.expirationTime<=R);R=e.unstable_now(),typeof U=="function"?u.callback=U:u===n(a)&&r(a),_(R)}else r(a);u=n(a)}if(u!==null)var O=!0;else{var Y=n(c);Y!==null&&H(v,Y.startTime-R),O=!1}return O}finally{u=null,p=E,m=!1}}var k=!1,b=null,x=-1,C=5,A=-1;function N(){return!(e.unstable_now()-A<C)}function I(){if(b!==null){var L=e.unstable_now();A=L;var R=!0;try{R=b(!0,L)}finally{R?F():(k=!1,b=null)}}else k=!1}var F;if(typeof d=="function")F=function(){d(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,B=D.port2;D.port1.onmessage=I,F=function(){B.postMessage(null)}}else F=function(){g(I,0)};function z(L){b=L,k||(k=!0,F())}function H(L,R){x=g(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,z(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var E=p;p=R;try{return L()}finally{p=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var E=p;p=L;try{return R()}finally{p=E}},e.unstable_scheduleCallback=function(L,R,E){var M=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?M+E:M):E=M,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=E+U,L={id:h++,callback:R,priorityLevel:L,startTime:E,expirationTime:U,sortIndex:-1},E>M?(L.sortIndex=E,t(c,L),n(a)===null&&L===n(c)&&(w?(f(x),x=-1):w=!0,H(v,E-M))):(L.sortIndex=U,t(a,L),y||m||(y=!0,z(S))),L},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(L){var R=p;return function(){var E=p;p=R;try{return L.apply(this,arguments)}finally{p=E}}}})(uy);cy.exports=uy;var bb=cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb=j,cn=bb;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hy=new Set,qo={};function Fi(e,t){Es(e,t),Es(e+"Capture",t)}function Es(e,t){for(qo[e]=t,e=0;e<t.length;e++)hy.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=Object.prototype.hasOwnProperty,Eb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Um={},Wm={};function Ab(e){return mf.call(Wm,e)?!0:mf.call(Um,e)?!1:Eb.test(e)?Wm[e]=!0:(Um[e]=!0,!1)}function Tb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Db(e,t,n,r){if(t===null||typeof t>"u"||Tb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,n,r,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var np=/[\-:]([a-z])/g;function rp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(np,rp);kt[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(np,rp);kt[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(np,rp);kt[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function ip(e,t,n,r){var i=kt.hasOwnProperty(t)?kt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Db(t,n,i,r)&&(n=null),r||i===null?Ab(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xr=Cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ha=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),gf=Symbol.for("react.profiler"),fy=Symbol.for("react.provider"),dy=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),vf=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),py=Symbol.for("react.offscreen"),Vm=Symbol.iterator;function eo(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Ku;function ko(e){if(Ku===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ku=t&&t[1]||""}return`
`+Ku+e}var Yu=!1;function qu(e,t){if(!e||Yu)return"";Yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,o=s.length-1;1<=l&&0<=o&&i[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==s[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==s[o]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=o);break}}}finally{Yu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ko(e):""}function Lb(e){switch(e.tag){case 5:return ko(e.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 2:case 15:return e=qu(e.type,!1),e;case 11:return e=qu(e.type.render,!1),e;case 1:return e=qu(e.type,!0),e;default:return""}}function yf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case gf:return"Profiler";case sp:return"StrictMode";case _f:return"Suspense";case vf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dy:return(e.displayName||"Context")+".Consumer";case fy:return(e._context.displayName||"Context")+".Provider";case op:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lp:return t=e.displayName||null,t!==null?t:yf(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return yf(e(t))}catch{}}return null}function Rb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(t);case 8:return t===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function my(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nb(e){var t=my(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fa(e){e._valueTracker||(e._valueTracker=Nb(e))}function gy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=my(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wf(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Km(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ti(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _y(e,t){t=t.checked,t!=null&&ip(e,"checked",t,!1)}function Sf(e,t){_y(e,t);var n=ti(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xf(e,t.type,n):t.hasOwnProperty("defaultValue")&&xf(e,t.type,ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ym(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xf(e,t,n){(t!=="number"||mc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bo=Array.isArray;function ms(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ti(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(bo(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ti(n)}}function vy(e,t){var n=ti(t.value),r=ti(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var da,wy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=da.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Go(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ib=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(e){Ib.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Io[t]=Io[e]})});function Sy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Io.hasOwnProperty(e)&&Io[e]?(""+t).trim():t+"px"}function xy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Mb=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cf(e,t){if(t){if(Mb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=null;function ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tf=null,gs=null,_s=null;function Xm(e){if(e=Fl(e)){if(typeof Tf!="function")throw Error(re(280));var t=e.stateNode;t&&(t=uu(t),Tf(e.stateNode,e.type,t))}}function ky(e){gs?_s?_s.push(e):_s=[e]:gs=e}function by(){if(gs){var e=gs,t=_s;if(_s=gs=null,Xm(e),t)for(e=0;e<t.length;e++)Xm(t[e])}}function Cy(e,t){return e(t)}function Ey(){}var Gu=!1;function Ay(e,t,n){if(Gu)return e(t,n);Gu=!0;try{return Cy(e,t,n)}finally{Gu=!1,(gs!==null||_s!==null)&&(Ey(),by())}}function Xo(e,t){var n=e.stateNode;if(n===null)return null;var r=uu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var Df=!1;if(mr)try{var to={};Object.defineProperty(to,"passive",{get:function(){Df=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Df=!1}function Ob(e,t,n,r,i,s,l,o,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Mo=!1,gc=null,_c=!1,Lf=null,Pb={onError:function(e){Mo=!0,gc=e}};function Bb(e,t,n,r,i,s,l,o,a){Mo=!1,gc=null,Ob.apply(Pb,arguments)}function Fb(e,t,n,r,i,s,l,o,a){if(Bb.apply(this,arguments),Mo){if(Mo){var c=gc;Mo=!1,gc=null}else throw Error(re(198));_c||(_c=!0,Lf=c)}}function zi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ty(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zm(e){if(zi(e)!==e)throw Error(re(188))}function zb(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zm(i),e;if(s===r)return Zm(i),t;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function Dy(e){return e=zb(e),e!==null?Ly(e):null}function Ly(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ly(e);if(t!==null)return t;e=e.sibling}return null}var Ry=cn.unstable_scheduleCallback,Qm=cn.unstable_cancelCallback,jb=cn.unstable_shouldYield,Hb=cn.unstable_requestPaint,it=cn.unstable_now,$b=cn.unstable_getCurrentPriorityLevel,cp=cn.unstable_ImmediatePriority,Ny=cn.unstable_UserBlockingPriority,vc=cn.unstable_NormalPriority,Ub=cn.unstable_LowPriority,Iy=cn.unstable_IdlePriority,ou=null,Gn=null;function Wb(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(ou,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Yb,Vb=Math.log,Kb=Math.LN2;function Yb(e){return e>>>=0,e===0?32:31-(Vb(e)/Kb|0)|0}var pa=64,ma=4194304;function Co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~i;o!==0?r=Co(o):(s&=l,s!==0&&(r=Co(s)))}else l=n&~i,l!==0?r=Co(l):s!==0&&(r=Co(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-On(t),i=1<<n,r|=e[n],t&=~i;return r}function qb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-On(s),o=1<<l,a=i[l];a===-1?(!(o&n)||o&r)&&(i[l]=qb(o,t)):a<=t&&(e.expiredLanes|=o),s&=~o}}function Rf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function My(){var e=pa;return pa<<=1,!(pa&4194240)&&(pa=64),e}function Xu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function Xb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-On(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function up(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-On(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function Oy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Py,hp,By,Fy,zy,Nf=!1,ga=[],$r=null,Ur=null,Wr=null,Zo=new Map,Qo=new Map,Or=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jm(e,t){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(t.pointerId)}}function no(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Fl(t),t!==null&&hp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Qb(e,t,n,r,i){switch(t){case"focusin":return $r=no($r,e,t,n,r,i),!0;case"dragenter":return Ur=no(Ur,e,t,n,r,i),!0;case"mouseover":return Wr=no(Wr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zo.set(s,no(Zo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qo.set(s,no(Qo.get(s)||null,e,t,n,r,i)),!0}return!1}function jy(e){var t=mi(e.target);if(t!==null){var n=zi(t);if(n!==null){if(t=n.tag,t===13){if(t=Ty(n),t!==null){e.blockedOn=t,zy(e.priority,function(){By(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=If(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Af=r,n.target.dispatchEvent(r),Af=null}else return t=Fl(n),t!==null&&hp(t),e.blockedOn=n,!1;t.shift()}return!0}function eg(e,t,n){Xa(e)&&n.delete(t)}function Jb(){Nf=!1,$r!==null&&Xa($r)&&($r=null),Ur!==null&&Xa(Ur)&&(Ur=null),Wr!==null&&Xa(Wr)&&(Wr=null),Zo.forEach(eg),Qo.forEach(eg)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Nf||(Nf=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,Jb)))}function Jo(e){function t(i){return ro(i,e)}if(0<ga.length){ro(ga[0],e);for(var n=1;n<ga.length;n++){var r=ga[n];r.blockedOn===e&&(r.blockedOn=null)}}for($r!==null&&ro($r,e),Ur!==null&&ro(Ur,e),Wr!==null&&ro(Wr,e),Zo.forEach(t),Qo.forEach(t),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)jy(n),n.blockedOn===null&&Or.shift()}var vs=xr.ReactCurrentBatchConfig,wc=!0;function eC(e,t,n,r){var i=Pe,s=vs.transition;vs.transition=null;try{Pe=1,fp(e,t,n,r)}finally{Pe=i,vs.transition=s}}function tC(e,t,n,r){var i=Pe,s=vs.transition;vs.transition=null;try{Pe=4,fp(e,t,n,r)}finally{Pe=i,vs.transition=s}}function fp(e,t,n,r){if(wc){var i=If(e,t,n,r);if(i===null)oh(e,t,r,Sc,n),Jm(e,r);else if(Qb(i,e,t,n,r))r.stopPropagation();else if(Jm(e,r),t&4&&-1<Zb.indexOf(e)){for(;i!==null;){var s=Fl(i);if(s!==null&&Py(s),s=If(e,t,n,r),s===null&&oh(e,t,r,Sc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else oh(e,t,r,null,n)}}var Sc=null;function If(e,t,n,r){if(Sc=null,e=ap(r),e=mi(e),e!==null)if(t=zi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ty(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sc=e,null}function Hy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($b()){case cp:return 1;case Ny:return 4;case vc:case Ub:return 16;case Iy:return 536870912;default:return 16}default:return 16}}var zr=null,dp=null,Za=null;function $y(){if(Za)return Za;var e,t=dp,n=t.length,r,i="value"in zr?zr.value:zr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[s-r];r++);return Za=i.slice(e,1<r?1-r:void 0)}function Qa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function tg(){return!1}function fn(e){function t(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_a:tg,this.isPropagationStopped=tg,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pp=fn(Us),Bl=Ze({},Us,{view:0,detail:0}),nC=fn(Bl),Zu,Qu,io,lu=Ze({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(Zu=e.screenX-io.screenX,Qu=e.screenY-io.screenY):Qu=Zu=0,io=e),Zu)},movementY:function(e){return"movementY"in e?e.movementY:Qu}}),ng=fn(lu),rC=Ze({},lu,{dataTransfer:0}),iC=fn(rC),sC=Ze({},Bl,{relatedTarget:0}),Ju=fn(sC),oC=Ze({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),lC=fn(oC),aC=Ze({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cC=fn(aC),uC=Ze({},Us,{data:0}),rg=fn(uC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dC[e])?!!t[e]:!1}function mp(){return pC}var mC=Ze({},Bl,{key:function(e){if(e.key){var t=hC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mp,charCode:function(e){return e.type==="keypress"?Qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gC=fn(mC),_C=Ze({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=fn(_C),vC=Ze({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mp}),yC=fn(vC),wC=Ze({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),SC=fn(wC),xC=Ze({},lu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kC=fn(xC),bC=[9,13,27,32],gp=mr&&"CompositionEvent"in window,Oo=null;mr&&"documentMode"in document&&(Oo=document.documentMode);var CC=mr&&"TextEvent"in window&&!Oo,Uy=mr&&(!gp||Oo&&8<Oo&&11>=Oo),sg=" ",og=!1;function Wy(e,t){switch(e){case"keyup":return bC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function EC(e,t){switch(e){case"compositionend":return Vy(t);case"keypress":return t.which!==32?null:(og=!0,sg);case"textInput":return e=t.data,e===sg&&og?null:e;default:return null}}function AC(e,t){if(ns)return e==="compositionend"||!gp&&Wy(e,t)?(e=$y(),Za=dp=zr=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uy&&t.locale!=="ko"?null:t.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TC[e.type]:t==="textarea"}function Ky(e,t,n,r){ky(r),t=xc(t,"onChange"),0<t.length&&(n=new pp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Po=null,el=null;function DC(e){r1(e,0)}function au(e){var t=ss(e);if(gy(t))return e}function LC(e,t){if(e==="change")return t}var Yy=!1;if(mr){var eh;if(mr){var th="oninput"in document;if(!th){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),th=typeof ag.oninput=="function"}eh=th}else eh=!1;Yy=eh&&(!document.documentMode||9<document.documentMode)}function cg(){Po&&(Po.detachEvent("onpropertychange",qy),el=Po=null)}function qy(e){if(e.propertyName==="value"&&au(el)){var t=[];Ky(t,el,e,ap(e)),Ay(DC,t)}}function RC(e,t,n){e==="focusin"?(cg(),Po=t,el=n,Po.attachEvent("onpropertychange",qy)):e==="focusout"&&cg()}function NC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(el)}function IC(e,t){if(e==="click")return au(t)}function MC(e,t){if(e==="input"||e==="change")return au(t)}function OC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:OC;function tl(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mf.call(t,i)||!zn(e[i],t[i]))return!1}return!0}function ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,t){var n=ug(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ug(n)}}function Gy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xy(){for(var e=window,t=mc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mc(e.document)}return t}function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PC(e){var t=Xy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gy(n.ownerDocument.documentElement,n)){if(r!==null&&_p(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=hg(n,s);var l=hg(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BC=mr&&"documentMode"in document&&11>=document.documentMode,rs=null,Mf=null,Bo=null,Of=!1;function fg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Of||rs==null||rs!==mc(r)||(r=rs,"selectionStart"in r&&_p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bo&&tl(Bo,r)||(Bo=r,r=xc(Mf,"onSelect"),0<r.length&&(t=new pp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rs)))}function va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var is={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},nh={},Zy={};mr&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function cu(e){if(nh[e])return nh[e];if(!is[e])return e;var t=is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zy)return nh[e]=t[n];return e}var Qy=cu("animationend"),Jy=cu("animationiteration"),e1=cu("animationstart"),t1=cu("transitionend"),n1=new Map,dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){n1.set(e,t),Fi(t,[e])}for(var rh=0;rh<dg.length;rh++){var ih=dg[rh],FC=ih.toLowerCase(),zC=ih[0].toUpperCase()+ih.slice(1);si(FC,"on"+zC)}si(Qy,"onAnimationEnd");si(Jy,"onAnimationIteration");si(e1,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(t1,"onTransitionEnd");Es("onMouseEnter",["mouseout","mouseover"]);Es("onMouseLeave",["mouseout","mouseover"]);Es("onPointerEnter",["pointerout","pointerover"]);Es("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function pg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fb(r,t,void 0,e),e.currentTarget=null}function r1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],a=o.instance,c=o.currentTarget;if(o=o.listener,a!==s&&i.isPropagationStopped())break e;pg(i,o,c),s=a}else for(l=0;l<r.length;l++){if(o=r[l],a=o.instance,c=o.currentTarget,o=o.listener,a!==s&&i.isPropagationStopped())break e;pg(i,o,c),s=a}}}if(_c)throw e=Lf,_c=!1,Lf=null,e}function We(e,t){var n=t[jf];n===void 0&&(n=t[jf]=new Set);var r=e+"__bubble";n.has(r)||(i1(t,e,2,!1),n.add(r))}function sh(e,t,n){var r=0;t&&(r|=4),i1(n,e,r,t)}var ya="_reactListening"+Math.random().toString(36).slice(2);function nl(e){if(!e[ya]){e[ya]=!0,hy.forEach(function(n){n!=="selectionchange"&&(jC.has(n)||sh(n,!1,e),sh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ya]||(t[ya]=!0,sh("selectionchange",!1,t))}}function i1(e,t,n,r){switch(Hy(t)){case 1:var i=eC;break;case 4:i=tC;break;default:i=fp}n=i.bind(null,t,n,e),i=void 0,!Df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function oh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;o!==null;){if(l=mi(o),l===null)return;if(a=l.tag,a===5||a===6){r=s=l;continue e}o=o.parentNode}}r=r.return}Ay(function(){var c=s,h=ap(n),u=[];e:{var p=n1.get(e);if(p!==void 0){var m=pp,y=e;switch(e){case"keypress":if(Qa(n)===0)break e;case"keydown":case"keyup":m=gC;break;case"focusin":y="focus",m=Ju;break;case"focusout":y="blur",m=Ju;break;case"beforeblur":case"afterblur":m=Ju;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yC;break;case Qy:case Jy:case e1:m=lC;break;case t1:m=SC;break;case"scroll":m=nC;break;case"wheel":m=kC;break;case"copy":case"cut":case"paste":m=cC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ig}var w=(t&4)!==0,g=!w&&e==="scroll",f=w?p!==null?p+"Capture":null:p;w=[];for(var d=c,_;d!==null;){_=d;var v=_.stateNode;if(_.tag===5&&v!==null&&(_=v,f!==null&&(v=Xo(d,f),v!=null&&w.push(rl(d,v,_)))),g)break;d=d.return}0<w.length&&(p=new m(p,y,null,n,h),u.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Af&&(y=n.relatedTarget||n.fromElement)&&(mi(y)||y[gr]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?mi(y):null,y!==null&&(g=zi(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=ng,v="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=ig,v="onPointerLeave",f="onPointerEnter",d="pointer"),g=m==null?p:ss(m),_=y==null?p:ss(y),p=new w(v,d+"leave",m,n,h),p.target=g,p.relatedTarget=_,v=null,mi(h)===c&&(w=new w(f,d+"enter",y,n,h),w.target=_,w.relatedTarget=g,v=w),g=v,m&&y)t:{for(w=m,f=y,d=0,_=w;_;_=Ui(_))d++;for(_=0,v=f;v;v=Ui(v))_++;for(;0<d-_;)w=Ui(w),d--;for(;0<_-d;)f=Ui(f),_--;for(;d--;){if(w===f||f!==null&&w===f.alternate)break t;w=Ui(w),f=Ui(f)}w=null}else w=null;m!==null&&mg(u,p,m,w,!1),y!==null&&g!==null&&mg(u,g,y,w,!0)}}e:{if(p=c?ss(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=LC;else if(lg(p))if(Yy)S=MC;else{S=NC;var k=RC}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=IC);if(S&&(S=S(e,c))){Ky(u,S,n,h);break e}k&&k(e,p,c),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&xf(p,"number",p.value)}switch(k=c?ss(c):window,e){case"focusin":(lg(k)||k.contentEditable==="true")&&(rs=k,Mf=c,Bo=null);break;case"focusout":Bo=Mf=rs=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,fg(u,n,h);break;case"selectionchange":if(BC)break;case"keydown":case"keyup":fg(u,n,h)}var b;if(gp)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ns?Wy(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Uy&&n.locale!=="ko"&&(ns||x!=="onCompositionStart"?x==="onCompositionEnd"&&ns&&(b=$y()):(zr=h,dp="value"in zr?zr.value:zr.textContent,ns=!0)),k=xc(c,x),0<k.length&&(x=new rg(x,e,null,n,h),u.push({event:x,listeners:k}),b?x.data=b:(b=Vy(n),b!==null&&(x.data=b)))),(b=CC?EC(e,n):AC(e,n))&&(c=xc(c,"onBeforeInput"),0<c.length&&(h=new rg("onBeforeInput","beforeinput",null,n,h),u.push({event:h,listeners:c}),h.data=b))}r1(u,t)})}function rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xo(e,n),s!=null&&r.unshift(rl(e,s,i)),s=Xo(e,t),s!=null&&r.push(rl(e,s,i))),e=e.return}return r}function Ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mg(e,t,n,r,i){for(var s=t._reactName,l=[];n!==null&&n!==r;){var o=n,a=o.alternate,c=o.stateNode;if(a!==null&&a===r)break;o.tag===5&&c!==null&&(o=c,i?(a=Xo(n,s),a!=null&&l.unshift(rl(n,a,o))):i||(a=Xo(n,s),a!=null&&l.push(rl(n,a,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var HC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function gg(e){return(typeof e=="string"?e:""+e).replace(HC,`
`).replace($C,"")}function wa(e,t,n){if(t=gg(t),gg(e)!==t&&n)throw Error(re(425))}function kc(){}var Pf=null,Bf=null;function Ff(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zf=typeof setTimeout=="function"?setTimeout:void 0,UC=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(VC)}:zf;function VC(e){setTimeout(function(){throw e})}function lh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jo(t)}function Vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ws,il="__reactProps$"+Ws,gr="__reactContainer$"+Ws,jf="__reactEvents$"+Ws,KC="__reactListeners$"+Ws,YC="__reactHandles$"+Ws;function mi(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vg(e);e!==null;){if(n=e[Yn])return n;e=vg(e)}return t}e=n,n=e.parentNode}return null}function Fl(e){return e=e[Yn]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function uu(e){return e[il]||null}var Hf=[],os=-1;function oi(e){return{current:e}}function Ve(e){0>os||(e.current=Hf[os],Hf[os]=null,os--)}function He(e,t){os++,Hf[os]=e.current,e.current=t}var ni={},Rt=oi(ni),Xt=oi(!1),Ti=ni;function As(e,t){var n=e.type.contextTypes;if(!n)return ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function bc(){Ve(Xt),Ve(Rt)}function yg(e,t,n){if(Rt.current!==ni)throw Error(re(168));He(Rt,t),He(Xt,n)}function s1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(re(108,Rb(e)||"Unknown",i));return Ze({},n,r)}function Cc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ni,Ti=Rt.current,He(Rt,e),He(Xt,Xt.current),!0}function wg(e,t,n){var r=e.stateNode;if(!r)throw Error(re(169));n?(e=s1(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Ve(Xt),Ve(Rt),He(Rt,e)):Ve(Xt),He(Xt,n)}var lr=null,hu=!1,ah=!1;function o1(e){lr===null?lr=[e]:lr.push(e)}function qC(e){hu=!0,o1(e)}function li(){if(!ah&&lr!==null){ah=!0;var e=0,t=Pe;try{var n=lr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lr=null,hu=!1}catch(i){throw lr!==null&&(lr=lr.slice(e+1)),Ry(cp,li),i}finally{Pe=t,ah=!1}}return null}var ls=[],as=0,Ec=null,Ac=0,mn=[],gn=0,Di=null,ur=1,hr="";function ui(e,t){ls[as++]=Ac,ls[as++]=Ec,Ec=e,Ac=t}function l1(e,t,n){mn[gn++]=ur,mn[gn++]=hr,mn[gn++]=Di,Di=e;var r=ur;e=hr;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(t)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ur=1<<32-On(t)+i|n<<i|r,hr=s+e}else ur=1<<s|n<<i|r,hr=e}function vp(e){e.return!==null&&(ui(e,1),l1(e,1,0))}function yp(e){for(;e===Ec;)Ec=ls[--as],ls[as]=null,Ac=ls[--as],ls[as]=null;for(;e===Di;)Di=mn[--gn],mn[gn]=null,hr=mn[--gn],mn[gn]=null,ur=mn[--gn],mn[gn]=null}var ln=null,sn=null,Ye=!1,In=null;function a1(e,t){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,sn=Vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Di!==null?{id:ur,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ln=e,sn=null,!0):!1;default:return!1}}function $f(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uf(e){if(Ye){var t=sn;if(t){var n=t;if(!Sg(e,t)){if($f(e))throw Error(re(418));t=Vr(n.nextSibling);var r=ln;t&&Sg(e,t)?a1(r,n):(e.flags=e.flags&-4097|2,Ye=!1,ln=e)}}else{if($f(e))throw Error(re(418));e.flags=e.flags&-4097|2,Ye=!1,ln=e}}}function xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function Sa(e){if(e!==ln)return!1;if(!Ye)return xg(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ff(e.type,e.memoizedProps)),t&&(t=sn)){if($f(e))throw c1(),Error(re(418));for(;t;)a1(e,t),t=Vr(t.nextSibling)}if(xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sn=Vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=ln?Vr(e.stateNode.nextSibling):null;return!0}function c1(){for(var e=sn;e;)e=Vr(e.nextSibling)}function Ts(){sn=ln=null,Ye=!1}function wp(e){In===null?In=[e]:In.push(e)}var GC=xr.ReactCurrentBatchConfig;function so(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var o=i.refs;l===null?delete o[s]:o[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kg(e){var t=e._init;return t(e._payload)}function u1(e){function t(f,d){if(e){var _=f.deletions;_===null?(f.deletions=[d],f.flags|=16):_.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function i(f,d){return f=Gr(f,d),f.index=0,f.sibling=null,f}function s(f,d,_){return f.index=_,e?(_=f.alternate,_!==null?(_=_.index,_<d?(f.flags|=2,d):_):(f.flags|=2,d)):(f.flags|=1048576,d)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,d,_,v){return d===null||d.tag!==6?(d=mh(_,f.mode,v),d.return=f,d):(d=i(d,_),d.return=f,d)}function a(f,d,_,v){var S=_.type;return S===ts?h(f,d,_.props.children,v,_.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rr&&kg(S)===d.type)?(v=i(d,_.props),v.ref=so(f,d,_),v.return=f,v):(v=sc(_.type,_.key,_.props,null,f.mode,v),v.ref=so(f,d,_),v.return=f,v)}function c(f,d,_,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==_.containerInfo||d.stateNode.implementation!==_.implementation?(d=gh(_,f.mode,v),d.return=f,d):(d=i(d,_.children||[]),d.return=f,d)}function h(f,d,_,v,S){return d===null||d.tag!==7?(d=bi(_,f.mode,v,S),d.return=f,d):(d=i(d,_),d.return=f,d)}function u(f,d,_){if(typeof d=="string"&&d!==""||typeof d=="number")return d=mh(""+d,f.mode,_),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ha:return _=sc(d.type,d.key,d.props,null,f.mode,_),_.ref=so(f,null,d),_.return=f,_;case es:return d=gh(d,f.mode,_),d.return=f,d;case Rr:var v=d._init;return u(f,v(d._payload),_)}if(bo(d)||eo(d))return d=bi(d,f.mode,_,null),d.return=f,d;xa(f,d)}return null}function p(f,d,_,v){var S=d!==null?d.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(f,d,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ha:return _.key===S?a(f,d,_,v):null;case es:return _.key===S?c(f,d,_,v):null;case Rr:return S=_._init,p(f,d,S(_._payload),v)}if(bo(_)||eo(_))return S!==null?null:h(f,d,_,v,null);xa(f,_)}return null}function m(f,d,_,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(_)||null,o(d,f,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ha:return f=f.get(v.key===null?_:v.key)||null,a(d,f,v,S);case es:return f=f.get(v.key===null?_:v.key)||null,c(d,f,v,S);case Rr:var k=v._init;return m(f,d,_,k(v._payload),S)}if(bo(v)||eo(v))return f=f.get(_)||null,h(d,f,v,S,null);xa(d,v)}return null}function y(f,d,_,v){for(var S=null,k=null,b=d,x=d=0,C=null;b!==null&&x<_.length;x++){b.index>x?(C=b,b=null):C=b.sibling;var A=p(f,b,_[x],v);if(A===null){b===null&&(b=C);break}e&&b&&A.alternate===null&&t(f,b),d=s(A,d,x),k===null?S=A:k.sibling=A,k=A,b=C}if(x===_.length)return n(f,b),Ye&&ui(f,x),S;if(b===null){for(;x<_.length;x++)b=u(f,_[x],v),b!==null&&(d=s(b,d,x),k===null?S=b:k.sibling=b,k=b);return Ye&&ui(f,x),S}for(b=r(f,b);x<_.length;x++)C=m(b,f,x,_[x],v),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?x:C.key),d=s(C,d,x),k===null?S=C:k.sibling=C,k=C);return e&&b.forEach(function(N){return t(f,N)}),Ye&&ui(f,x),S}function w(f,d,_,v){var S=eo(_);if(typeof S!="function")throw Error(re(150));if(_=S.call(_),_==null)throw Error(re(151));for(var k=S=null,b=d,x=d=0,C=null,A=_.next();b!==null&&!A.done;x++,A=_.next()){b.index>x?(C=b,b=null):C=b.sibling;var N=p(f,b,A.value,v);if(N===null){b===null&&(b=C);break}e&&b&&N.alternate===null&&t(f,b),d=s(N,d,x),k===null?S=N:k.sibling=N,k=N,b=C}if(A.done)return n(f,b),Ye&&ui(f,x),S;if(b===null){for(;!A.done;x++,A=_.next())A=u(f,A.value,v),A!==null&&(d=s(A,d,x),k===null?S=A:k.sibling=A,k=A);return Ye&&ui(f,x),S}for(b=r(f,b);!A.done;x++,A=_.next())A=m(b,f,x,A.value,v),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?x:A.key),d=s(A,d,x),k===null?S=A:k.sibling=A,k=A);return e&&b.forEach(function(I){return t(f,I)}),Ye&&ui(f,x),S}function g(f,d,_,v){if(typeof _=="object"&&_!==null&&_.type===ts&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ha:e:{for(var S=_.key,k=d;k!==null;){if(k.key===S){if(S=_.type,S===ts){if(k.tag===7){n(f,k.sibling),d=i(k,_.props.children),d.return=f,f=d;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rr&&kg(S)===k.type){n(f,k.sibling),d=i(k,_.props),d.ref=so(f,k,_),d.return=f,f=d;break e}n(f,k);break}else t(f,k);k=k.sibling}_.type===ts?(d=bi(_.props.children,f.mode,v,_.key),d.return=f,f=d):(v=sc(_.type,_.key,_.props,null,f.mode,v),v.ref=so(f,d,_),v.return=f,f=v)}return l(f);case es:e:{for(k=_.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===_.containerInfo&&d.stateNode.implementation===_.implementation){n(f,d.sibling),d=i(d,_.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=gh(_,f.mode,v),d.return=f,f=d}return l(f);case Rr:return k=_._init,g(f,d,k(_._payload),v)}if(bo(_))return y(f,d,_,v);if(eo(_))return w(f,d,_,v);xa(f,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,d!==null&&d.tag===6?(n(f,d.sibling),d=i(d,_),d.return=f,f=d):(n(f,d),d=mh(_,f.mode,v),d.return=f,f=d),l(f)):n(f,d)}return g}var Ds=u1(!0),h1=u1(!1),Tc=oi(null),Dc=null,cs=null,Sp=null;function xp(){Sp=cs=Dc=null}function kp(e){var t=Tc.current;Ve(Tc),e._currentValue=t}function Wf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ys(e,t){Dc=e,Sp=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function kn(e){var t=e._currentValue;if(Sp!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(Dc===null)throw Error(re(308));cs=e,Dc.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var gi=null;function bp(e){gi===null?gi=[e]:gi.push(e)}function f1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,bp(t)):(n.next=i.next,i.next=n),t.interleaved=n,_r(e,r)}function _r(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nr=!1;function Cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_r(e,n)}return i=r.interleaved,i===null?(t.next=t,bp(r)):(t.next=i.next,i.next=t),r.interleaved=t,_r(e,n)}function Ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,up(e,n)}}function bg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lc(e,t,n,r){var i=e.updateQueue;Nr=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var a=o,c=a.next;a.next=null,l===null?s=c:l.next=c,l=a;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=a))}if(s!==null){var u=i.baseState;l=0,h=c=a=null,o=s;do{var p=o.lane,m=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(p=t,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){u=y.call(m,u,p);break e}u=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,u,p):y,p==null)break e;u=Ze({},u,p);break e;case 2:Nr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,a=u):h=h.next=m,l|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(a=u),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ri|=l,e.lanes=l,e.memoizedState=u}}function Cg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var zl={},Xn=oi(zl),sl=oi(zl),ol=oi(zl);function _i(e){if(e===zl)throw Error(re(174));return e}function Ep(e,t){switch(He(ol,t),He(sl,e),He(Xn,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bf(t,e)}Ve(Xn),He(Xn,t)}function Ls(){Ve(Xn),Ve(sl),Ve(ol)}function p1(e){_i(ol.current);var t=_i(Xn.current),n=bf(t,e.type);t!==n&&(He(sl,e),He(Xn,n))}function Ap(e){sl.current===e&&(Ve(Xn),Ve(sl))}var Ge=oi(0);function Rc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ch=[];function Tp(){for(var e=0;e<ch.length;e++)ch[e]._workInProgressVersionPrimary=null;ch.length=0}var ec=xr.ReactCurrentDispatcher,uh=xr.ReactCurrentBatchConfig,Li=0,Xe=null,ht=null,_t=null,Nc=!1,Fo=!1,ll=0,XC=0;function Et(){throw Error(re(321))}function Dp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zn(e[n],t[n]))return!1;return!0}function Lp(e,t,n,r,i,s){if(Li=s,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ec.current=e===null||e.memoizedState===null?eE:tE,e=n(r,i),Fo){s=0;do{if(Fo=!1,ll=0,25<=s)throw Error(re(301));s+=1,_t=ht=null,t.updateQueue=null,ec.current=nE,e=n(r,i)}while(Fo)}if(ec.current=Ic,t=ht!==null&&ht.next!==null,Li=0,_t=ht=Xe=null,Nc=!1,t)throw Error(re(300));return e}function Rp(){var e=ll!==0;return ll=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=e:_t=_t.next=e,_t}function bn(){if(ht===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=_t===null?Xe.memoizedState:_t.next;if(t!==null)_t=t,ht=e;else{if(e===null)throw Error(re(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Xe.memoizedState=_t=e:_t=_t.next=e}return _t}function al(e,t){return typeof t=="function"?t(e):t}function hh(e){var t=bn(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=l=null,a=null,c=s;do{var h=c.lane;if((Li&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(o=a=u,l=r):a=a.next=u,Xe.lanes|=h,Ri|=h}c=c.next}while(c!==null&&c!==s);a===null?l=r:a.next=o,zn(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Xe.lanes|=s,Ri|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fh(e){var t=bn(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);zn(s,t.memoizedState)||(Kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function m1(){}function g1(e,t){var n=Xe,r=bn(),i=t(),s=!zn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,Np(y1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,cl(9,v1.bind(null,n,r,i,t),void 0,null),vt===null)throw Error(re(349));Li&30||_1(n,t,i)}return i}function _1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function v1(e,t,n,r){t.value=n,t.getSnapshot=r,w1(t)&&S1(e)}function y1(e,t,n){return n(function(){w1(t)&&S1(e)})}function w1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zn(e,n)}catch{return!0}}function S1(e){var t=_r(e,1);t!==null&&Pn(t,e,1,-1)}function Eg(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t.queue=e,e=e.dispatch=JC.bind(null,Xe,e),[t.memoizedState,e]}function cl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function x1(){return bn().memoizedState}function tc(e,t,n,r){var i=Vn();Xe.flags|=e,i.memoizedState=cl(1|t,n,void 0,r===void 0?null:r)}function fu(e,t,n,r){var i=bn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var l=ht.memoizedState;if(s=l.destroy,r!==null&&Dp(r,l.deps)){i.memoizedState=cl(t,n,s,r);return}}Xe.flags|=e,i.memoizedState=cl(1|t,n,s,r)}function Ag(e,t){return tc(8390656,8,e,t)}function Np(e,t){return fu(2048,8,e,t)}function k1(e,t){return fu(4,2,e,t)}function b1(e,t){return fu(4,4,e,t)}function C1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E1(e,t,n){return n=n!=null?n.concat([e]):null,fu(4,4,C1.bind(null,t,e),n)}function Ip(){}function A1(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function T1(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function D1(e,t,n){return Li&21?(zn(n,t)||(n=My(),Xe.lanes|=n,Ri|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function ZC(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=uh.transition;uh.transition={};try{e(!1),t()}finally{Pe=n,uh.transition=r}}function L1(){return bn().memoizedState}function QC(e,t,n){var r=qr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R1(e))N1(t,n);else if(n=f1(e,t,n,r),n!==null){var i=Ft();Pn(n,e,r,i),I1(n,t,r)}}function JC(e,t,n){var r=qr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R1(e))N1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,o=s(l,n);if(i.hasEagerState=!0,i.eagerState=o,zn(o,l)){var a=t.interleaved;a===null?(i.next=i,bp(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=f1(e,t,i,r),n!==null&&(i=Ft(),Pn(n,e,r,i),I1(n,t,r))}}function R1(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function N1(e,t){Fo=Nc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function I1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,up(e,n)}}var Ic={readContext:kn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},eE={readContext:kn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:kn,useEffect:Ag,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tc(4194308,4,C1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return tc(4,2,e,t)},useMemo:function(e,t){var n=Vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=QC.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:Eg,useDebugValue:Ip,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=Eg(!1),t=e[0];return e=ZC.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=Vn();if(Ye){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),vt===null)throw Error(re(349));Li&30||_1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ag(y1.bind(null,r,s,e),[e]),r.flags|=2048,cl(9,v1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Vn(),t=vt.identifierPrefix;if(Ye){var n=hr,r=ur;n=(r&~(1<<32-On(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tE={readContext:kn,useCallback:A1,useContext:kn,useEffect:Np,useImperativeHandle:E1,useInsertionEffect:k1,useLayoutEffect:b1,useMemo:T1,useReducer:hh,useRef:x1,useState:function(){return hh(al)},useDebugValue:Ip,useDeferredValue:function(e){var t=bn();return D1(t,ht.memoizedState,e)},useTransition:function(){var e=hh(al)[0],t=bn().memoizedState;return[e,t]},useMutableSource:m1,useSyncExternalStore:g1,useId:L1,unstable_isNewReconciler:!1},nE={readContext:kn,useCallback:A1,useContext:kn,useEffect:Np,useImperativeHandle:E1,useInsertionEffect:k1,useLayoutEffect:b1,useMemo:T1,useReducer:fh,useRef:x1,useState:function(){return fh(al)},useDebugValue:Ip,useDeferredValue:function(e){var t=bn();return ht===null?t.memoizedState=e:D1(t,ht.memoizedState,e)},useTransition:function(){var e=fh(al)[0],t=bn().memoizedState;return[e,t]},useMutableSource:m1,useSyncExternalStore:g1,useId:L1,unstable_isNewReconciler:!1};function Ln(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var du={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ft(),i=qr(e),s=dr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Kr(e,s,i),t!==null&&(Pn(t,e,i,r),Ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ft(),i=qr(e),s=dr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Kr(e,s,i),t!==null&&(Pn(t,e,i,r),Ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),r=qr(e),i=dr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kr(e,i,r),t!==null&&(Pn(t,e,r,n),Ja(t,e,r))}};function Tg(e,t,n,r,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!tl(n,r)||!tl(i,s):!0}function M1(e,t,n){var r=!1,i=ni,s=t.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=Zt(t)?Ti:Rt.current,r=t.contextTypes,s=(r=r!=null)?As(e,i):ni),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=du,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Dg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function Kf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Cp(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=Zt(t)?Ti:Rt.current,i.context=As(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Vf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&du.enqueueReplaceState(i,i.state,null),Lc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var n="",r=t;do n+=Lb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function dh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function O1(e,t,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oc||(Oc=!0,rd=r),Yf(e,t)},n}function P1(e,t,n){n=dr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Yf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yf(e,t),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Lg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_E.bind(null,e,t,n),t.then(e,e))}function Rg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ng(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dr(-1,1),t.tag=2,Kr(n,t,1))),n.lanes|=1),e)}var iE=xr.ReactCurrentOwner,Kt=!1;function Ot(e,t,n,r){t.child=e===null?h1(t,null,n,r):Ds(t,e.child,n,r)}function Ig(e,t,n,r,i){n=n.render;var s=t.ref;return ys(t,i),r=Lp(e,t,n,r,s,i),n=Rp(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vr(e,t,i)):(Ye&&n&&vp(t),t.flags|=1,Ot(e,t,r,i),t.child)}function Mg(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Hp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,B1(e,t,s,r,i)):(e=sc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(l,r)&&e.ref===t.ref)return vr(e,t,i)}return t.flags|=1,e=Gr(s,r),e.ref=t.ref,e.return=t,t.child=e}function B1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(tl(s,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,vr(e,t,i)}return qf(e,t,n,r,i)}function F1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(hs,rn),rn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(hs,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(hs,rn),rn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,He(hs,rn),rn|=r;return Ot(e,t,i,n),t.child}function z1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qf(e,t,n,r,i){var s=Zt(n)?Ti:Rt.current;return s=As(t,s),ys(t,i),n=Lp(e,t,n,r,s,i),r=Rp(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vr(e,t,i)):(Ye&&r&&vp(t),t.flags|=1,Ot(e,t,n,i),t.child)}function Og(e,t,n,r,i){if(Zt(n)){var s=!0;Cc(t)}else s=!1;if(ys(t,i),t.stateNode===null)nc(e,t),M1(t,n,r),Kf(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var a=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=Zt(n)?Ti:Rt.current,c=As(t,c));var h=n.getDerivedStateFromProps,u=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||a!==c)&&Dg(t,l,r,c),Nr=!1;var p=t.memoizedState;l.state=p,Lc(t,r,l,i),a=t.memoizedState,o!==r||p!==a||Xt.current||Nr?(typeof h=="function"&&(Vf(t,n,h,r),a=t.memoizedState),(o=Nr||Tg(t,n,o,r,p,a,c))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=c,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,d1(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ln(t.type,o),l.props=c,u=t.pendingProps,p=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=kn(a):(a=Zt(n)?Ti:Rt.current,a=As(t,a));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==u||p!==a)&&Dg(t,l,r,a),Nr=!1,p=t.memoizedState,l.state=p,Lc(t,r,l,i);var y=t.memoizedState;o!==u||p!==y||Xt.current||Nr?(typeof m=="function"&&(Vf(t,n,m,r),y=t.memoizedState),(c=Nr||Tg(t,n,c,r,p,y,a)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),l.props=r,l.state=y,l.context=a,r=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Gf(e,t,n,r,s,i)}function Gf(e,t,n,r,i,s){z1(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&wg(t,n,!1),vr(e,t,s);r=t.stateNode,iE.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ds(t,e.child,null,s),t.child=Ds(t,null,o,s)):Ot(e,t,o,s),t.memoizedState=r.state,i&&wg(t,n,!0),t.child}function j1(e){var t=e.stateNode;t.pendingContext?yg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yg(e,t.context,!1),Ep(e,t.containerInfo)}function Pg(e,t,n,r,i){return Ts(),wp(i),t.flags|=256,Ot(e,t,n,r),t.child}var Xf={dehydrated:null,treeContext:null,retryLane:0};function Zf(e){return{baseLanes:e,cachePool:null,transitions:null}}function H1(e,t,n){var r=t.pendingProps,i=Ge.current,s=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(Ge,i&1),e===null)return Uf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=gu(l,r,0,null),e=bi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Zf(n),t.memoizedState=Xf,e):Mp(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return sE(e,t,l,r,o,i,n);if(s){s=r.fallback,l=t.mode,i=e.child,o=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Gr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Gr(o,s):(s=bi(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Zf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Xf,r}return s=e.child,e=s.sibling,r=Gr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mp(e,t){return t=gu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ka(e,t,n,r){return r!==null&&wp(r),Ds(t,e.child,null,n),e=Mp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sE(e,t,n,r,i,s,l){if(n)return t.flags&256?(t.flags&=-257,r=dh(Error(re(422))),ka(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=gu({mode:"visible",children:r.children},i,0,null),s=bi(s,i,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ds(t,e.child,null,l),t.child.memoizedState=Zf(l),t.memoizedState=Xf,s);if(!(t.mode&1))return ka(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(re(419)),r=dh(s,r,void 0),ka(e,t,l,r)}if(o=(l&e.childLanes)!==0,Kt||o){if(r=vt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_r(e,i),Pn(r,e,i,-1))}return jp(),r=dh(Error(re(421))),ka(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vE.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,sn=Vr(i.nextSibling),ln=t,Ye=!0,In=null,e!==null&&(mn[gn++]=ur,mn[gn++]=hr,mn[gn++]=Di,ur=e.id,hr=e.overflow,Di=t),t=Mp(t,r.children),t.flags|=4096,t)}function Bg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wf(e.return,t,n)}function ph(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ot(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bg(e,n,t);else if(e.tag===19)Bg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Rc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ph(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Rc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ph(t,!0,n,null,s);break;case"together":ph(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ri|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=Gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oE(e,t,n){switch(t.tag){case 3:j1(t),Ts();break;case 5:p1(t);break;case 1:Zt(t.type)&&Cc(t);break;case 4:Ep(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;He(Tc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?H1(e,t,n):(He(Ge,Ge.current&1),e=vr(e,t,n),e!==null?e.sibling:null);He(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,F1(e,t,n)}return vr(e,t,n)}var U1,Qf,W1,V1;U1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qf=function(){};W1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_i(Xn.current);var s=null;switch(n){case"input":i=wf(e,i),r=wf(e,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=kf(e,i),r=kf(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kc)}Cf(n,r);var l;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==o&&(a!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qo.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&We("scroll",e),s||o===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};V1=function(e,t,n,r){n!==r&&(t.flags|=4)};function oo(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lE(e,t,n){var r=t.pendingProps;switch(yp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return Zt(t.type)&&bc(),At(t),null;case 3:return r=t.stateNode,Ls(),Ve(Xt),Ve(Rt),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,In!==null&&(od(In),In=null))),Qf(e,t),At(t),null;case 5:Ap(t);var i=_i(ol.current);if(n=t.type,e!==null&&t.stateNode!=null)W1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(re(166));return At(t),null}if(e=_i(Xn.current),Sa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yn]=t,r[il]=s,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Eo.length;i++)We(Eo[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":Km(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":qm(r,s),We("invalid",r)}Cf(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var o=s[l];l==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,o,e),i=["children",""+o]):qo.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&We("scroll",r)}switch(n){case"input":fa(r),Ym(r,s,!0);break;case"textarea":fa(r),Gm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Yn]=t,e[il]=r,U1(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ef(n,r),n){case"dialog":We("cancel",e),We("close",e),i=r;break;case"iframe":case"object":case"embed":We("load",e),i=r;break;case"video":case"audio":for(i=0;i<Eo.length;i++)We(Eo[i],e);i=r;break;case"source":We("error",e),i=r;break;case"img":case"image":case"link":We("error",e),We("load",e),i=r;break;case"details":We("toggle",e),i=r;break;case"input":Km(e,r),i=wf(e,r),We("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),We("invalid",e);break;case"textarea":qm(e,r),i=kf(e,r),We("invalid",e);break;default:i=r}Cf(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="style"?xy(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&wy(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Go(e,a):typeof a=="number"&&Go(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&We("scroll",e):a!=null&&ip(e,s,a,l))}switch(n){case"input":fa(e),Ym(e,r,!1);break;case"textarea":fa(e),Gm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ti(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ms(e,!!r.multiple,s,!1):r.defaultValue!=null&&ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)V1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(re(166));if(n=_i(ol.current),_i(Xn.current),Sa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(s=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:wa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return At(t),null;case 13:if(Ve(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&sn!==null&&t.mode&1&&!(t.flags&128))c1(),Ts(),t.flags|=98560,s=!1;else if(s=Sa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(re(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Yn]=t}else Ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),s=!1}else In!==null&&(od(In),In=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?dt===0&&(dt=3):jp())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return Ls(),Qf(e,t),e===null&&nl(t.stateNode.containerInfo),At(t),null;case 10:return kp(t.type._context),At(t),null;case 17:return Zt(t.type)&&bc(),At(t),null;case 19:if(Ve(Ge),s=t.memoizedState,s===null)return At(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)oo(s,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Rc(e),l!==null){for(t.flags|=128,oo(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Ge,Ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&it()>Ns&&(t.flags|=128,r=!0,oo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Rc(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Ye)return At(t),null}else 2*it()-s.renderingStartTime>Ns&&n!==1073741824&&(t.flags|=128,r=!0,oo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,n=Ge.current,He(Ge,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return zp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rn&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function aE(e,t){switch(yp(t),t.tag){case 1:return Zt(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ls(),Ve(Xt),Ve(Rt),Tp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ap(t),null;case 13:if(Ve(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ge),null;case 4:return Ls(),null;case 10:return kp(t.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var ba=!1,Tt=!1,cE=typeof WeakSet=="function"?WeakSet:Set,ue=null;function us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function Jf(e,t,n){try{n()}catch(r){Je(e,t,r)}}var Fg=!1;function uE(e,t){if(Pf=wc,e=Xy(),_p(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,c=0,h=0,u=e,p=null;t:for(;;){for(var m;u!==n||i!==0&&u.nodeType!==3||(o=l+i),u!==s||r!==0&&u.nodeType!==3||(a=l+r),u.nodeType===3&&(l+=u.nodeValue.length),(m=u.firstChild)!==null;)p=u,u=m;for(;;){if(u===e)break t;if(p===n&&++c===i&&(o=l),p===s&&++h===r&&(a=l),(m=u.nextSibling)!==null)break;u=p,p=u.parentNode}u=m}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:e,selectionRange:n},wc=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,g=y.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ln(t.type,w),g);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(v){Je(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return y=Fg,Fg=!1,y}function zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jf(t,n,s)}i=i.next}while(i!==r)}}function pu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ed(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function K1(e){var t=e.alternate;t!==null&&(e.alternate=null,K1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[il],delete t[jf],delete t[KC],delete t[YC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Y1(e){return e.tag===5||e.tag===3||e.tag===4}function zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Y1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kc));else if(r!==4&&(e=e.child,e!==null))for(td(e,t,n),e=e.sibling;e!==null;)td(e,t,n),e=e.sibling}function nd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nd(e,t,n),e=e.sibling;e!==null;)nd(e,t,n),e=e.sibling}var wt=null,Rn=!1;function Ar(e,t,n){for(n=n.child;n!==null;)q1(e,t,n),n=n.sibling}function q1(e,t,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(ou,n)}catch{}switch(n.tag){case 5:Tt||us(n,t);case 6:var r=wt,i=Rn;wt=null,Ar(e,t,n),wt=r,Rn=i,wt!==null&&(Rn?(e=wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Rn?(e=wt,n=n.stateNode,e.nodeType===8?lh(e.parentNode,n):e.nodeType===1&&lh(e,n),Jo(e)):lh(wt,n.stateNode));break;case 4:r=wt,i=Rn,wt=n.stateNode.containerInfo,Rn=!0,Ar(e,t,n),wt=r,Rn=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Jf(n,t,l),i=i.next}while(i!==r)}Ar(e,t,n);break;case 1:if(!Tt&&(us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Je(n,t,o)}Ar(e,t,n);break;case 21:Ar(e,t,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Ar(e,t,n),Tt=r):Ar(e,t,n);break;default:Ar(e,t,n)}}function jg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cE),t.forEach(function(r){var i=yE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:wt=o.stateNode,Rn=!1;break e;case 3:wt=o.stateNode.containerInfo,Rn=!0;break e;case 4:wt=o.stateNode.containerInfo,Rn=!0;break e}o=o.return}if(wt===null)throw Error(re(160));q1(s,l,i),wt=null,Rn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Je(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)G1(t,e),t=t.sibling}function G1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),$n(e),r&4){try{zo(3,e,e.return),pu(3,e)}catch(w){Je(e,e.return,w)}try{zo(5,e,e.return)}catch(w){Je(e,e.return,w)}}break;case 1:Tn(t,e),$n(e),r&512&&n!==null&&us(n,n.return);break;case 5:if(Tn(t,e),$n(e),r&512&&n!==null&&us(n,n.return),e.flags&32){var i=e.stateNode;try{Go(i,"")}catch(w){Je(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,o=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&_y(i,s),Ef(o,l);var c=Ef(o,s);for(l=0;l<a.length;l+=2){var h=a[l],u=a[l+1];h==="style"?xy(i,u):h==="dangerouslySetInnerHTML"?wy(i,u):h==="children"?Go(i,u):ip(i,h,u,c)}switch(o){case"input":Sf(i,s);break;case"textarea":vy(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ms(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ms(i,!!s.multiple,s.defaultValue,!0):ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[il]=s}catch(w){Je(e,e.return,w)}}break;case 6:if(Tn(t,e),$n(e),r&4){if(e.stateNode===null)throw Error(re(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Je(e,e.return,w)}}break;case 3:if(Tn(t,e),$n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jo(t.containerInfo)}catch(w){Je(e,e.return,w)}break;case 4:Tn(t,e),$n(e);break;case 13:Tn(t,e),$n(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bp=it())),r&4&&jg(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Tt=(c=Tt)||h,Tn(t,e),Tt=c):Tn(t,e),$n(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(ue=e,h=e.child;h!==null;){for(u=ue=h;ue!==null;){switch(p=ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:zo(4,p,p.return);break;case 1:us(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Je(r,n,w)}}break;case 5:us(p,p.return);break;case 22:if(p.memoizedState!==null){$g(u);continue}}m!==null?(m.return=p,ue=m):$g(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=u.stateNode,a=u.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=Sy("display",l))}catch(w){Je(e,e.return,w)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(w){Je(e,e.return,w)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Tn(t,e),$n(e),r&4&&jg(e);break;case 21:break;default:Tn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Y1(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Go(i,""),r.flags&=-33);var s=zg(e);nd(e,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,o=zg(e);td(e,o,l);break;default:throw Error(re(161))}}catch(a){Je(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hE(e,t,n){ue=e,X1(e)}function X1(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||ba;if(!l){var o=i.alternate,a=o!==null&&o.memoizedState!==null||Tt;o=ba;var c=Tt;if(ba=l,(Tt=a)&&!c)for(ue=i;ue!==null;)l=ue,a=l.child,l.tag===22&&l.memoizedState!==null?Ug(i):a!==null?(a.return=l,ue=a):Ug(i);for(;s!==null;)ue=s,X1(s),s=s.sibling;ue=i,ba=o,Tt=c}Hg(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):Hg(e)}}function Hg(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||pu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ln(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Cg(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cg(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Jo(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Tt||t.flags&512&&ed(t)}catch(p){Je(t,t.return,p)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function $g(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function Ug(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pu(4,t)}catch(a){Je(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Je(t,i,a)}}var s=t.return;try{ed(t)}catch(a){Je(t,s,a)}break;case 5:var l=t.return;try{ed(t)}catch(a){Je(t,l,a)}}}catch(a){Je(t,t.return,a)}if(t===e){ue=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ue=o;break}ue=t.return}}var fE=Math.ceil,Mc=xr.ReactCurrentDispatcher,Op=xr.ReactCurrentOwner,xn=xr.ReactCurrentBatchConfig,Le=0,vt=null,ot=null,xt=0,rn=0,hs=oi(0),dt=0,ul=null,Ri=0,mu=0,Pp=0,jo=null,Wt=null,Bp=0,Ns=1/0,or=null,Oc=!1,rd=null,Yr=null,Ca=!1,jr=null,Pc=0,Ho=0,id=null,rc=-1,ic=0;function Ft(){return Le&6?it():rc!==-1?rc:rc=it()}function qr(e){return e.mode&1?Le&2&&xt!==0?xt&-xt:GC.transition!==null?(ic===0&&(ic=My()),ic):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Hy(e.type)),e):1}function Pn(e,t,n,r){if(50<Ho)throw Ho=0,id=null,Error(re(185));Pl(e,n,r),(!(Le&2)||e!==vt)&&(e===vt&&(!(Le&2)&&(mu|=n),dt===4&&Pr(e,xt)),Qt(e,r),n===1&&Le===0&&!(t.mode&1)&&(Ns=it()+500,hu&&li()))}function Qt(e,t){var n=e.callbackNode;Gb(e,t);var r=yc(e,e===vt?xt:0);if(r===0)n!==null&&Qm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qm(n),t===1)e.tag===0?qC(Wg.bind(null,e)):o1(Wg.bind(null,e)),WC(function(){!(Le&6)&&li()}),n=null;else{switch(Oy(r)){case 1:n=cp;break;case 4:n=Ny;break;case 16:n=vc;break;case 536870912:n=Iy;break;default:n=vc}n=iw(n,Z1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Z1(e,t){if(rc=-1,ic=0,Le&6)throw Error(re(327));var n=e.callbackNode;if(ws()&&e.callbackNode!==n)return null;var r=yc(e,e===vt?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bc(e,r);else{t=r;var i=Le;Le|=2;var s=J1();(vt!==e||xt!==t)&&(or=null,Ns=it()+500,ki(e,t));do try{mE();break}catch(o){Q1(e,o)}while(!0);xp(),Mc.current=s,Le=i,ot!==null?t=0:(vt=null,xt=0,t=dt)}if(t!==0){if(t===2&&(i=Rf(e),i!==0&&(r=i,t=sd(e,i))),t===1)throw n=ul,ki(e,0),Pr(e,r),Qt(e,it()),n;if(t===6)Pr(e,r);else{if(i=e.current.alternate,!(r&30)&&!dE(i)&&(t=Bc(e,r),t===2&&(s=Rf(e),s!==0&&(r=s,t=sd(e,s))),t===1))throw n=ul,ki(e,0),Pr(e,r),Qt(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(re(345));case 2:hi(e,Wt,or);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=Bp+500-it(),10<t)){if(yc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zf(hi.bind(null,e,Wt,or),t);break}hi(e,Wt,or);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-On(r);s=1<<l,l=t[l],l>i&&(i=l),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fE(r/1960))-r,10<r){e.timeoutHandle=zf(hi.bind(null,e,Wt,or),r);break}hi(e,Wt,or);break;case 5:hi(e,Wt,or);break;default:throw Error(re(329))}}}return Qt(e,it()),e.callbackNode===n?Z1.bind(null,e):null}function sd(e,t){var n=jo;return e.current.memoizedState.isDehydrated&&(ki(e,t).flags|=256),e=Bc(e,t),e!==2&&(t=Wt,Wt=n,t!==null&&od(t)),e}function od(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function dE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~Pp,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),r=1<<n;e[n]=-1,t&=~r}}function Wg(e){if(Le&6)throw Error(re(327));ws();var t=yc(e,0);if(!(t&1))return Qt(e,it()),null;var n=Bc(e,t);if(e.tag!==0&&n===2){var r=Rf(e);r!==0&&(t=r,n=sd(e,r))}if(n===1)throw n=ul,ki(e,0),Pr(e,t),Qt(e,it()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hi(e,Wt,or),Qt(e,it()),null}function Fp(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(Ns=it()+500,hu&&li())}}function Ni(e){jr!==null&&jr.tag===0&&!(Le&6)&&ws();var t=Le;Le|=1;var n=xn.transition,r=Pe;try{if(xn.transition=null,Pe=1,e)return e()}finally{Pe=r,xn.transition=n,Le=t,!(Le&6)&&li()}}function zp(){rn=hs.current,Ve(hs)}function ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,UC(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(yp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:Ls(),Ve(Xt),Ve(Rt),Tp();break;case 5:Ap(r);break;case 4:Ls();break;case 13:Ve(Ge);break;case 19:Ve(Ge);break;case 10:kp(r.type._context);break;case 22:case 23:zp()}n=n.return}if(vt=e,ot=e=Gr(e.current,null),xt=rn=t,dt=0,ul=null,Pp=mu=Ri=0,Wt=jo=null,gi!==null){for(t=0;t<gi.length;t++)if(n=gi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}gi=null}return e}function Q1(e,t){do{var n=ot;try{if(xp(),ec.current=Ic,Nc){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nc=!1}if(Li=0,_t=ht=Xe=null,Fo=!1,ll=0,Op.current=null,n===null||n.return===null){dt=1,ul=t,ot=null;break}e:{var s=e,l=n.return,o=n,a=t;if(t=xt,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=o,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Rg(l);if(m!==null){m.flags&=-257,Ng(m,l,o,s,t),m.mode&1&&Lg(s,c,t),t=m,a=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){Lg(s,c,t),jp();break e}a=Error(re(426))}}else if(Ye&&o.mode&1){var g=Rg(l);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Ng(g,l,o,s,t),wp(Rs(a,o));break e}}s=a=Rs(a,o),dt!==4&&(dt=2),jo===null?jo=[s]:jo.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var f=O1(s,a,t);bg(s,f);break e;case 1:o=a;var d=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Yr===null||!Yr.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=P1(s,o,t);bg(s,v);break e}}s=s.return}while(s!==null)}tw(n)}catch(S){t=S,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function J1(){var e=Mc.current;return Mc.current=Ic,e===null?Ic:e}function jp(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(Ri&268435455)&&!(mu&268435455)||Pr(vt,xt)}function Bc(e,t){var n=Le;Le|=2;var r=J1();(vt!==e||xt!==t)&&(or=null,ki(e,t));do try{pE();break}catch(i){Q1(e,i)}while(!0);if(xp(),Le=n,Mc.current=r,ot!==null)throw Error(re(261));return vt=null,xt=0,dt}function pE(){for(;ot!==null;)ew(ot)}function mE(){for(;ot!==null&&!jb();)ew(ot)}function ew(e){var t=rw(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?tw(e):ot=t,Op.current=null}function tw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aE(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ot=null;return}}else if(n=lE(n,t,rn),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);dt===0&&(dt=5)}function hi(e,t,n){var r=Pe,i=xn.transition;try{xn.transition=null,Pe=1,gE(e,t,n,r)}finally{xn.transition=i,Pe=r}return null}function gE(e,t,n,r){do ws();while(jr!==null);if(Le&6)throw Error(re(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Xb(e,s),e===vt&&(ot=vt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ca||(Ca=!0,iw(vc,function(){return ws(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var l=Pe;Pe=1;var o=Le;Le|=4,Op.current=null,uE(e,n),G1(n,e),PC(Bf),wc=!!Pf,Bf=Pf=null,e.current=n,hE(n),Hb(),Le=o,Pe=l,xn.transition=s}else e.current=n;if(Ca&&(Ca=!1,jr=e,Pc=i),s=e.pendingLanes,s===0&&(Yr=null),Wb(n.stateNode),Qt(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oc)throw Oc=!1,e=rd,rd=null,e;return Pc&1&&e.tag!==0&&ws(),s=e.pendingLanes,s&1?e===id?Ho++:(Ho=0,id=e):Ho=0,li(),null}function ws(){if(jr!==null){var e=Oy(Pc),t=xn.transition,n=Pe;try{if(xn.transition=null,Pe=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,Pc=0,Le&6)throw Error(re(331));var i=Le;for(Le|=4,ue=e.current;ue!==null;){var s=ue,l=s.child;if(ue.flags&16){var o=s.deletions;if(o!==null){for(var a=0;a<o.length;a++){var c=o[a];for(ue=c;ue!==null;){var h=ue;switch(h.tag){case 0:case 11:case 15:zo(8,h,s)}var u=h.child;if(u!==null)u.return=h,ue=u;else for(;ue!==null;){h=ue;var p=h.sibling,m=h.return;if(K1(h),h===c){ue=null;break}if(p!==null){p.return=m,ue=p;break}ue=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var g=w.sibling;w.sibling=null,w=g}while(w!==null)}}ue=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,ue=l;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zo(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,ue=f;break e}ue=s.return}}var d=e.current;for(ue=d;ue!==null;){l=ue;var _=l.child;if(l.subtreeFlags&2064&&_!==null)_.return=l,ue=_;else e:for(l=d;ue!==null;){if(o=ue,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:pu(9,o)}}catch(S){Je(o,o.return,S)}if(o===l){ue=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,ue=v;break e}ue=o.return}}if(Le=i,li(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(ou,e)}catch{}r=!0}return r}finally{Pe=n,xn.transition=t}}return!1}function Vg(e,t,n){t=Rs(n,t),t=O1(e,t,1),e=Kr(e,t,1),t=Ft(),e!==null&&(Pl(e,1,t),Qt(e,t))}function Je(e,t,n){if(e.tag===3)Vg(e,e,n);else for(;t!==null;){if(t.tag===3){Vg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){e=Rs(n,e),e=P1(t,e,1),t=Kr(t,e,1),e=Ft(),t!==null&&(Pl(t,1,e),Qt(t,e));break}}t=t.return}}function _E(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(xt&n)===n&&(dt===4||dt===3&&(xt&130023424)===xt&&500>it()-Bp?ki(e,0):Pp|=n),Qt(e,t)}function nw(e,t){t===0&&(e.mode&1?(t=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):t=1);var n=Ft();e=_r(e,t),e!==null&&(Pl(e,t,n),Qt(e,n))}function vE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nw(e,n)}function yE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(t),nw(e,n)}var rw;rw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,oE(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,Ye&&t.flags&1048576&&l1(t,Ac,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nc(e,t),e=t.pendingProps;var i=As(t,Rt.current);ys(t,n),i=Lp(null,t,r,e,i,n);var s=Rp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(r)?(s=!0,Cc(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cp(t),i.updater=du,t.stateNode=i,i._reactInternals=t,Kf(t,r,e,n),t=Gf(null,t,r,!0,s,n)):(t.tag=0,Ye&&s&&vp(t),Ot(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=SE(r),e=Ln(r,e),i){case 0:t=qf(null,t,r,e,n);break e;case 1:t=Og(null,t,r,e,n);break e;case 11:t=Ig(null,t,r,e,n);break e;case 14:t=Mg(null,t,r,Ln(r.type,e),n);break e}throw Error(re(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ln(r,i),qf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ln(r,i),Og(e,t,r,i,n);case 3:e:{if(j1(t),e===null)throw Error(re(387));r=t.pendingProps,s=t.memoizedState,i=s.element,d1(e,t),Lc(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Rs(Error(re(423)),t),t=Pg(e,t,r,n,i);break e}else if(r!==i){i=Rs(Error(re(424)),t),t=Pg(e,t,r,n,i);break e}else for(sn=Vr(t.stateNode.containerInfo.firstChild),ln=t,Ye=!0,In=null,n=h1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ts(),r===i){t=vr(e,t,n);break e}Ot(e,t,r,n)}t=t.child}return t;case 5:return p1(t),e===null&&Uf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,Ff(r,i)?l=null:s!==null&&Ff(r,s)&&(t.flags|=32),z1(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&Uf(t),null;case 13:return H1(e,t,n);case 4:return Ep(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ds(t,null,r,n):Ot(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ln(r,i),Ig(e,t,r,i,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,He(Tc,r._currentValue),r._currentValue=l,s!==null)if(zn(s.value,l)){if(s.children===i.children&&!Xt.current){t=vr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){l=s.child;for(var a=o.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=dr(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Wf(s.return,n,t),o.lanes|=n;break}a=a.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(re(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Wf(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Ot(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ys(t,n),i=kn(i),r=r(i),t.flags|=1,Ot(e,t,r,n),t.child;case 14:return r=t.type,i=Ln(r,t.pendingProps),i=Ln(r.type,i),Mg(e,t,r,i,n);case 15:return B1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ln(r,i),nc(e,t),t.tag=1,Zt(r)?(e=!0,Cc(t)):e=!1,ys(t,n),M1(t,r,i),Kf(t,r,i,n),Gf(null,t,r,!0,e,n);case 19:return $1(e,t,n);case 22:return F1(e,t,n)}throw Error(re(156,t.tag))};function iw(e,t){return Ry(e,t)}function wE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,n,r){return new wE(e,t,n,r)}function Hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SE(e){if(typeof e=="function")return Hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===op)return 11;if(e===lp)return 14}return 2}function Gr(e,t){var n=e.alternate;return n===null?(n=wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sc(e,t,n,r,i,s){var l=2;if(r=e,typeof e=="function")Hp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ts:return bi(n.children,i,s,t);case sp:l=8,i|=8;break;case gf:return e=wn(12,n,t,i|2),e.elementType=gf,e.lanes=s,e;case _f:return e=wn(13,n,t,i),e.elementType=_f,e.lanes=s,e;case vf:return e=wn(19,n,t,i),e.elementType=vf,e.lanes=s,e;case py:return gu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fy:l=10;break e;case dy:l=9;break e;case op:l=11;break e;case lp:l=14;break e;case Rr:l=16,r=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=wn(l,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function bi(e,t,n,r){return e=wn(7,e,r,t),e.lanes=n,e}function gu(e,t,n,r){return e=wn(22,e,r,t),e.elementType=py,e.lanes=n,e.stateNode={isHidden:!1},e}function mh(e,t,n){return e=wn(6,e,null,t),e.lanes=n,e}function gh(e,t,n){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xE(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xu(0),this.expirationTimes=Xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $p(e,t,n,r,i,s,l,o,a){return e=new xE(e,t,n,o,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(s),e}function kE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sw(e){if(!e)return ni;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Zt(n))return s1(e,n,t)}return t}function ow(e,t,n,r,i,s,l,o,a){return e=$p(n,r,!0,e,i,s,l,o,a),e.context=sw(null),n=e.current,r=Ft(),i=qr(n),s=dr(r,i),s.callback=t??null,Kr(n,s,i),e.current.lanes=i,Pl(e,i,r),Qt(e,r),e}function _u(e,t,n,r){var i=t.current,s=Ft(),l=qr(i);return n=sw(n),t.context===null?t.context=n:t.pendingContext=n,t=dr(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kr(i,t,l),e!==null&&(Pn(e,i,l,s),Ja(e,i,l)),l}function Fc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Up(e,t){Kg(e,t),(e=e.alternate)&&Kg(e,t)}function bE(){return null}var lw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wp(e){this._internalRoot=e}vu.prototype.render=Wp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));_u(e,t,null,null)};vu.prototype.unmount=Wp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){_u(null,e,null,null)}),t[gr]=null}};function vu(e){this._internalRoot=e}vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Or.length&&t!==0&&t<Or[n].priority;n++);Or.splice(n,0,e),n===0&&jy(e)}};function Vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function CE(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fc(l);s.call(c)}}var l=ow(t,r,e,0,null,!1,!1,"",Yg);return e._reactRootContainer=l,e[gr]=l.current,nl(e.nodeType===8?e.parentNode:e),Ni(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Fc(a);o.call(c)}}var a=$p(e,0,!1,null,null,!1,!1,"",Yg);return e._reactRootContainer=a,e[gr]=a.current,nl(e.nodeType===8?e.parentNode:e),Ni(function(){_u(t,a,n,r)}),a}function wu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var o=i;i=function(){var a=Fc(l);o.call(a)}}_u(t,l,e,i)}else l=CE(n,t,e,i,r);return Fc(l)}Py=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Co(t.pendingLanes);n!==0&&(up(t,n|1),Qt(t,it()),!(Le&6)&&(Ns=it()+500,li()))}break;case 13:Ni(function(){var r=_r(e,1);if(r!==null){var i=Ft();Pn(r,e,1,i)}}),Up(e,1)}};hp=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var n=Ft();Pn(t,e,134217728,n)}Up(e,134217728)}};By=function(e){if(e.tag===13){var t=qr(e),n=_r(e,t);if(n!==null){var r=Ft();Pn(n,e,t,r)}Up(e,t)}};Fy=function(){return Pe};zy=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Tf=function(e,t,n){switch(t){case"input":if(Sf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=uu(r);if(!i)throw Error(re(90));gy(r),Sf(r,i)}}}break;case"textarea":vy(e,n);break;case"select":t=n.value,t!=null&&ms(e,!!n.multiple,t,!1)}};Cy=Fp;Ey=Ni;var EE={usingClientEntryPoint:!1,Events:[Fl,ss,uu,ky,by,Fp]},lo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AE={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dy(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||bE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{ou=Ea.inject(AE),Gn=Ea}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE;hn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(t))throw Error(re(200));return kE(e,t,null,n)};hn.createRoot=function(e,t){if(!Vp(e))throw Error(re(299));var n=!1,r="",i=lw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$p(e,1,!1,null,null,n,!1,r,i),e[gr]=t.current,nl(e.nodeType===8?e.parentNode:e),new Wp(t)};hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=Dy(t),e=e===null?null:e.stateNode,e};hn.flushSync=function(e){return Ni(e)};hn.hydrate=function(e,t,n){if(!yu(t))throw Error(re(200));return wu(null,e,t,!0,n)};hn.hydrateRoot=function(e,t,n){if(!Vp(e))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=lw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=ow(t,null,e,1,n??null,i,!1,s,l),e[gr]=t.current,nl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vu(t)};hn.render=function(e,t,n){if(!yu(t))throw Error(re(200));return wu(null,e,t,!1,n)};hn.unmountComponentAtNode=function(e){if(!yu(e))throw Error(re(40));return e._reactRootContainer?(Ni(function(){wu(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};hn.unstable_batchedUpdates=Fp;hn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yu(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return wu(e,t,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function aw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aw)}catch(e){console.error(e)}}aw(),ay.exports=hn;var TE=ay.exports,qg=TE;pf.createRoot=qg.createRoot,pf.hydrateRoot=qg.hydrateRoot;const Gg={ko:{welcome:"TMUX Remote   ",noMachines:"   .    .",step1Title:"Host Agent ",step1Desc:"  agent  :",step2Title:"  ",step2Desc:"    :",yourAgentToken:"Agent :",copyToken:" ",copy:"",copied:"!",step3Title:"tmux  ",step3Desc:"  tmux    :",step4Title:"Agent ",step4Desc:"Agent   :",step4Hint:"Agent   tmux  .",footerConnected:"   .",footerSecurity:"      .",sessions:"",noSessions:" ",agentTokens:"Agent ",tokenDescription:"Agent   ~/.tmux-remote.yml  .       .",generateNewToken:"  ",generating:" ...",yourTokens:" ",noTokensYet:" .  .",newTokenWarning:"  ( ,   ):",revoke:"",configExample:" ",tokenRevoked:" ",tokenNotFound:"     ",loginTitle:"TMUX Remote",loginSubtitle:"  ",loginWithGoogle:"Google ",domainNotAllowed:"  ",loginFailed:" .  .",selectSession:"  ",offline:"",connecting:" ...",loading:" ...",error:"",close:""},en:{welcome:"Welcome to TMUX Remote",noMachines:"No connected machines yet. Follow the steps below to get started.",step1Title:"Install the Host Agent",step1Desc:"On the machine you want to control, clone and build the agent:",step2Title:"Create Configuration File",step2Desc:"Create the config file with your agent token:",yourAgentToken:"Your Agent Token:",copyToken:"Copy Token",copy:"Copy",copied:"Copied!",step3Title:"Create a tmux Session",step3Desc:"Make sure you have at least one tmux session running:",step4Title:"Start the Agent",step4Desc:"Run the agent to connect your machine:",step4Hint:"The agent will automatically discover all your tmux sessions.",footerConnected:"Once connected, your sessions will appear in the sidebar.",footerSecurity:"Only sessions registered with your token will be visible to you.",sessions:"Sessions",noSessions:"No sessions",agentTokens:"Agent Tokens",tokenDescription:"Generate an agent token and add it to your ~/.tmux-remote.yml config. Only you will be able to see sessions registered with your token.",generateNewToken:"Generate New Token",generating:"Generating...",yourTokens:"Your Tokens",noTokensYet:"No tokens yet. Generate one to get started.",newTokenWarning:"New Token (copy now, won't be shown again):",revoke:"Revoke",configExample:"Config Example",tokenRevoked:"Token revoked successfully",tokenNotFound:"Token not found or not owned by you",loginTitle:"TMUX Remote",loginSubtitle:"Access your terminals from anywhere",loginWithGoogle:"Sign in with Google",domainNotAllowed:"Domain not allowed",loginFailed:"Login failed. Please try again.",selectSession:"Select a session from the sidebar",offline:"Offline",connecting:"Connecting...",loading:"Loading...",error:"Error",close:"Close"}},cw=j.createContext(void 0);function DE(){const e=localStorage.getItem("lang");return e==="ko"||e==="en"?e:navigator.language.toLowerCase().startsWith("ko")?"ko":"en"}function LE({children:e}){const[t,n]=j.useState(DE),r=s=>{localStorage.setItem("lang",s),n(s)},i=s=>Gg[t][s]||Gg.en[s]||s;return T.jsx(cw.Provider,{value:{lang:t,setLang:r,t:i},children:e})}function Vs(){const e=j.useContext(cw);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e}function RE({projects:e,currentProject:t,onSelectProject:n,onNewProject:r,onDeleteProject:i}){const{lang:s}=Vs(),l=(h,u)=>{h.stopPropagation(),window.confirm(s==="ko"?"  ?":"Delete this project?")&&(i==null||i(u))},o=h=>{switch(h){case"running":return"";case"completed":return"";case"failed":return"";case"pending":return"";default:return"?"}},a=h=>{switch(h){case"running":return"status-running";case"completed":return"status-completed";case"failed":return"status-failed";case"pending":return"status-pending";default:return""}},c=h=>h?new Date(h).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return e.length===0?T.jsxs("div",{className:"project-list-empty",children:[T.jsx("div",{className:"empty-icon",children:""}),T.jsx("p",{children:s==="ko"?" ":"No projects"}),r?T.jsxs("button",{className:"new-project-btn",onClick:r,children:["+ ",s==="ko"?" ":"New Project"]}):T.jsx("p",{className:"empty-hint",children:s==="ko"?"CLI `sessioncast project init` ":"Run `sessioncast project init` in CLI"})]}):T.jsxs("div",{className:"project-list",children:[r&&T.jsxs("button",{className:"new-project-btn compact",onClick:r,children:["+ ",s==="ko"?" ":"New Project"]}),e.map(h=>T.jsxs("div",{className:`project-item ${t===h.projectId?"active":""}`,onClick:()=>n(h.projectId),children:[T.jsxs("div",{className:"project-header",children:[T.jsx("span",{className:`project-status ${a(h.status)}`,children:o(h.status)}),T.jsx("span",{className:"project-name",children:h.name}),h.startedAt&&T.jsx("span",{className:"project-time",children:c(h.startedAt)}),i&&T.jsx("button",{className:"project-delete-btn",onClick:u=>l(u,h.projectId),title:s==="ko"?"":"Delete",children:"x"})]}),T.jsx("div",{className:"project-id",children:T.jsx("code",{children:h.projectId})}),h.mission&&T.jsx("div",{className:"project-mission",children:h.mission}),h.agents&&h.agents.length>0&&T.jsx("div",{className:"project-agents",children:h.agents.map(u=>T.jsxs("div",{className:`agent-item ${a(u.status)}`,children:[T.jsx("span",{className:"agent-status",children:o(u.status)}),T.jsx("span",{className:"agent-name",children:u.name||u.agentId}),u.currentTask&&T.jsx("span",{className:"agent-task",children:u.currentTask})]},u.agentId))})]},h.projectId))]})}function NE({sessions:e,currentSession:t,onSelectSession:n,theme:r,onToggleTheme:i,onLogout:s,onManageTokens:l,isOpen:o,onCreateSession:a,onKillSession:c,onHideSession:h,updatedSessions:u,projects:p=[],currentProject:m,onSelectProject:y,onNewProject:w,onDeleteProject:g,activeTab:f,onActiveTabChange:d}){const{t:_,lang:v,setLang:S}=Vs(),[k,b]=j.useState(null),[x,C]=j.useState(""),[A,N]=j.useState(null),[I,F]=j.useState("sessions"),D=f??I,B=O=>{d?d(O):F(O)},z=e.reduce((O,Y)=>{const K=Y.machineId||"Unknown";return O[K]||(O[K]=[]),O[K].push(Y),O},{}),H=()=>{S(v==="ko"?"en":"ko")},L=O=>{x.trim()&&(a==null||a(O,x.trim()),C(""),b(null))},R=(O,Y)=>{O.key==="Enter"?L(Y):O.key==="Escape"&&(b(null),C(""))},E=(O,Y)=>{O.stopPropagation(),N(A===Y?null:Y)},M=(O,Y)=>{O.stopPropagation(),window.confirm(v==="ko"?"  ?":"Kill this session?")&&(c==null||c(Y)),N(null)},U=(O,Y)=>{O.stopPropagation(),h==null||h(Y),N(null)};return T.jsxs("div",{className:`session-list ${o?"open":""}`,children:[T.jsxs("div",{className:"session-list-header",children:[T.jsxs("div",{className:"header-tabs",children:[T.jsxs("button",{className:`tab-btn ${D==="sessions"?"active":""}`,onClick:()=>B("sessions"),children:[_("sessions"),e.length>0&&T.jsx("span",{className:"tab-count",children:e.length})]}),T.jsxs("button",{className:`tab-btn ${D==="projects"?"active":""}`,onClick:()=>B("projects"),children:[v==="ko"?"":"Projects",p.length>0&&T.jsx("span",{className:"tab-count",children:p.length})]})]}),T.jsxs("div",{className:"header-actions",children:[T.jsx("button",{className:"lang-toggle-btn",onClick:H,title:v==="ko"?"Switch to English":" ",children:v==="ko"?"EN":"KO"}),T.jsx("button",{className:"theme-toggle",onClick:i,title:r==="dark"?v==="ko"?" ":"Light mode":v==="ko"?" ":"Dark mode",children:r==="dark"?"":""}),l&&T.jsx("button",{className:"token-btn",onClick:l,title:v==="ko"?"Agent ":"Agent Tokens",children:""}),s&&T.jsx("button",{className:"logout-btn",onClick:s,title:v==="ko"?"":"Logout",children:""})]})]}),D==="projects"&&T.jsx(RE,{projects:p,currentProject:m||null,onSelectProject:y||(()=>{}),onNewProject:w,onDeleteProject:g}),D==="sessions"&&T.jsxs("div",{className:"session-groups",children:[Object.entries(z).map(([O,Y])=>T.jsxs("div",{className:"session-group",children:[T.jsxs("div",{className:"group-header",children:[T.jsx("span",{children:O}),a&&Y.some(K=>K.status==="online")&&T.jsx("button",{className:"add-session-btn",onClick:()=>b(k===O?null:O),title:v==="ko"?" ":"New session",children:"+"})]}),k===O&&T.jsxs("div",{className:"create-session-input",children:[T.jsx("input",{type:"text",value:x,onChange:K=>C(K.target.value),onKeyDown:K=>R(K,O),placeholder:v==="ko"?" ":"Session name",autoFocus:!0}),T.jsx("button",{onClick:()=>L(O),disabled:!x.trim(),children:v==="ko"?"":"Create"})]}),Y.map(K=>{const ee=(u==null?void 0:u.has(K.id))&&t!==K.id,P=A===K.id;return T.jsxs("div",{className:`session-item ${t===K.id?"active":""} ${ee?"has-update":""}`,onClick:()=>n(K.id),children:[T.jsx("span",{className:`status-dot ${K.status}`}),T.jsx("span",{className:"session-label",children:K.label||K.id}),ee&&T.jsx("span",{className:"update-indicator"}),(c||h)&&T.jsxs("div",{className:"session-menu-container",children:[T.jsx("button",{className:"session-menu-btn",onClick:W=>E(W,K.id),title:v==="ko"?"":"Menu",children:""}),P&&T.jsxs("div",{className:"session-menu",children:[h&&T.jsx("button",{onClick:W=>U(W,K.id),children:v==="ko"?"":"Hide"}),c&&K.status==="online"&&T.jsx("button",{className:"danger",onClick:W=>M(W,K.id),children:v==="ko"?"":"Kill"})]})]})]},K.id)})]},O)),e.length===0&&T.jsx("div",{className:"no-sessions",children:_("noSessions")})]})]})}var uw={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={4567:function(l,o,a){var c=this&&this.__decorate||function(_,v,S,k){var b,x=arguments.length,C=x<3?v:k===null?k=Object.getOwnPropertyDescriptor(v,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(_,v,S,k);else for(var A=_.length-1;A>=0;A--)(b=_[A])&&(C=(x<3?b(C):x>3?b(v,S,C):b(v,S))||C);return x>3&&C&&Object.defineProperty(v,S,C),C},h=this&&this.__param||function(_,v){return function(S,k){v(S,k,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const u=a(9042),p=a(6114),m=a(9924),y=a(844),w=a(5596),g=a(4725),f=a(3656);let d=o.AccessibilityManager=class extends y.Disposable{constructor(_,v){super(),this._terminal=_,this._renderService=v,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new m.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new w.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,y.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let v=0;v<_;v++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),p.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,p.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,v){this._liveRegionDebouncer.refresh(_,v,this._terminal.rows)}_renderRows(_,v){const S=this._terminal.buffer,k=S.lines.length.toString();for(let b=_;b<=v;b++){const x=S.translateBufferLineToString(S.ydisp+b,!0),C=(S.ydisp+b+1).toString(),A=this._rowElements[b];A&&(x.length===0?A.innerText="":A.textContent=x,A.setAttribute("aria-posinset",C),A.setAttribute("aria-setsize",k))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,v){const S=_.target,k=this._rowElements[v===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(v===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==k)return;let b,x;if(v===0?(b=S,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(b=this._rowElements.shift(),x=S,this._rowContainer.removeChild(b)),b.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),v===0){const C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else{const C=this._createAccessibilityTreeNode();this._rowElements.push(C),this._rowContainer.appendChild(C)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(v===0?-1:1),this._rowElements[v===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let v=this._rowContainer.children.length;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=d=c([h(1,g.IRenderService)],d)},3614:(l,o)=>{function a(p){return p.replace(/\r?\n/g,"\r")}function c(p,m){return m?"\x1B[200~"+p+"\x1B[201~":p}function h(p,m,y,w){p=c(p=a(p),y.decPrivateModes.bracketedPasteMode&&w.rawOptions.ignoreBracketedPasteMode!==!0),y.triggerDataEvent(p,!0),m.value=""}function u(p,m,y){const w=y.getBoundingClientRect(),g=p.clientX-w.left-10,f=p.clientY-w.top-10;m.style.width="20px",m.style.height="20px",m.style.left=`${g}px`,m.style.top=`${f}px`,m.style.zIndex="1000",m.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=a,o.bracketTextForPaste=c,o.copyHandler=function(p,m){p.clipboardData&&p.clipboardData.setData("text/plain",m.selectionText),p.preventDefault()},o.handlePasteEvent=function(p,m,y,w){p.stopPropagation(),p.clipboardData&&h(p.clipboardData.getData("text/plain"),m,y,w)},o.paste=h,o.moveTextAreaUnderMouseCursor=u,o.rightClickHandler=function(p,m,y,w,g){u(p,m,y),g&&w.rightClickSelect(p),m.value=w.selectionText,m.select()}},7239:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const c=a(1505);o.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(h,u,p){this._css.set(h,u,p)}getCss(h,u){return this._css.get(h,u)}setColor(h,u,p){this._color.set(h,u,p)}getColor(h,u){return this._color.get(h,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(a,c,h,u){a.addEventListener(c,h,u);let p=!1;return{dispose:()=>{p||(p=!0,a.removeEventListener(c,h,u))}}}},6465:function(l,o,a){var c=this&&this.__decorate||function(g,f,d,_){var v,S=arguments.length,k=S<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(g,f,d,_);else for(var b=g.length-1;b>=0;b--)(v=g[b])&&(k=(S<3?v(k):S>3?v(f,d,k):v(f,d))||k);return S>3&&k&&Object.defineProperty(f,d,k),k},h=this&&this.__param||function(g,f){return function(d,_){f(d,_,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const u=a(3656),p=a(8460),m=a(844),y=a(2585);let w=o.Linkifier2=class extends m.Disposable{get currentLink(){return this._currentLink}constructor(g){super(),this._bufferService=g,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new p.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new p.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,m.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,m.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(g){return this._linkProviders.push(g),{dispose:()=>{const f=this._linkProviders.indexOf(g);f!==-1&&this._linkProviders.splice(f,1)}}}attachToDom(g,f,d){this._element=g,this._mouseService=f,this._renderService=d,this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(g){if(this._lastMouseEvent=g,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(g,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const d=g.composedPath();for(let _=0;_<d.length;_++){const v=d[_];if(v.classList.contains("xterm"))break;if(v.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(g){if(this._activeLine!==g.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(g,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,g)||(this._clearCurrentLink(),this._askForLink(g,!0))}_askForLink(g,f){var d,_;this._activeProviderReplies&&f||((d=this._activeProviderReplies)===null||d===void 0||d.forEach(S=>{S==null||S.forEach(k=>{k.link.dispose&&k.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=g.y);let v=!1;for(const[S,k]of this._linkProviders.entries())f?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(S)&&(v=this._checkLinkProviderResult(S,g,v)):k.provideLinks(g.y,b=>{var x,C;if(this._isMouseOut)return;const A=b==null?void 0:b.map(N=>({link:N}));(x=this._activeProviderReplies)===null||x===void 0||x.set(S,A),v=this._checkLinkProviderResult(S,g,v),((C=this._activeProviderReplies)===null||C===void 0?void 0:C.size)===this._linkProviders.length&&this._removeIntersectingLinks(g.y,this._activeProviderReplies)})}_removeIntersectingLinks(g,f){const d=new Set;for(let _=0;_<f.size;_++){const v=f.get(_);if(v)for(let S=0;S<v.length;S++){const k=v[S],b=k.link.range.start.y<g?0:k.link.range.start.x,x=k.link.range.end.y>g?this._bufferService.cols:k.link.range.end.x;for(let C=b;C<=x;C++){if(d.has(C)){v.splice(S--,1);break}d.add(C)}}}}_checkLinkProviderResult(g,f,d){var _;if(!this._activeProviderReplies)return d;const v=this._activeProviderReplies.get(g);let S=!1;for(let k=0;k<g;k++)this._activeProviderReplies.has(k)&&!this._activeProviderReplies.get(k)||(S=!0);if(!S&&v){const k=v.find(b=>this._linkAtPosition(b.link,f));k&&(d=!0,this._handleNewLink(k))}if(this._activeProviderReplies.size===this._linkProviders.length&&!d)for(let k=0;k<this._activeProviderReplies.size;k++){const b=(_=this._activeProviderReplies.get(k))===null||_===void 0?void 0:_.find(x=>this._linkAtPosition(x.link,f));if(b){d=!0,this._handleNewLink(b);break}}return d}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(g){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(g,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(g,this._currentLink.link.text)}_clearCurrentLink(g,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!g||!f||this._currentLink.link.range.start.y>=g&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,m.disposeArray)(this._linkCacheDisposables))}_handleNewLink(g){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(g.link,f)&&(this._currentLink=g,this._currentLink.state={decorations:{underline:g.link.decorations===void 0||g.link.decorations.underline,pointerCursor:g.link.decorations===void 0||g.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,g.link,this._lastMouseEvent),g.link.decorations={},Object.defineProperties(g.link.decorations,{pointerCursor:{get:()=>{var d,_;return(_=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:d=>{var _,v;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==d&&(this._currentLink.state.decorations.pointerCursor=d,this._currentLink.state.isHovered&&((v=this._element)===null||v===void 0||v.classList.toggle("xterm-cursor-pointer",d)))}},underline:{get:()=>{var d,_;return(_=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||_===void 0?void 0:_.decorations.underline},set:d=>{var _,v,S;!((_=this._currentLink)===null||_===void 0)&&_.state&&((S=(v=this._currentLink)===null||v===void 0?void 0:v.state)===null||S===void 0?void 0:S.decorations.underline)!==d&&(this._currentLink.state.decorations.underline=d,this._currentLink.state.isHovered&&this._fireUnderlineEvent(g.link,d))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(d=>{if(!this._currentLink)return;const _=d.start===0?0:d.start+1+this._bufferService.buffer.ydisp,v=this._bufferService.buffer.ydisp+1+d.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=v&&(this._clearCurrentLink(_,v),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(g,f,d){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&g.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(d,f.text)}_fireUnderlineEvent(g,f){const d=g.range,_=this._bufferService.buffer.ydisp,v=this._createLinkUnderlineEvent(d.start.x-1,d.start.y-_-1,d.end.x,d.end.y-_-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(v)}_linkLeave(g,f,d){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&g.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(d,f.text)}_linkAtPosition(g,f){const d=g.range.start.y*this._bufferService.cols+g.range.start.x,_=g.range.end.y*this._bufferService.cols+g.range.end.x,v=f.y*this._bufferService.cols+f.x;return d<=v&&v<=_}_positionFromMouseEvent(g,f,d){const _=d.getCoords(g,f,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(g,f,d,_,v){return{x1:g,y1:f,x2:d,y2:_,cols:this._bufferService.cols,fg:v}}};o.Linkifier2=w=c([h(0,y.IBufferService)],w)},9042:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,o,a){var c=this&&this.__decorate||function(w,g,f,d){var _,v=arguments.length,S=v<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(w,g,f,d);else for(var k=w.length-1;k>=0;k--)(_=w[k])&&(S=(v<3?_(S):v>3?_(g,f,S):_(g,f))||S);return v>3&&S&&Object.defineProperty(g,f,S),S},h=this&&this.__param||function(w,g){return function(f,d){g(f,d,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const u=a(511),p=a(2585);let m=o.OscLinkProvider=class{constructor(w,g,f){this._bufferService=w,this._optionsService=g,this._oscLinkService=f}provideLinks(w,g){var f;const d=this._bufferService.buffer.lines.get(w-1);if(!d)return void g(void 0);const _=[],v=this._optionsService.rawOptions.linkHandler,S=new u.CellData,k=d.getTrimmedLength();let b=-1,x=-1,C=!1;for(let A=0;A<k;A++)if(x!==-1||d.hasContent(A)){if(d.loadCell(A,S),S.hasExtendedAttrs()&&S.extended.urlId){if(x===-1){x=A,b=S.extended.urlId;continue}C=S.extended.urlId!==b}else x!==-1&&(C=!0);if(C||x!==-1&&A===k-1){const N=(f=this._oscLinkService.getLinkData(b))===null||f===void 0?void 0:f.uri;if(N){const I={start:{x:x+1,y:w},end:{x:A+(C||A!==k-1?0:1),y:w}};let F=!1;if(!(v!=null&&v.allowNonHttpProtocols))try{const D=new URL(N);["http:","https:"].includes(D.protocol)||(F=!0)}catch{F=!0}F||_.push({text:N,range:I,activate:(D,B)=>v?v.activate(D,B,I):y(0,B),hover:(D,B)=>{var z;return(z=v==null?void 0:v.hover)===null||z===void 0?void 0:z.call(v,D,B,I)},leave:(D,B)=>{var z;return(z=v==null?void 0:v.leave)===null||z===void 0?void 0:z.call(v,D,B,I)}})}C=!1,S.hasExtendedAttrs()&&S.extended.urlId?(x=A,b=S.extended.urlId):(x=-1,b=-1)}}g(_)}};function y(w,g){if(confirm(`Do you want to navigate to ${g}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=g}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=m=c([h(0,p.IBufferService),h(1,p.IOptionsService),h(2,p.IOscLinkService)],m)},6193:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(a,c){this._parentWindow=a,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,c,h){this._rowCount=h,a=a!==void 0?a:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const c=a(844);class h extends c.Disposable{constructor(p){super(),this._parentWindow=p,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(p){this._listener&&this.clearListener(),this._listener=p,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var p;this._outerListener&&((p=this._resolutionMediaMatchList)===null||p===void 0||p.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=h},3236:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const c=a(3614),h=a(3656),u=a(6465),p=a(9042),m=a(3730),y=a(1680),w=a(3107),g=a(5744),f=a(2950),d=a(1296),_=a(428),v=a(4269),S=a(5114),k=a(8934),b=a(3230),x=a(9312),C=a(4725),A=a(6731),N=a(8055),I=a(8969),F=a(8460),D=a(844),B=a(6114),z=a(8437),H=a(2584),L=a(7399),R=a(5941),E=a(9074),M=a(2585),U=a(5435),O=a(4567),Y=typeof window<"u"?window.document:null;class K extends I.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(P={}){super(P),this.browser=B,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new D.MutableDisposable),this._onCursorMove=this.register(new F.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new F.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new F.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new F.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new F.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new F.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new F.EventEmitter),this._onBlur=this.register(new F.EventEmitter),this._onA11yCharEmitter=this.register(new F.EventEmitter),this._onA11yTabEmitter=this.register(new F.EventEmitter),this._onWillOpen=this.register(new F.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(u.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(m.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(E.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((W,G)=>this.refresh(W,G))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(W=>this._reportWindowsOptions(W))),this.register(this._inputHandler.onColor(W=>this._handleColorEvent(W))),this.register((0,F.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,F.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,F.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,F.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(W=>this._afterResize(W.cols,W.rows))),this.register((0,D.toDisposable)(()=>{var W,G;this._customKeyEventHandler=void 0,(G=(W=this.element)===null||W===void 0?void 0:W.parentNode)===null||G===void 0||G.removeChild(this.element)}))}_handleColorEvent(P){if(this._themeService)for(const W of P){let G,q="";switch(W.index){case 256:G="foreground",q="10";break;case 257:G="background",q="11";break;case 258:G="cursor",q="12";break;default:G="ansi",q="4;"+W.index}switch(W.type){case 0:const ce=N.color.toColorRGB(G==="ansi"?this._themeService.colors.ansi[W.index]:this._themeService.colors[G]);this.coreService.triggerDataEvent(`${H.C0.ESC}]${q};${(0,R.toRgbString)(ce)}${H.C1_ESCAPED.ST}`);break;case 1:if(G==="ansi")this._themeService.modifyColors(ne=>ne.ansi[W.index]=N.rgba.toColor(...W.color));else{const ne=G;this._themeService.modifyColors(de=>de[ne]=N.rgba.toColor(...W.color))}break;case 2:this._themeService.restoreColor(W.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(P){P?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(O.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(P){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[I"),this.updateCursorStyle(P),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var P;return(P=this.textarea)===null||P===void 0?void 0:P.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const P=this.buffer.ybase+this.buffer.y,W=this.buffer.lines.get(P);if(!W)return;const G=Math.min(this.buffer.x,this.cols-1),q=this._renderService.dimensions.css.cell.height,ce=W.getWidth(G),ne=this._renderService.dimensions.css.cell.width*ce,de=this.buffer.y*this._renderService.dimensions.css.cell.height,we=G*this._renderService.dimensions.css.cell.width;this.textarea.style.left=we+"px",this.textarea.style.top=de+"px",this.textarea.style.width=ne+"px",this.textarea.style.height=q+"px",this.textarea.style.lineHeight=q+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,h.addDisposableDomListener)(this.element,"copy",W=>{this.hasSelection()&&(0,c.copyHandler)(W,this._selectionService)}));const P=W=>(0,c.handlePasteEvent)(W,this.textarea,this.coreService,this.optionsService);this.register((0,h.addDisposableDomListener)(this.textarea,"paste",P)),this.register((0,h.addDisposableDomListener)(this.element,"paste",P)),B.isFirefox?this.register((0,h.addDisposableDomListener)(this.element,"mousedown",W=>{W.button===2&&(0,c.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,h.addDisposableDomListener)(this.element,"contextmenu",W=>{(0,c.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),B.isLinux&&this.register((0,h.addDisposableDomListener)(this.element,"auxclick",W=>{W.button===1&&(0,c.moveTextAreaUnderMouseCursor)(W,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,h.addDisposableDomListener)(this.textarea,"keyup",P=>this._keyUp(P),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"keydown",P=>this._keyDown(P),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"keypress",P=>this._keyPress(P),!0)),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionupdate",P=>this._compositionHelper.compositionupdate(P))),this.register((0,h.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,h.addDisposableDomListener)(this.textarea,"input",P=>this._inputEvent(P),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(P){var W;if(!P)throw new Error("Terminal requires a parent element.");P.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=P.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),P.appendChild(this.element);const G=Y.createDocumentFragment();this._viewportElement=Y.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),G.appendChild(this._viewportElement),this._viewportScrollArea=Y.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Y.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Y.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),G.appendChild(this.screenElement),this.textarea=Y.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",p.promptLabel),B.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,(W=this._document.defaultView)!==null&&W!==void 0?W:window),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,h.addDisposableDomListener)(this.textarea,"focus",q=>this._handleTextAreaFocus(q))),this.register((0,h.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(A.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(v.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(b.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(q=>this._onRender.fire(q))),this.onResize(q=>this._renderService.resize(q.cols,q.rows)),this._compositionView=Y.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(G);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(k.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(y.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(q=>this.scrollLines(q.amount,q.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(x.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(q=>this.scrollLines(q.amount,q.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(q=>this._renderService.handleSelectionChanged(q.start,q.end,q.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(q=>{this.textarea.value=q,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(q=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(w.BufferDecorationRenderer,this.screenElement)),this.register((0,h.addDisposableDomListener)(this.element,"mousedown",q=>this._selectionService.handleMouseDown(q))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(O.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",q=>this._handleScreenReaderModeOptionChange(q))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(g.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",q=>{!this._overviewRulerRenderer&&q&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(g.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const P=this,W=this.element;function G(ne){const de=P._mouseService.getMouseReportCoords(ne,P.screenElement);if(!de)return!1;let we,ye;switch(ne.overrideType||ne.type){case"mousemove":ye=32,ne.buttons===void 0?(we=3,ne.button!==void 0&&(we=ne.button<3?ne.button:3)):we=1&ne.buttons?0:4&ne.buttons?1:2&ne.buttons?2:3;break;case"mouseup":ye=0,we=ne.button<3?ne.button:3;break;case"mousedown":ye=1,we=ne.button<3?ne.button:3;break;case"wheel":if(P.viewport.getLinesScrolled(ne)===0)return!1;ye=ne.deltaY<0?0:1,we=4;break;default:return!1}return!(ye===void 0||we===void 0||we>4)&&P.coreMouseService.triggerMouseEvent({col:de.col,row:de.row,x:de.x,y:de.y,button:we,action:ye,ctrl:ne.ctrlKey,alt:ne.altKey,shift:ne.shiftKey})}const q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ce={mouseup:ne=>(G(ne),ne.buttons||(this._document.removeEventListener("mouseup",q.mouseup),q.mousedrag&&this._document.removeEventListener("mousemove",q.mousedrag)),this.cancel(ne)),wheel:ne=>(G(ne),this.cancel(ne,!0)),mousedrag:ne=>{ne.buttons&&G(ne)},mousemove:ne=>{ne.buttons||G(ne)}};this.register(this.coreMouseService.onProtocolChange(ne=>{ne?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ne)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ne?q.mousemove||(W.addEventListener("mousemove",ce.mousemove),q.mousemove=ce.mousemove):(W.removeEventListener("mousemove",q.mousemove),q.mousemove=null),16&ne?q.wheel||(W.addEventListener("wheel",ce.wheel,{passive:!1}),q.wheel=ce.wheel):(W.removeEventListener("wheel",q.wheel),q.wheel=null),2&ne?q.mouseup||(W.addEventListener("mouseup",ce.mouseup),q.mouseup=ce.mouseup):(this._document.removeEventListener("mouseup",q.mouseup),W.removeEventListener("mouseup",q.mouseup),q.mouseup=null),4&ne?q.mousedrag||(q.mousedrag=ce.mousedrag):(this._document.removeEventListener("mousemove",q.mousedrag),q.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,h.addDisposableDomListener)(W,"mousedown",ne=>{if(ne.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ne))return G(ne),q.mouseup&&this._document.addEventListener("mouseup",q.mouseup),q.mousedrag&&this._document.addEventListener("mousemove",q.mousedrag),this.cancel(ne)})),this.register((0,h.addDisposableDomListener)(W,"wheel",ne=>{if(!q.wheel){if(!this.buffer.hasScrollback){const de=this.viewport.getLinesScrolled(ne);if(de===0)return;const we=H.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ne.deltaY<0?"A":"B");let ye="";for(let Re=0;Re<Math.abs(de);Re++)ye+=we;return this.coreService.triggerDataEvent(ye,!0),this.cancel(ne,!0)}return this.viewport.handleWheel(ne)?this.cancel(ne):void 0}},{passive:!1})),this.register((0,h.addDisposableDomListener)(W,"touchstart",ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ne),this.cancel(ne)},{passive:!0})),this.register((0,h.addDisposableDomListener)(W,"touchmove",ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ne)?void 0:this.cancel(ne)},{passive:!1}))}refresh(P,W){var G;(G=this._renderService)===null||G===void 0||G.refreshRows(P,W)}updateCursorStyle(P){var W;!((W=this._selectionService)===null||W===void 0)&&W.shouldColumnSelect(P)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(P,W,G=0){var q;G===1?(super.scrollLines(P,W,G),this.refresh(0,this.rows-1)):(q=this.viewport)===null||q===void 0||q.scrollLines(P)}paste(P){(0,c.paste)(P,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(P){this._customKeyEventHandler=P}registerLinkProvider(P){return this.linkifier2.registerLinkProvider(P)}registerCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const W=this._characterJoinerService.register(P);return this.refresh(0,this.rows-1),W}deregisterCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(P)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(P){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+P)}registerDecoration(P){return this._decorationService.registerDecoration(P)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(P,W,G){this._selectionService.setSelection(P,W,G)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var P;(P=this._selectionService)===null||P===void 0||P.clearSelection()}selectAll(){var P;(P=this._selectionService)===null||P===void 0||P.selectAll()}selectLines(P,W){var G;(G=this._selectionService)===null||G===void 0||G.selectLines(P,W)}_keyDown(P){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;const W=this.browser.isMac&&this.options.macOptionIsMeta&&P.altKey;if(!W&&!this._compositionHelper.keydown(P))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;W||P.key!=="Dead"&&P.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const G=(0,L.evaluateKeyboardEvent)(P,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(P),G.type===3||G.type===2){const q=this.rows-1;return this.scrollLines(G.type===2?-q:q),this.cancel(P,!0)}return G.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,P)||(G.cancel&&this.cancel(P,!0),!G.key||!!(P.key&&!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&P.key.charCodeAt(0)>=65&&P.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(G.key!==H.C0.ETX&&G.key!==H.C0.CR||(this.textarea.value=""),this._onKey.fire({key:G.key,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(G.key,!0),!this.optionsService.rawOptions.screenReaderMode||P.altKey||P.ctrlKey?this.cancel(P,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(P,W){const G=P.isMac&&!this.options.macOptionIsMeta&&W.altKey&&!W.ctrlKey&&!W.metaKey||P.isWindows&&W.altKey&&W.ctrlKey&&!W.metaKey||P.isWindows&&W.getModifierState("AltGraph");return W.type==="keypress"?G:G&&(!W.keyCode||W.keyCode>47)}_keyUp(P){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1||(function(W){return W.keyCode===16||W.keyCode===17||W.keyCode===18}(P)||this.focus(),this.updateCursorStyle(P),this._keyPressHandled=!1)}_keyPress(P){let W;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;if(this.cancel(P),P.charCode)W=P.charCode;else if(P.which===null||P.which===void 0)W=P.keyCode;else{if(P.which===0||P.charCode===0)return!1;W=P.which}return!(!W||(P.altKey||P.ctrlKey||P.metaKey)&&!this._isThirdLevelShift(this.browser,P)||(W=String.fromCharCode(W),this._onKey.fire({key:W,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(W,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(P){if(P.data&&P.inputType==="insertText"&&(!P.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const W=P.data;return this.coreService.triggerDataEvent(W,!0),this.cancel(P),!0}return!1}resize(P,W){P!==this.cols||W!==this.rows?super.resize(P,W):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(P,W){var G,q;(G=this._charSizeService)===null||G===void 0||G.measure(),(q=this.viewport)===null||q===void 0||q.syncScrollArea(!0)}clear(){var P;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let W=1;W<this.rows;W++)this.buffer.lines.push(this.buffer.getBlankLine(z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(P=this.viewport)===null||P===void 0||P.reset(),this.refresh(0,this.rows-1)}}reset(){var P,W;this.options.rows=this.rows,this.options.cols=this.cols;const G=this._customKeyEventHandler;this._setup(),super.reset(),(P=this._selectionService)===null||P===void 0||P.reset(),this._decorationService.reset(),(W=this.viewport)===null||W===void 0||W.reset(),this._customKeyEventHandler=G,this.refresh(0,this.rows-1)}clearTextureAtlas(){var P;(P=this._renderService)===null||P===void 0||P.clearTextureAtlas()}_reportFocus(){var P;!((P=this.element)===null||P===void 0)&&P.classList.contains("focus")?this.coreService.triggerDataEvent(H.C0.ESC+"[I"):this.coreService.triggerDataEvent(H.C0.ESC+"[O")}_reportWindowsOptions(P){if(this._renderService)switch(P){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const W=this._renderService.dimensions.css.canvas.width.toFixed(0),G=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[4;${G};${W}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const q=this._renderService.dimensions.css.cell.width.toFixed(0),ce=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[6;${ce};${q}t`)}}cancel(P,W){if(this.options.cancelEvents||W)return P.preventDefault(),P.stopPropagation(),!1}}o.Terminal=K},9924:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(a,c=1e3){this._renderCallback=a,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,c,h){this._rowCount=h,a=a!==void 0?a:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const p=u-this._lastRefreshMs,m=this._debounceThresholdMS-p;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},m)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,c)}}},1680:function(l,o,a){var c=this&&this.__decorate||function(f,d,_,v){var S,k=arguments.length,b=k<3?d:v===null?v=Object.getOwnPropertyDescriptor(d,_):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,d,_,v);else for(var x=f.length-1;x>=0;x--)(S=f[x])&&(b=(k<3?S(b):k>3?S(d,_,b):S(d,_))||b);return k>3&&b&&Object.defineProperty(d,_,b),b},h=this&&this.__param||function(f,d){return function(_,v){d(_,v,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const u=a(3656),p=a(4725),m=a(8460),y=a(844),w=a(2585);let g=o.Viewport=class extends y.Disposable{constructor(f,d,_,v,S,k,b,x){super(),this._viewportElement=f,this._scrollArea=d,this._bufferService=_,this._optionsService=v,this._charSizeService=S,this._renderService=k,this._coreBrowserService=b,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new m.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(C=>this._activeBuffer=C.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(C=>this._renderDimensions=C)),this._handleThemeChange(x.colors),this.register(x.onChangeColors(C=>this._handleThemeChange(C))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,d){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(d<0&&this._viewportElement.scrollTop!==0||d>0&&_<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const d=this._getPixelsScrolled(f);return d!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}scrollLines(f){if(f!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const d=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getBufferElements(f,d){var _;let v,S="";const k=[],b=d??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let C=f;C<b;C++){const A=x.get(C);if(!A)continue;const N=(_=x.get(C+1))===null||_===void 0?void 0:_.isWrapped;if(S+=A.translateToString(!N),!N||C===x.length-1){const I=document.createElement("div");I.textContent=S,k.push(I),S.length>0&&(v=I),S=""}}return{bufferElements:k,cursorElement:v}}getLinesScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(f,d){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&d.altKey||_==="ctrl"&&d.ctrlKey||_==="shift"&&d.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const d=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,d!==0&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}};o.Viewport=g=c([h(2,w.IBufferService),h(3,w.IOptionsService),h(4,p.ICharSizeService),h(5,p.IRenderService),h(6,p.ICoreBrowserService),h(7,p.IThemeService)],g)},3107:function(l,o,a){var c=this&&this.__decorate||function(g,f,d,_){var v,S=arguments.length,k=S<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(g,f,d,_);else for(var b=g.length-1;b>=0;b--)(v=g[b])&&(k=(S<3?v(k):S>3?v(f,d,k):v(f,d))||k);return S>3&&k&&Object.defineProperty(f,d,k),k},h=this&&this.__param||function(g,f){return function(d,_){f(d,_,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const u=a(3656),p=a(4725),m=a(844),y=a(2585);let w=o.BufferDecorationRenderer=class extends m.Disposable{constructor(g,f,d,_){super(),this._screenElement=g,this._bufferService=f,this._decorationService=d,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(v=>this._removeDecoration(v))),this.register((0,m.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const g of this._decorationService.decorations)this._renderDecoration(g);this._dimensionsChanged=!1}_renderDecoration(g){this._refreshStyle(g),this._dimensionsChanged&&this._refreshXPosition(g)}_createElement(g){var f,d;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((f=g==null?void 0:g.options)===null||f===void 0?void 0:f.layer)==="top"),_.style.width=`${Math.round((g.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(g.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(g.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const v=(d=g.options.x)!==null&&d!==void 0?d:0;return v&&v>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(g,_),_}_refreshStyle(g){const f=g.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)g.element&&(g.element.style.display="none",g.onRenderEmitter.fire(g.element));else{let d=this._decorationElements.get(g);d||(d=this._createElement(g),g.element=d,this._decorationElements.set(g,d),this._container.appendChild(d),g.onDispose(()=>{this._decorationElements.delete(g),d.remove()})),d.style.top=f*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",g.onRenderEmitter.fire(d)}}_refreshXPosition(g,f=g.element){var d;if(!f)return;const _=(d=g.options.x)!==null&&d!==void 0?d:0;(g.options.anchor||"left")==="right"?f.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(g){var f;(f=this._decorationElements.get(g))===null||f===void 0||f.remove(),this._decorationElements.delete(g),g.dispose()}};o.BufferDecorationRenderer=w=c([h(1,y.IBufferService),h(2,y.IDecorationService),h(3,p.IRenderService)],w)},5871:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const c of this._zones)if(c.color===a.options.overviewRulerOptions.color&&c.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,a.marker.line))return;if(this._lineAdjacentToZone(c,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(c,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,c){return c>=a.startBufferLine&&c<=a.endBufferLine}_lineAdjacentToZone(a,c,h){return c>=a.startBufferLine-this._linePadding[h||"full"]&&c<=a.endBufferLine+this._linePadding[h||"full"]}_addLineToZone(a,c){a.startBufferLine=Math.min(a.startBufferLine,c),a.endBufferLine=Math.max(a.endBufferLine,c)}}},5744:function(l,o,a){var c=this&&this.__decorate||function(v,S,k,b){var x,C=arguments.length,A=C<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,k):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(v,S,k,b);else for(var N=v.length-1;N>=0;N--)(x=v[N])&&(A=(C<3?x(A):C>3?x(S,k,A):x(S,k))||A);return C>3&&A&&Object.defineProperty(S,k,A),A},h=this&&this.__param||function(v,S){return function(k,b){S(k,b,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const u=a(5871),p=a(3656),m=a(4725),y=a(844),w=a(2585),g={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let _=o.OverviewRulerRenderer=class extends y.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(v,S,k,b,x,C,A){var N;super(),this._viewportElement=v,this._screenElement=S,this._bufferService=k,this._decorationService=b,this._renderService=x,this._optionsService=C,this._coreBrowseService=A,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(N=this._viewportElement.parentElement)===null||N===void 0||N.insertBefore(this._canvas,this._viewportElement);const I=this._canvas.getContext("2d");if(!I)throw new Error("Ctx cannot be null");this._ctx=I,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,y.toDisposable)(()=>{var F;(F=this._canvas)===null||F===void 0||F.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,p.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const v=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=v,f.center=S,f.right=v,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=f.left,d.right=f.left+f.center}_refreshDrawHeightConstants(){g.full=Math.round(2*this._coreBrowseService.dpr);const v=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(v,12),6)*this._coreBrowseService.dpr);g.left=S,g.center=S,g.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*g.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*g.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*g.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*g.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const v=this._colorZoneStore.zones;for(const S of v)S.position!=="full"&&this._renderColorZone(S);for(const S of v)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(v){this._ctx.fillStyle=v.color,this._ctx.fillRect(d[v.position||"full"],Math.round((this._canvas.height-1)*(v.startBufferLine/this._bufferService.buffers.active.lines.length)-g[v.position||"full"]/2),f[v.position||"full"],Math.round((this._canvas.height-1)*((v.endBufferLine-v.startBufferLine)/this._bufferService.buffers.active.lines.length)+g[v.position||"full"]))}_queueRefresh(v,S){this._shouldUpdateDimensions=v||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=_=c([h(2,w.IBufferService),h(3,w.IDecorationService),h(4,m.IRenderService),h(5,w.IOptionsService),h(6,m.ICoreBrowserService)],_)},2950:function(l,o,a){var c=this&&this.__decorate||function(w,g,f,d){var _,v=arguments.length,S=v<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(w,g,f,d);else for(var k=w.length-1;k>=0;k--)(_=w[k])&&(S=(v<3?_(S):v>3?_(g,f,S):_(g,f))||S);return v>3&&S&&Object.defineProperty(g,f,S),S},h=this&&this.__param||function(w,g){return function(f,d){g(f,d,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const u=a(4725),p=a(2585),m=a(2584);let y=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(w,g,f,d,_,v){this._textarea=w,this._compositionView=g,this._bufferService=f,this._optionsService=d,this._coreService=_,this._renderService=v,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(w){this._compositionView.textContent=w.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(w){if(this._isComposing||this._isSendingComposition){if(w.keyCode===229||w.keyCode===16||w.keyCode===17||w.keyCode===18)return!1;this._finalizeComposition(!1)}return w.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(w){if(this._compositionView.classList.remove("active"),this._isComposing=!1,w){const g={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,g.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(g.start,g.end):this._textarea.value.substring(g.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const g=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(g,!0)}}_handleAnyTextareaChanges(){const w=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const g=this._textarea.value,f=g.replace(w,"");this._dataAlreadySent=f,g.length>w.length?this._coreService.triggerDataEvent(f,!0):g.length<w.length?this._coreService.triggerDataEvent(`${m.C0.DEL}`,!0):g.length===w.length&&g!==w&&this._coreService.triggerDataEvent(g,!0)}},0)}updateCompositionElements(w){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const g=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,d=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=g*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=d+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const v=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=d+"px",this._textarea.style.width=Math.max(v.width,1)+"px",this._textarea.style.height=Math.max(v.height,1)+"px",this._textarea.style.lineHeight=v.height+"px"}w||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=y=c([h(2,p.IBufferService),h(3,p.IOptionsService),h(4,p.ICoreService),h(5,u.IRenderService)],y)},9806:(l,o)=>{function a(c,h,u){const p=u.getBoundingClientRect(),m=c.getComputedStyle(u),y=parseInt(m.getPropertyValue("padding-left")),w=parseInt(m.getPropertyValue("padding-top"));return[h.clientX-p.left-y,h.clientY-p.top-w]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=a,o.getCoords=function(c,h,u,p,m,y,w,g,f){if(!y)return;const d=a(c,h,u);return d?(d[0]=Math.ceil((d[0]+(f?w/2:0))/w),d[1]=Math.ceil(d[1]/g),d[0]=Math.min(Math.max(d[0],1),p+(f?1:0)),d[1]=Math.min(Math.max(d[1],1),m),d):void 0}},9504:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const c=a(2584);function h(g,f,d,_){const v=g-u(g,d),S=f-u(f,d),k=Math.abs(v-S)-function(b,x,C){let A=0;const N=b-u(b,C),I=x-u(x,C);for(let F=0;F<Math.abs(N-I);F++){const D=p(b,x)==="A"?-1:1,B=C.buffer.lines.get(N+D*F);B!=null&&B.isWrapped&&A++}return A}(g,f,d);return w(k,y(p(g,f),_))}function u(g,f){let d=0,_=f.buffer.lines.get(g),v=_==null?void 0:_.isWrapped;for(;v&&g>=0&&g<f.rows;)d++,_=f.buffer.lines.get(--g),v=_==null?void 0:_.isWrapped;return d}function p(g,f){return g>f?"A":"B"}function m(g,f,d,_,v,S){let k=g,b=f,x="";for(;k!==d||b!==_;)k+=v?1:-1,v&&k>S.cols-1?(x+=S.buffer.translateBufferLineToString(b,!1,g,k),k=0,g=0,b++):!v&&k<0&&(x+=S.buffer.translateBufferLineToString(b,!1,0,g+1),k=S.cols-1,g=k,b--);return x+S.buffer.translateBufferLineToString(b,!1,g,k)}function y(g,f){const d=f?"O":"[";return c.C0.ESC+d+g}function w(g,f){g=Math.floor(g);let d="";for(let _=0;_<g;_++)d+=f;return d}o.moveToCellSequence=function(g,f,d,_){const v=d.buffer.x,S=d.buffer.y;if(!d.buffer.hasScrollback)return function(x,C,A,N,I,F){return h(C,N,I,F).length===0?"":w(m(x,C,x,C-u(C,I),!1,I).length,y("D",F))}(v,S,0,f,d,_)+h(S,f,d,_)+function(x,C,A,N,I,F){let D;D=h(C,N,I,F).length>0?N-u(N,I):C;const B=N,z=function(H,L,R,E,M,U){let O;return O=h(R,E,M,U).length>0?E-u(E,M):L,H<R&&O<=E||H>=R&&O<E?"C":"D"}(x,C,A,N,I,F);return w(m(x,D,A,B,z==="C",I).length,y(z,F))}(v,S,g,f,d,_);let k;if(S===f)return k=v>g?"D":"C",w(Math.abs(v-g),y(k,_));k=S>f?"D":"C";const b=Math.abs(S-f);return w(function(x,C){return C.cols-x}(S>f?g:v,d)+(b-1)*d.cols+1+((S>f?v:g)-1),y(k,_))}},1296:function(l,o,a){var c=this&&this.__decorate||function(I,F,D,B){var z,H=arguments.length,L=H<3?F:B===null?B=Object.getOwnPropertyDescriptor(F,D):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(I,F,D,B);else for(var R=I.length-1;R>=0;R--)(z=I[R])&&(L=(H<3?z(L):H>3?z(F,D,L):z(F,D))||L);return H>3&&L&&Object.defineProperty(F,D,L),L},h=this&&this.__param||function(I,F){return function(D,B){F(D,B,I)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const u=a(3787),p=a(2550),m=a(2223),y=a(6171),w=a(4725),g=a(8055),f=a(8460),d=a(844),_=a(2585),v="xterm-dom-renderer-owner-",S="xterm-rows",k="xterm-fg-",b="xterm-bg-",x="xterm-focus",C="xterm-selection";let A=1,N=o.DomRenderer=class extends d.Disposable{constructor(I,F,D,B,z,H,L,R,E,M){super(),this._element=I,this._screenElement=F,this._viewportElement=D,this._linkifier2=B,this._charSizeService=H,this._optionsService=L,this._bufferService=R,this._coreBrowserService=E,this._themeService=M,this._terminalClass=A++,this._rowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(C),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,y.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(U=>this._injectCss(U))),this._injectCss(this._themeService.colors),this._rowFactory=z.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(v+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(U=>this._handleLinkHover(U))),this.register(this._linkifier2.onHideLinkUnderline(U=>this._handleLinkLeave(U))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(v+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new p.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const I=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*I,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*I),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/I),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/I),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const D of this._rowElements)D.style.width=`${this.dimensions.css.canvas.width}px`,D.style.height=`${this.dimensions.css.cell.height}px`,D.style.lineHeight=`${this.dimensions.css.cell.height}px`,D.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const F=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=F,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(I){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let F=`${this._terminalSelector} .${S} { color: ${I.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;F+=`${this._terminalSelector} .${S} .xterm-dim { color: ${g.color.multiplyOpacity(I.foreground,.5).css};}`,F+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,F+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",F+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${I.cursor.css};  color: ${I.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${I.cursor.css}; }}`,F+=`${this._terminalSelector} .${S}.${x} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${I.cursor.css}; color: ${I.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${I.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${I.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${I.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,F+=`${this._terminalSelector} .${C} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${C} div { position: absolute; background-color: ${I.selectionBackgroundOpaque.css};}${this._terminalSelector} .${C} div { position: absolute; background-color: ${I.selectionInactiveBackgroundOpaque.css};}`;for(const[D,B]of I.ansi.entries())F+=`${this._terminalSelector} .${k}${D} { color: ${B.css}; }${this._terminalSelector} .${k}${D}.xterm-dim { color: ${g.color.multiplyOpacity(B,.5).css}; }${this._terminalSelector} .${b}${D} { background-color: ${B.css}; }`;F+=`${this._terminalSelector} .${k}${m.INVERTED_DEFAULT_COLOR} { color: ${g.color.opaque(I.background).css}; }${this._terminalSelector} .${k}${m.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${g.color.multiplyOpacity(g.color.opaque(I.background),.5).css}; }${this._terminalSelector} .${b}${m.INVERTED_DEFAULT_COLOR} { background-color: ${I.foreground.css}; }`,this._themeStyleElement.textContent=F}_setDefaultSpacing(){const I=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${I}px`,this._rowFactory.defaultSpacing=I}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(I,F){for(let D=this._rowElements.length;D<=F;D++){const B=document.createElement("div");this._rowContainer.appendChild(B),this._rowElements.push(B)}for(;this._rowElements.length>F;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(I,F){this._refreshRowElements(I,F),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(I,F,D){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(I,F,D),this.renderRows(0,this._bufferService.rows-1),!I||!F)return;const B=I[1]-this._bufferService.buffer.ydisp,z=F[1]-this._bufferService.buffer.ydisp,H=Math.max(B,0),L=Math.min(z,this._bufferService.rows-1);if(H>=this._bufferService.rows||L<0)return;const R=document.createDocumentFragment();if(D){const E=I[0]>F[0];R.appendChild(this._createSelectionElement(H,E?F[0]:I[0],E?I[0]:F[0],L-H+1))}else{const E=B===H?I[0]:0,M=H===z?F[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(H,E,M));const U=L-H-1;if(R.appendChild(this._createSelectionElement(H+1,0,this._bufferService.cols,U)),H!==L){const O=z===L?F[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(L,0,O))}}this._selectionContainer.appendChild(R)}_createSelectionElement(I,F,D,B=1){const z=document.createElement("div");return z.style.height=B*this.dimensions.css.cell.height+"px",z.style.top=I*this.dimensions.css.cell.height+"px",z.style.left=F*this.dimensions.css.cell.width+"px",z.style.width=this.dimensions.css.cell.width*(D-F)+"px",z}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const I of this._rowElements)I.replaceChildren()}renderRows(I,F){const D=this._bufferService.buffer,B=D.ybase+D.y,z=Math.min(D.x,this._bufferService.cols-1),H=this._optionsService.rawOptions.cursorBlink,L=this._optionsService.rawOptions.cursorStyle,R=this._optionsService.rawOptions.cursorInactiveStyle;for(let E=I;E<=F;E++){const M=E+D.ydisp,U=this._rowElements[E],O=D.lines.get(M);if(!U||!O)break;U.replaceChildren(...this._rowFactory.createRow(O,M,M===B,L,R,z,H,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${v}${this._terminalClass}`}_handleLinkHover(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!0)}_handleLinkLeave(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!1)}_setCellUnderline(I,F,D,B,z,H){D<0&&(I=0),B<0&&(F=0);const L=this._bufferService.rows-1;D=Math.max(Math.min(D,L),0),B=Math.max(Math.min(B,L),0),z=Math.min(z,this._bufferService.cols);const R=this._bufferService.buffer,E=R.ybase+R.y,M=Math.min(R.x,z-1),U=this._optionsService.rawOptions.cursorBlink,O=this._optionsService.rawOptions.cursorStyle,Y=this._optionsService.rawOptions.cursorInactiveStyle;for(let K=D;K<=B;++K){const ee=K+R.ydisp,P=this._rowElements[K],W=R.lines.get(ee);if(!P||!W)break;P.replaceChildren(...this._rowFactory.createRow(W,ee,ee===E,O,Y,M,U,this.dimensions.css.cell.width,this._widthCache,H?K===D?I:0:-1,H?(K===B?F:z)-1:-1))}}};o.DomRenderer=N=c([h(4,_.IInstantiationService),h(5,w.ICharSizeService),h(6,_.IOptionsService),h(7,_.IBufferService),h(8,w.ICoreBrowserService),h(9,w.IThemeService)],N)},3787:function(l,o,a){var c=this&&this.__decorate||function(k,b,x,C){var A,N=arguments.length,I=N<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,x):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(k,b,x,C);else for(var F=k.length-1;F>=0;F--)(A=k[F])&&(I=(N<3?A(I):N>3?A(b,x,I):A(b,x))||I);return N>3&&I&&Object.defineProperty(b,x,I),I},h=this&&this.__param||function(k,b){return function(x,C){b(x,C,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const u=a(2223),p=a(643),m=a(511),y=a(2585),w=a(8055),g=a(4725),f=a(4269),d=a(6171),_=a(3734);let v=o.DomRendererRowFactory=class{constructor(k,b,x,C,A,N,I){this._document=k,this._characterJoinerService=b,this._optionsService=x,this._coreBrowserService=C,this._coreService=A,this._decorationService=N,this._themeService=I,this._workCell=new m.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(k,b,x){this._selectionStart=k,this._selectionEnd=b,this._columnSelectMode=x}createRow(k,b,x,C,A,N,I,F,D,B,z){const H=[],L=this._characterJoinerService.getJoinedCharacters(b),R=this._themeService.colors;let E,M=k.getNoBgTrimmedLength();x&&M<N+1&&(M=N+1);let U=0,O="",Y=0,K=0,ee=0,P=!1,W=0,G=!1,q=0;const ce=[],ne=B!==-1&&z!==-1;for(let de=0;de<M;de++){k.loadCell(de,this._workCell);let we=this._workCell.getWidth();if(we===0)continue;let ye=!1,Re=de,oe=this._workCell;if(L.length>0&&de===L[0][0]){ye=!0;const te=L.shift();oe=new f.JoinedCellData(this._workCell,k.translateToString(!0,te[0],te[1]),te[1]-te[0]),Re=te[1]-1,we=oe.getWidth()}const le=this._isCellInSelection(de,b),Ne=x&&de===N,Ue=ne&&de>=B&&de<=z;let at=!1;this._decorationService.forEachDecorationAtCell(de,b,void 0,te=>{at=!0});let tt=oe.getChars()||p.WHITESPACE_CELL_CHAR;if(tt===" "&&(oe.isUnderline()||oe.isOverline())&&(tt=""),q=we*F-D.get(tt,oe.isBold(),oe.isItalic()),E){if(U&&(le&&G||!le&&!G&&oe.bg===Y)&&(le&&G&&R.selectionForeground||oe.fg===K)&&oe.extended.ext===ee&&Ue===P&&q===W&&!Ne&&!ye&&!at){O+=tt,U++;continue}U&&(E.textContent=O),E=this._document.createElement("span"),U=0,O=""}else E=this._document.createElement("span");if(Y=oe.bg,K=oe.fg,ee=oe.extended.ext,P=Ue,W=q,G=le,ye&&N>=de&&N<=Re&&(N=de),!this._coreService.isCursorHidden&&Ne){if(ce.push("xterm-cursor"),this._coreBrowserService.isFocused)I&&ce.push("xterm-cursor-blink"),ce.push(C==="bar"?"xterm-cursor-bar":C==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(A)switch(A){case"outline":ce.push("xterm-cursor-outline");break;case"block":ce.push("xterm-cursor-block");break;case"bar":ce.push("xterm-cursor-bar");break;case"underline":ce.push("xterm-cursor-underline")}}if(oe.isBold()&&ce.push("xterm-bold"),oe.isItalic()&&ce.push("xterm-italic"),oe.isDim()&&ce.push("xterm-dim"),O=oe.isInvisible()?p.WHITESPACE_CELL_CHAR:oe.getChars()||p.WHITESPACE_CELL_CHAR,oe.isUnderline()&&(ce.push(`xterm-underline-${oe.extended.underlineStyle}`),O===" "&&(O=""),!oe.isUnderlineColorDefault()))if(oe.isUnderlineColorRGB())E.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(oe.getUnderlineColor()).join(",")})`;else{let te=oe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&oe.isBold()&&te<8&&(te+=8),E.style.textDecorationColor=R.ansi[te].css}oe.isOverline()&&(ce.push("xterm-overline"),O===" "&&(O="")),oe.isStrikethrough()&&ce.push("xterm-strikethrough"),Ue&&(E.style.textDecoration="underline");let Ae=oe.getFgColor(),Fe=oe.getFgColorMode(),Oe=oe.getBgColor(),Z=oe.getBgColorMode();const J=!!oe.isInverse();if(J){const te=Ae;Ae=Oe,Oe=te;const fe=Fe;Fe=Z,Z=fe}let ae,_e,$,X=!1;switch(this._decorationService.forEachDecorationAtCell(de,b,void 0,te=>{te.options.layer!=="top"&&X||(te.backgroundColorRGB&&(Z=50331648,Oe=te.backgroundColorRGB.rgba>>8&16777215,ae=te.backgroundColorRGB),te.foregroundColorRGB&&(Fe=50331648,Ae=te.foregroundColorRGB.rgba>>8&16777215,_e=te.foregroundColorRGB),X=te.options.layer==="top")}),!X&&le&&(ae=this._coreBrowserService.isFocused?R.selectionBackgroundOpaque:R.selectionInactiveBackgroundOpaque,Oe=ae.rgba>>8&16777215,Z=50331648,X=!0,R.selectionForeground&&(Fe=50331648,Ae=R.selectionForeground.rgba>>8&16777215,_e=R.selectionForeground)),X&&ce.push("xterm-decoration-top"),Z){case 16777216:case 33554432:$=R.ansi[Oe],ce.push(`xterm-bg-${Oe}`);break;case 50331648:$=w.rgba.toColor(Oe>>16,Oe>>8&255,255&Oe),this._addStyle(E,`background-color:#${S((Oe>>>0).toString(16),"0",6)}`);break;default:J?($=R.foreground,ce.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):$=R.background}switch(ae||oe.isDim()&&(ae=w.color.multiplyOpacity($,.5)),Fe){case 16777216:case 33554432:oe.isBold()&&Ae<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Ae+=8),this._applyMinimumContrast(E,$,R.ansi[Ae],oe,ae,void 0)||ce.push(`xterm-fg-${Ae}`);break;case 50331648:const te=w.rgba.toColor(Ae>>16&255,Ae>>8&255,255&Ae);this._applyMinimumContrast(E,$,te,oe,ae,_e)||this._addStyle(E,`color:#${S(Ae.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(E,$,R.foreground,oe,ae,void 0)||J&&ce.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}ce.length&&(E.className=ce.join(" "),ce.length=0),Ne||ye||at?E.textContent=O:U++,q!==this.defaultSpacing&&(E.style.letterSpacing=`${q}px`),H.push(E),de=Re}return E&&U&&(E.textContent=O),H}_applyMinimumContrast(k,b,x,C,A,N){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,d.excludeFromContrastRatioDemands)(C.getCode()))return!1;const I=this._getContrastCache(C);let F;if(A||N||(F=I.getColor(b.rgba,x.rgba)),F===void 0){const D=this._optionsService.rawOptions.minimumContrastRatio/(C.isDim()?2:1);F=w.color.ensureContrastRatio(A||b,N||x,D),I.setColor((A||b).rgba,(N||x).rgba,F??null)}return!!F&&(this._addStyle(k,`color:${F.css}`),!0)}_getContrastCache(k){return k.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(k,b){k.setAttribute("style",`${k.getAttribute("style")||""}${b};`)}_isCellInSelection(k,b){const x=this._selectionStart,C=this._selectionEnd;return!(!x||!C)&&(this._columnSelectMode?x[0]<=C[0]?k>=x[0]&&b>=x[1]&&k<C[0]&&b<=C[1]:k<x[0]&&b>=x[1]&&k>=C[0]&&b<=C[1]:b>x[1]&&b<C[1]||x[1]===C[1]&&b===x[1]&&k>=x[0]&&k<C[0]||x[1]<C[1]&&b===C[1]&&k<C[0]||x[1]<C[1]&&b===x[1]&&k>=x[0])}};function S(k,b,x){for(;k.length<x;)k=b+k;return k}o.DomRendererRowFactory=v=c([h(1,g.ICharacterJoinerService),h(2,y.IOptionsService),h(3,g.ICoreBrowserService),h(4,y.ICoreService),h(5,y.IDecorationService),h(6,g.IThemeService)],v)},2550:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=a.createElement("span"),h=a.createElement("span");h.style.fontWeight="bold";const u=a.createElement("span");u.style.fontStyle="italic";const p=a.createElement("span");p.style.fontWeight="bold",p.style.fontStyle="italic",this._measureElements=[c,h,u,p],this._container.appendChild(c),this._container.appendChild(h),this._container.appendChild(u),this._container.appendChild(p),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,c,h,u){a===this._font&&c===this._fontSize&&h===this._weight&&u===this._weightBold||(this._font=a,this._fontSize=c,this._weight=h,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${h}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${h}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(a,c,h){let u=0;if(!c&&!h&&a.length===1&&(u=a.charCodeAt(0))<256)return this._flat[u]!==-9999?this._flat[u]:this._flat[u]=this._measure(a,0);let p=a;c&&(p+="B"),h&&(p+="I");let m=this._holey.get(p);if(m===void 0){let y=0;c&&(y|=1),h&&(y|=2),m=this._measure(a,y),this._holey.set(p,m)}return m}_measure(a,c){const h=this._measureElements[c];return h.textContent=a.repeat(32),h.offsetWidth/32}}},2223:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const c=a(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(l,o)=>{function a(c){return 57508<=c&&c<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},o.isPowerlineGlyph=a,o.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},o.excludeFromContrastRatioDemands=function(c){return a(c)||function(h){return 9472<=h&&h<=9631}(c)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,c=this.selectionEnd;return!(!a||!c)&&(a[1]>c[1]||a[1]===c[1]&&a[0]>c[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,o,a){var c=this&&this.__decorate||function(g,f,d,_){var v,S=arguments.length,k=S<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(g,f,d,_);else for(var b=g.length-1;b>=0;b--)(v=g[b])&&(k=(S<3?v(k):S>3?v(f,d,k):v(f,d))||k);return S>3&&k&&Object.defineProperty(f,d,k),k},h=this&&this.__param||function(g,f){return function(d,_){f(d,_,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const u=a(2585),p=a(8460),m=a(844);let y=o.CharSizeService=class extends m.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(g,f,d){super(),this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=this.register(new p.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new w(g,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())}};o.CharSizeService=y=c([h(2,u.IOptionsService)],y);class w{constructor(f,d,_){this._document=f,this._parentElement=d,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return f.width!==0&&f.height!==0&&(this._result.width=f.width/32,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(l,o,a){var c=this&&this.__decorate||function(f,d,_,v){var S,k=arguments.length,b=k<3?d:v===null?v=Object.getOwnPropertyDescriptor(d,_):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,d,_,v);else for(var x=f.length-1;x>=0;x--)(S=f[x])&&(b=(k<3?S(b):k>3?S(d,_,b):S(d,_))||b);return k>3&&b&&Object.defineProperty(d,_,b),b},h=this&&this.__param||function(f,d){return function(_,v){d(_,v,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const u=a(3734),p=a(643),m=a(511),y=a(2585);class w extends u.AttributeData{constructor(d,_,v){super(),this.content=0,this.combinedData="",this.fg=d.fg,this.bg=d.bg,this.combinedData=_,this._width=v}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(d){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=w;let g=o.CharacterJoinerService=class hw{constructor(d){this._bufferService=d,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new m.CellData}register(d){const _={id:this._nextCharacterJoinerId++,handler:d};return this._characterJoiners.push(_),_.id}deregister(d){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===d)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(d){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(d);if(!_||_.length===0)return[];const v=[],S=_.translateToString(!0);let k=0,b=0,x=0,C=_.getFg(0),A=_.getBg(0);for(let N=0;N<_.getTrimmedLength();N++)if(_.loadCell(N,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==C||this._workCell.bg!==A){if(N-k>1){const I=this._getJoinedRanges(S,x,b,_,k);for(let F=0;F<I.length;F++)v.push(I[F])}k=N,x=b,C=this._workCell.fg,A=this._workCell.bg}b+=this._workCell.getChars().length||p.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-k>1){const N=this._getJoinedRanges(S,x,b,_,k);for(let I=0;I<N.length;I++)v.push(N[I])}return v}_getJoinedRanges(d,_,v,S,k){const b=d.substring(_,v);let x=[];try{x=this._characterJoiners[0].handler(b)}catch(C){console.error(C)}for(let C=1;C<this._characterJoiners.length;C++)try{const A=this._characterJoiners[C].handler(b);for(let N=0;N<A.length;N++)hw._mergeRanges(x,A[N])}catch(A){console.error(A)}return this._stringRangesToCellRanges(x,S,k),x}_stringRangesToCellRanges(d,_,v){let S=0,k=!1,b=0,x=d[S];if(x){for(let C=v;C<this._bufferService.cols;C++){const A=_.getWidth(C),N=_.getString(C).length||p.WHITESPACE_CELL_CHAR.length;if(A!==0){if(!k&&x[0]<=b&&(x[0]=C,k=!0),x[1]<=b){if(x[1]=C,x=d[++S],!x)break;x[0]<=b?(x[0]=C,k=!0):k=!1}b+=N}}x&&(x[1]=this._bufferService.cols)}}static _mergeRanges(d,_){let v=!1;for(let S=0;S<d.length;S++){const k=d[S];if(v){if(_[1]<=k[0])return d[S-1][1]=_[1],d;if(_[1]<=k[1])return d[S-1][1]=Math.max(_[1],k[1]),d.splice(S,1),d;d.splice(S,1),S--}else{if(_[1]<=k[0])return d.splice(S,0,_),d;if(_[1]<=k[1])return k[0]=Math.min(_[0],k[0]),d;_[0]<k[1]&&(k[0]=Math.min(_[0],k[0]),v=!0)}}return v?d[d.length-1][1]=_[1]:d.push(_),d}};o.CharacterJoinerService=g=c([h(0,y.IBufferService)],g)},5114:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(a,c){this._textarea=a,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(l,o,a){var c=this&&this.__decorate||function(y,w,g,f){var d,_=arguments.length,v=_<3?w:f===null?f=Object.getOwnPropertyDescriptor(w,g):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(y,w,g,f);else for(var S=y.length-1;S>=0;S--)(d=y[S])&&(v=(_<3?d(v):_>3?d(w,g,v):d(w,g))||v);return _>3&&v&&Object.defineProperty(w,g,v),v},h=this&&this.__param||function(y,w){return function(g,f){w(g,f,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const u=a(4725),p=a(9806);let m=o.MouseService=class{constructor(y,w){this._renderService=y,this._charSizeService=w}getCoords(y,w,g,f,d){return(0,p.getCoords)(window,y,w,g,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,d)}getMouseReportCoords(y,w){const g=(0,p.getCoordsRelativeToElement)(window,y,w);if(this._charSizeService.hasValidSize)return g[0]=Math.min(Math.max(g[0],0),this._renderService.dimensions.css.canvas.width-1),g[1]=Math.min(Math.max(g[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(g[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(g[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(g[0]),y:Math.floor(g[1])}}};o.MouseService=m=c([h(0,u.IRenderService),h(1,u.ICharSizeService)],m)},3230:function(l,o,a){var c=this&&this.__decorate||function(v,S,k,b){var x,C=arguments.length,A=C<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,k):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(v,S,k,b);else for(var N=v.length-1;N>=0;N--)(x=v[N])&&(A=(C<3?x(A):C>3?x(S,k,A):x(S,k))||A);return C>3&&A&&Object.defineProperty(S,k,A),A},h=this&&this.__param||function(v,S){return function(k,b){S(k,b,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const u=a(3656),p=a(6193),m=a(5596),y=a(4725),w=a(8460),g=a(844),f=a(7226),d=a(2585);let _=o.RenderService=class extends g.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(v,S,k,b,x,C,A,N){if(super(),this._rowCount=v,this._charSizeService=b,this._renderer=this.register(new g.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new p.RenderDebouncer(A.window,(I,F)=>this._renderRows(I,F)),this.register(this._renderDebouncer),this._screenDprMonitor=new m.ScreenDprMonitor(A.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(C.onResize(()=>this._fullRefresh())),this.register(C.buffers.onBufferActivate(()=>{var I;return(I=this._renderer.value)===null||I===void 0?void 0:I.clear()})),this.register(k.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(x.onDecorationRegistered(()=>this._fullRefresh())),this.register(x.onDecorationRemoved(()=>this._fullRefresh())),this.register(k.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(C.cols,C.rows),this._fullRefresh()})),this.register(k.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(C.buffer.y,C.buffer.y,!0))),this.register((0,u.addDisposableDomListener)(A.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(N.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in A.window){const I=new A.window.IntersectionObserver(F=>this._handleIntersectionChange(F[F.length-1]),{threshold:0});I.observe(S),this.register({dispose:()=>I.disconnect()})}}_handleIntersectionChange(v){this._isPaused=v.isIntersecting===void 0?v.intersectionRatio===0:!v.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(v,S,k=!1){this._isPaused?this._needsFullRefresh=!0:(k||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(v,S,this._rowCount))}_renderRows(v,S){this._renderer.value&&(v=Math.min(v,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(v,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:v,end:S}),this._onRender.fire({start:v,end:S}),this._isNextRenderRedrawOnly=!0)}resize(v,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(v){this._renderer.value=v,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(v){return this._renderDebouncer.addRefreshCallback(v)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var v,S;this._renderer.value&&((S=(v=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(v),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(v,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(v,S)):this._renderer.value.handleResize(v,S),this._fullRefresh())}handleCharSizeChanged(){var v;(v=this._renderer.value)===null||v===void 0||v.handleCharSizeChanged()}handleBlur(){var v;(v=this._renderer.value)===null||v===void 0||v.handleBlur()}handleFocus(){var v;(v=this._renderer.value)===null||v===void 0||v.handleFocus()}handleSelectionChanged(v,S,k){var b;this._selectionState.start=v,this._selectionState.end=S,this._selectionState.columnSelectMode=k,(b=this._renderer.value)===null||b===void 0||b.handleSelectionChanged(v,S,k)}handleCursorMove(){var v;(v=this._renderer.value)===null||v===void 0||v.handleCursorMove()}clear(){var v;(v=this._renderer.value)===null||v===void 0||v.clear()}};o.RenderService=_=c([h(2,d.IOptionsService),h(3,y.ICharSizeService),h(4,d.IDecorationService),h(5,d.IBufferService),h(6,y.ICoreBrowserService),h(7,y.IThemeService)],_)},9312:function(l,o,a){var c=this&&this.__decorate||function(x,C,A,N){var I,F=arguments.length,D=F<3?C:N===null?N=Object.getOwnPropertyDescriptor(C,A):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(x,C,A,N);else for(var B=x.length-1;B>=0;B--)(I=x[B])&&(D=(F<3?I(D):F>3?I(C,A,D):I(C,A))||D);return F>3&&D&&Object.defineProperty(C,A,D),D},h=this&&this.__param||function(x,C){return function(A,N){C(A,N,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const u=a(9806),p=a(9504),m=a(456),y=a(4725),w=a(8460),g=a(844),f=a(6114),d=a(4841),_=a(511),v=a(2585),S="",k=new RegExp(S,"g");let b=o.SelectionService=class extends g.Disposable{constructor(x,C,A,N,I,F,D,B,z){super(),this._element=x,this._screenElement=C,this._linkifier=A,this._bufferService=N,this._coreService=I,this._mouseService=F,this._optionsService=D,this._renderService=B,this._coreBrowserService=z,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=H=>this._handleMouseMove(H),this._mouseUpListener=H=>this._handleMouseUp(H),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(H=>this._handleTrim(H)),this.register(this._bufferService.buffers.onBufferActivate(H=>this._handleBufferActivate(H))),this.enable(),this._model=new m.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,g.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const x=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;return!(!x||!C||x[0]===C[0]&&x[1]===C[1])}get selectionText(){const x=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;if(!x||!C)return"";const A=this._bufferService.buffer,N=[];if(this._activeSelectionMode===3){if(x[0]===C[0])return"";const I=x[0]<C[0]?x[0]:C[0],F=x[0]<C[0]?C[0]:x[0];for(let D=x[1];D<=C[1];D++){const B=A.translateBufferLineToString(D,!0,I,F);N.push(B)}}else{const I=x[1]===C[1]?C[0]:void 0;N.push(A.translateBufferLineToString(x[1],!0,x[0],I));for(let F=x[1]+1;F<=C[1]-1;F++){const D=A.lines.get(F),B=A.translateBufferLineToString(F,!0);D!=null&&D.isWrapped?N[N.length-1]+=B:N.push(B)}if(x[1]!==C[1]){const F=A.lines.get(C[1]),D=A.translateBufferLineToString(C[1],!0,0,C[0]);F&&F.isWrapped?N[N.length-1]+=D:N.push(D)}}return N.map(I=>I.replace(k," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(x){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&x&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(x){const C=this._getMouseBufferCoords(x),A=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!!(A&&N&&C)&&this._areCoordsInSelection(C,A,N)}isCellInSelection(x,C){const A=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!A||!N)&&this._areCoordsInSelection([x,C],A,N)}_areCoordsInSelection(x,C,A){return x[1]>C[1]&&x[1]<A[1]||C[1]===A[1]&&x[1]===C[1]&&x[0]>=C[0]&&x[0]<A[0]||C[1]<A[1]&&x[1]===A[1]&&x[0]<A[0]||C[1]<A[1]&&x[1]===C[1]&&x[0]>=C[0]}_selectWordAtCursor(x,C){var A,N;const I=(N=(A=this._linkifier.currentLink)===null||A===void 0?void 0:A.link)===null||N===void 0?void 0:N.range;if(I)return this._model.selectionStart=[I.start.x-1,I.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(I,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const F=this._getMouseBufferCoords(x);return!!F&&(this._selectWordAt(F,C),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(x,C){this._model.clearSelection(),x=Math.max(x,0),C=Math.min(C,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,x],this._model.selectionEnd=[this._bufferService.cols,C],this.refresh(),this._onSelectionChange.fire()}_handleTrim(x){this._model.handleTrim(x)&&this.refresh()}_getMouseBufferCoords(x){const C=this._mouseService.getCoords(x,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(C)return C[0]--,C[1]--,C[1]+=this._bufferService.buffer.ydisp,C}_getMouseEventScrollAmount(x){let C=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,x,this._screenElement)[1];const A=this._renderService.dimensions.css.canvas.height;return C>=0&&C<=A?0:(C>A&&(C-=A),C=Math.min(Math.max(C,-50),50),C/=50,C/Math.abs(C)+Math.round(14*C))}shouldForceSelection(x){return f.isMac?x.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:x.shiftKey}handleMouseDown(x){if(this._mouseDownTimeStamp=x.timeStamp,(x.button!==2||!this.hasSelection)&&x.button===0){if(!this._enabled){if(!this.shouldForceSelection(x))return;x.stopPropagation()}x.preventDefault(),this._dragScrollAmount=0,this._enabled&&x.shiftKey?this._handleIncrementalClick(x):x.detail===1?this._handleSingleClick(x):x.detail===2?this._handleDoubleClick(x):x.detail===3&&this._handleTripleClick(x),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(x){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(x))}_handleSingleClick(x){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(x)?3:0,this._model.selectionStart=this._getMouseBufferCoords(x),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const C=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);C&&C.length!==this._model.selectionStart[0]&&C.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(x){this._selectWordAtCursor(x,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(x){const C=this._getMouseBufferCoords(x);C&&(this._activeSelectionMode=2,this._selectLineAt(C[1]))}shouldColumnSelect(x){return x.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(x){if(x.stopImmediatePropagation(),!this._model.selectionStart)return;const C=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(x),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(x),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const A=this._bufferService.buffer;if(this._model.selectionEnd[1]<A.lines.length){const N=A.lines.get(this._model.selectionEnd[1]);N&&N.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}C&&C[0]===this._model.selectionEnd[0]&&C[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const x=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(x.ydisp+this._bufferService.rows,x.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=x.ydisp),this.refresh()}}_handleMouseUp(x){const C=x.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&C<500&&x.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const A=this._mouseService.getCoords(x,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(A&&A[0]!==void 0&&A[1]!==void 0){const N=(0,p.moveToCellSequence)(A[0]-1,A[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(N,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const x=this._model.finalSelectionStart,C=this._model.finalSelectionEnd,A=!(!x||!C||x[0]===C[0]&&x[1]===C[1]);A?x&&C&&(this._oldSelectionStart&&this._oldSelectionEnd&&x[0]===this._oldSelectionStart[0]&&x[1]===this._oldSelectionStart[1]&&C[0]===this._oldSelectionEnd[0]&&C[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(x,C,A)):this._oldHasSelection&&this._fireOnSelectionChange(x,C,A)}_fireOnSelectionChange(x,C,A){this._oldSelectionStart=x,this._oldSelectionEnd=C,this._oldHasSelection=A,this._onSelectionChange.fire()}_handleBufferActivate(x){this.clearSelection(),this._trimListener.dispose(),this._trimListener=x.activeBuffer.lines.onTrim(C=>this._handleTrim(C))}_convertViewportColToCharacterIndex(x,C){let A=C;for(let N=0;C>=N;N++){const I=x.loadCell(N,this._workCell).getChars().length;this._workCell.getWidth()===0?A--:I>1&&C!==N&&(A+=I-1)}return A}setSelection(x,C,A){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[x,C],this._model.selectionStartLength=A,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(x){this._isClickInSelection(x)||(this._selectWordAtCursor(x,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(x,C,A=!0,N=!0){if(x[0]>=this._bufferService.cols)return;const I=this._bufferService.buffer,F=I.lines.get(x[1]);if(!F)return;const D=I.translateBufferLineToString(x[1],!1);let B=this._convertViewportColToCharacterIndex(F,x[0]),z=B;const H=x[0]-B;let L=0,R=0,E=0,M=0;if(D.charAt(B)===" "){for(;B>0&&D.charAt(B-1)===" ";)B--;for(;z<D.length&&D.charAt(z+1)===" ";)z++}else{let Y=x[0],K=x[0];F.getWidth(Y)===0&&(L++,Y--),F.getWidth(K)===2&&(R++,K++);const ee=F.getString(K).length;for(ee>1&&(M+=ee-1,z+=ee-1);Y>0&&B>0&&!this._isCharWordSeparator(F.loadCell(Y-1,this._workCell));){F.loadCell(Y-1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===0?(L++,Y--):P>1&&(E+=P-1,B-=P-1),B--,Y--}for(;K<F.length&&z+1<D.length&&!this._isCharWordSeparator(F.loadCell(K+1,this._workCell));){F.loadCell(K+1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===2?(R++,K++):P>1&&(M+=P-1,z+=P-1),z++,K++}}z++;let U=B+H-L+E,O=Math.min(this._bufferService.cols,z-B+L+R-E-M);if(C||D.slice(B,z).trim()!==""){if(A&&U===0&&F.getCodePoint(0)!==32){const Y=I.lines.get(x[1]-1);if(Y&&F.isWrapped&&Y.getCodePoint(this._bufferService.cols-1)!==32){const K=this._getWordAt([this._bufferService.cols-1,x[1]-1],!1,!0,!1);if(K){const ee=this._bufferService.cols-K.start;U-=ee,O+=ee}}}if(N&&U+O===this._bufferService.cols&&F.getCodePoint(this._bufferService.cols-1)!==32){const Y=I.lines.get(x[1]+1);if(Y!=null&&Y.isWrapped&&Y.getCodePoint(0)!==32){const K=this._getWordAt([0,x[1]+1],!1,!1,!0);K&&(O+=K.length)}}return{start:U,length:O}}}_selectWordAt(x,C){const A=this._getWordAt(x,C);if(A){for(;A.start<0;)A.start+=this._bufferService.cols,x[1]--;this._model.selectionStart=[A.start,x[1]],this._model.selectionStartLength=A.length}}_selectToWordAt(x){const C=this._getWordAt(x,!0);if(C){let A=x[1];for(;C.start<0;)C.start+=this._bufferService.cols,A--;if(!this._model.areSelectionValuesReversed())for(;C.start+C.length>this._bufferService.cols;)C.length-=this._bufferService.cols,A++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?C.start:C.start+C.length,A]}}_isCharWordSeparator(x){return x.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(x.getChars())>=0}_selectLineAt(x){const C=this._bufferService.buffer.getWrappedRangeForLine(x),A={start:{x:0,y:C.first},end:{x:this._bufferService.cols-1,y:C.last}};this._model.selectionStart=[0,C.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(A,this._bufferService.cols)}};o.SelectionService=b=c([h(3,v.IBufferService),h(4,v.ICoreService),h(5,y.IMouseService),h(6,v.IOptionsService),h(7,y.IRenderService),h(8,y.ICoreBrowserService)],b)},4725:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const c=a(8343);o.ICharSizeService=(0,c.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),o.IMouseService=(0,c.createDecorator)("MouseService"),o.IRenderService=(0,c.createDecorator)("RenderService"),o.ISelectionService=(0,c.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(l,o,a){var c=this&&this.__decorate||function(b,x,C,A){var N,I=arguments.length,F=I<3?x:A===null?A=Object.getOwnPropertyDescriptor(x,C):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(b,x,C,A);else for(var D=b.length-1;D>=0;D--)(N=b[D])&&(F=(I<3?N(F):I>3?N(x,C,F):N(x,C))||F);return I>3&&F&&Object.defineProperty(x,C,F),F},h=this&&this.__param||function(b,x){return function(C,A){x(C,A,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const u=a(7239),p=a(8055),m=a(8460),y=a(844),w=a(2585),g=p.css.toColor("#ffffff"),f=p.css.toColor("#000000"),d=p.css.toColor("#ffffff"),_=p.css.toColor("#000000"),v={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const b=[p.css.toColor("#2e3436"),p.css.toColor("#cc0000"),p.css.toColor("#4e9a06"),p.css.toColor("#c4a000"),p.css.toColor("#3465a4"),p.css.toColor("#75507b"),p.css.toColor("#06989a"),p.css.toColor("#d3d7cf"),p.css.toColor("#555753"),p.css.toColor("#ef2929"),p.css.toColor("#8ae234"),p.css.toColor("#fce94f"),p.css.toColor("#729fcf"),p.css.toColor("#ad7fa8"),p.css.toColor("#34e2e2"),p.css.toColor("#eeeeec")],x=[0,95,135,175,215,255];for(let C=0;C<216;C++){const A=x[C/36%6|0],N=x[C/6%6|0],I=x[C%6];b.push({css:p.channels.toCss(A,N,I),rgba:p.channels.toRgba(A,N,I)})}for(let C=0;C<24;C++){const A=8+10*C;b.push({css:p.channels.toCss(A,A,A),rgba:p.channels.toRgba(A,A,A)})}return b})());let S=o.ThemeService=class extends y.Disposable{get colors(){return this._colors}constructor(b){super(),this._optionsService=b,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new m.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:g,background:f,cursor:d,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:v,selectionBackgroundOpaque:p.color.blend(f,v),selectionInactiveBackgroundTransparent:v,selectionInactiveBackgroundOpaque:p.color.blend(f,v),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(b={}){const x=this._colors;if(x.foreground=k(b.foreground,g),x.background=k(b.background,f),x.cursor=k(b.cursor,d),x.cursorAccent=k(b.cursorAccent,_),x.selectionBackgroundTransparent=k(b.selectionBackground,v),x.selectionBackgroundOpaque=p.color.blend(x.background,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundTransparent=k(b.selectionInactiveBackground,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundOpaque=p.color.blend(x.background,x.selectionInactiveBackgroundTransparent),x.selectionForeground=b.selectionForeground?k(b.selectionForeground,p.NULL_COLOR):void 0,x.selectionForeground===p.NULL_COLOR&&(x.selectionForeground=void 0),p.color.isOpaque(x.selectionBackgroundTransparent)&&(x.selectionBackgroundTransparent=p.color.opacity(x.selectionBackgroundTransparent,.3)),p.color.isOpaque(x.selectionInactiveBackgroundTransparent)&&(x.selectionInactiveBackgroundTransparent=p.color.opacity(x.selectionInactiveBackgroundTransparent,.3)),x.ansi=o.DEFAULT_ANSI_COLORS.slice(),x.ansi[0]=k(b.black,o.DEFAULT_ANSI_COLORS[0]),x.ansi[1]=k(b.red,o.DEFAULT_ANSI_COLORS[1]),x.ansi[2]=k(b.green,o.DEFAULT_ANSI_COLORS[2]),x.ansi[3]=k(b.yellow,o.DEFAULT_ANSI_COLORS[3]),x.ansi[4]=k(b.blue,o.DEFAULT_ANSI_COLORS[4]),x.ansi[5]=k(b.magenta,o.DEFAULT_ANSI_COLORS[5]),x.ansi[6]=k(b.cyan,o.DEFAULT_ANSI_COLORS[6]),x.ansi[7]=k(b.white,o.DEFAULT_ANSI_COLORS[7]),x.ansi[8]=k(b.brightBlack,o.DEFAULT_ANSI_COLORS[8]),x.ansi[9]=k(b.brightRed,o.DEFAULT_ANSI_COLORS[9]),x.ansi[10]=k(b.brightGreen,o.DEFAULT_ANSI_COLORS[10]),x.ansi[11]=k(b.brightYellow,o.DEFAULT_ANSI_COLORS[11]),x.ansi[12]=k(b.brightBlue,o.DEFAULT_ANSI_COLORS[12]),x.ansi[13]=k(b.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),x.ansi[14]=k(b.brightCyan,o.DEFAULT_ANSI_COLORS[14]),x.ansi[15]=k(b.brightWhite,o.DEFAULT_ANSI_COLORS[15]),b.extendedAnsi){const C=Math.min(x.ansi.length-16,b.extendedAnsi.length);for(let A=0;A<C;A++)x.ansi[A+16]=k(b.extendedAnsi[A],o.DEFAULT_ANSI_COLORS[A+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(b){this._restoreColor(b),this._onChangeColors.fire(this.colors)}_restoreColor(b){if(b!==void 0)switch(b){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[b]=this._restoreColors.ansi[b]}else for(let x=0;x<this._restoreColors.ansi.length;++x)this._colors.ansi[x]=this._restoreColors.ansi[x]}modifyColors(b){b(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function k(b,x){if(b!==void 0)try{return p.css.toColor(b)}catch{}return x}o.ThemeService=S=c([h(0,w.IOptionsService)],S)},6349:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const c=a(8460),h=a(844);class u extends h.Disposable{constructor(m){super(),this._maxLength=m,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(m){if(this._maxLength===m)return;const y=new Array(m);for(let w=0;w<Math.min(m,this.length);w++)y[w]=this._array[this._getCyclicIndex(w)];this._array=y,this._maxLength=m,this._startIndex=0}get length(){return this._length}set length(m){if(m>this._length)for(let y=this._length;y<m;y++)this._array[y]=void 0;this._length=m}get(m){return this._array[this._getCyclicIndex(m)]}set(m,y){this._array[this._getCyclicIndex(m)]=y}push(m){this._array[this._getCyclicIndex(this._length)]=m,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(m,y,...w){if(y){for(let g=m;g<this._length-y;g++)this._array[this._getCyclicIndex(g)]=this._array[this._getCyclicIndex(g+y)];this._length-=y,this.onDeleteEmitter.fire({index:m,amount:y})}for(let g=this._length-1;g>=m;g--)this._array[this._getCyclicIndex(g+w.length)]=this._array[this._getCyclicIndex(g)];for(let g=0;g<w.length;g++)this._array[this._getCyclicIndex(m+g)]=w[g];if(w.length&&this.onInsertEmitter.fire({index:m,amount:w.length}),this._length+w.length>this._maxLength){const g=this._length+w.length-this._maxLength;this._startIndex+=g,this._length=this._maxLength,this.onTrimEmitter.fire(g)}else this._length+=w.length}trimStart(m){m>this._length&&(m=this._length),this._startIndex+=m,this._length-=m,this.onTrimEmitter.fire(m)}shiftElements(m,y,w){if(!(y<=0)){if(m<0||m>=this._length)throw new Error("start argument out of range");if(m+w<0)throw new Error("Cannot shift elements in list beyond index 0");if(w>0){for(let f=y-1;f>=0;f--)this.set(m+f+w,this.get(m+f));const g=m+y+w-this._length;if(g>0)for(this._length+=g;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let g=0;g<y;g++)this.set(m+g+w,this.get(m+g))}}_getCyclicIndex(m){return(this._startIndex+m)%this._maxLength}}o.CircularList=u},1439:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function a(c,h=5){if(typeof c!="object")return c;const u=Array.isArray(c)?[]:{};for(const p in c)u[p]=h<=1?c[p]:c[p]&&a(c[p],h-1);return u}},8055:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const c=a(6114);let h=0,u=0,p=0,m=0;var y,w,g,f,d;function _(S){const k=S.toString(16);return k.length<2?"0"+k:k}function v(S,k){return S<k?(k+.05)/(S+.05):(S+.05)/(k+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(k,b,x,C){return C!==void 0?`#${_(k)}${_(b)}${_(x)}${_(C)}`:`#${_(k)}${_(b)}${_(x)}`},S.toRgba=function(k,b,x,C=255){return(k<<24|b<<16|x<<8|C)>>>0}}(y||(o.channels=y={})),function(S){function k(b,x){return m=Math.round(255*x),[h,u,p]=d.toChannels(b.rgba),{css:y.toCss(h,u,p,m),rgba:y.toRgba(h,u,p,m)}}S.blend=function(b,x){if(m=(255&x.rgba)/255,m===1)return{css:x.css,rgba:x.rgba};const C=x.rgba>>24&255,A=x.rgba>>16&255,N=x.rgba>>8&255,I=b.rgba>>24&255,F=b.rgba>>16&255,D=b.rgba>>8&255;return h=I+Math.round((C-I)*m),u=F+Math.round((A-F)*m),p=D+Math.round((N-D)*m),{css:y.toCss(h,u,p),rgba:y.toRgba(h,u,p)}},S.isOpaque=function(b){return(255&b.rgba)==255},S.ensureContrastRatio=function(b,x,C){const A=d.ensureContrastRatio(b.rgba,x.rgba,C);if(A)return d.toColor(A>>24&255,A>>16&255,A>>8&255)},S.opaque=function(b){const x=(255|b.rgba)>>>0;return[h,u,p]=d.toChannels(x),{css:y.toCss(h,u,p),rgba:x}},S.opacity=k,S.multiplyOpacity=function(b,x){return m=255&b.rgba,k(b,m*x/255)},S.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(w||(o.color=w={})),function(S){let k,b;if(!c.isNode){const x=document.createElement("canvas");x.width=1,x.height=1;const C=x.getContext("2d",{willReadFrequently:!0});C&&(k=C,k.globalCompositeOperation="copy",b=k.createLinearGradient(0,0,1,1))}S.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return h=parseInt(x.slice(1,2).repeat(2),16),u=parseInt(x.slice(2,3).repeat(2),16),p=parseInt(x.slice(3,4).repeat(2),16),d.toColor(h,u,p);case 5:return h=parseInt(x.slice(1,2).repeat(2),16),u=parseInt(x.slice(2,3).repeat(2),16),p=parseInt(x.slice(3,4).repeat(2),16),m=parseInt(x.slice(4,5).repeat(2),16),d.toColor(h,u,p,m);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const C=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(C)return h=parseInt(C[1]),u=parseInt(C[2]),p=parseInt(C[3]),m=Math.round(255*(C[5]===void 0?1:parseFloat(C[5]))),d.toColor(h,u,p,m);if(!k||!b)throw new Error("css.toColor: Unsupported css format");if(k.fillStyle=b,k.fillStyle=x,typeof k.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(k.fillRect(0,0,1,1),[h,u,p,m]=k.getImageData(0,0,1,1).data,m!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:y.toRgba(h,u,p,m),css:x}}}(g||(o.css=g={})),function(S){function k(b,x,C){const A=b/255,N=x/255,I=C/255;return .2126*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.7152*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}S.relativeLuminance=function(b){return k(b>>16&255,b>>8&255,255&b)},S.relativeLuminance2=k}(f||(o.rgb=f={})),function(S){function k(x,C,A){const N=x>>24&255,I=x>>16&255,F=x>>8&255;let D=C>>24&255,B=C>>16&255,z=C>>8&255,H=v(f.relativeLuminance2(D,B,z),f.relativeLuminance2(N,I,F));for(;H<A&&(D>0||B>0||z>0);)D-=Math.max(0,Math.ceil(.1*D)),B-=Math.max(0,Math.ceil(.1*B)),z-=Math.max(0,Math.ceil(.1*z)),H=v(f.relativeLuminance2(D,B,z),f.relativeLuminance2(N,I,F));return(D<<24|B<<16|z<<8|255)>>>0}function b(x,C,A){const N=x>>24&255,I=x>>16&255,F=x>>8&255;let D=C>>24&255,B=C>>16&255,z=C>>8&255,H=v(f.relativeLuminance2(D,B,z),f.relativeLuminance2(N,I,F));for(;H<A&&(D<255||B<255||z<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),B=Math.min(255,B+Math.ceil(.1*(255-B))),z=Math.min(255,z+Math.ceil(.1*(255-z))),H=v(f.relativeLuminance2(D,B,z),f.relativeLuminance2(N,I,F));return(D<<24|B<<16|z<<8|255)>>>0}S.ensureContrastRatio=function(x,C,A){const N=f.relativeLuminance(x>>8),I=f.relativeLuminance(C>>8);if(v(N,I)<A){if(I<N){const B=k(x,C,A),z=v(N,f.relativeLuminance(B>>8));if(z<A){const H=b(x,C,A);return z>v(N,f.relativeLuminance(H>>8))?B:H}return B}const F=b(x,C,A),D=v(N,f.relativeLuminance(F>>8));if(D<A){const B=k(x,C,A);return D>v(N,f.relativeLuminance(B>>8))?F:B}return F}},S.reduceLuminance=k,S.increaseLuminance=b,S.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},S.toColor=function(x,C,A,N){return{css:y.toCss(x,C,A,N),rgba:y.toRgba(x,C,A,N)}}}(d||(o.rgba=d={})),o.toPaddedHex=_,o.contrastRatio=v},8969:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const c=a(844),h=a(2585),u=a(4348),p=a(7866),m=a(744),y=a(7302),w=a(6975),g=a(8460),f=a(1753),d=a(1480),_=a(7994),v=a(9282),S=a(5435),k=a(5981),b=a(2660);let x=!1;class C extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new g.EventEmitter),this._onScroll.event(N=>{var I;(I=this._onScrollApi)===null||I===void 0||I.fire(N.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(N){for(const I in N)this.optionsService.options[I]=N[I]}constructor(N){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new g.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new g.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new g.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new g.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new y.OptionsService(N)),this._instantiationService.setService(h.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(m.BufferService)),this._instantiationService.setService(h.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(p.LogService)),this._instantiationService.setService(h.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(w.CoreService)),this._instantiationService.setService(h.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(h.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(h.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(h.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(b.OscLinkService),this._instantiationService.setService(h.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,g.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,g.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,g.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,g.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new k.WriteBuffer((I,F)=>this._inputHandler.parse(I,F))),this.register((0,g.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(N,I){this._writeBuffer.write(N,I)}writeSync(N,I){this._logService.logLevel<=h.LogLevelEnum.WARN&&!x&&(this._logService.warn("writeSync is unreliable and will be removed soon."),x=!0),this._writeBuffer.writeSync(N,I)}resize(N,I){isNaN(N)||isNaN(I)||(N=Math.max(N,m.MINIMUM_COLS),I=Math.max(I,m.MINIMUM_ROWS),this._bufferService.resize(N,I))}scroll(N,I=!1){this._bufferService.scroll(N,I)}scrollLines(N,I,F){this._bufferService.scrollLines(N,I,F)}scrollPages(N){this.scrollLines(N*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(N){const I=N-this._bufferService.buffer.ydisp;I!==0&&this.scrollLines(I)}registerEscHandler(N,I){return this._inputHandler.registerEscHandler(N,I)}registerDcsHandler(N,I){return this._inputHandler.registerDcsHandler(N,I)}registerCsiHandler(N,I){return this._inputHandler.registerCsiHandler(N,I)}registerOscHandler(N,I){return this._inputHandler.registerOscHandler(N,I)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let N=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?N=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(N=!0),N?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const N=[];N.push(this.onLineFeed(v.updateWindowsModeWrappedState.bind(null,this._bufferService))),N.push(this.registerCsiHandler({final:"H"},()=>((0,v.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const I of N)I.dispose()})}}}o.CoreTerminal=C},8460:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===a)return void this._listeners.splice(c,1)}}})),this._event}fire(a,c){const h=[];for(let u=0;u<this._listeners.length;u++)h.push(this._listeners[u]);for(let u=0;u<h.length;u++)h[u].call(void 0,a,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(a,c){return a(h=>c.fire(h))}},5435:function(l,o,a){var c=this&&this.__decorate||function(H,L,R,E){var M,U=arguments.length,O=U<3?L:E===null?E=Object.getOwnPropertyDescriptor(L,R):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(H,L,R,E);else for(var Y=H.length-1;Y>=0;Y--)(M=H[Y])&&(O=(U<3?M(O):U>3?M(L,R,O):M(L,R))||O);return U>3&&O&&Object.defineProperty(L,R,O),O},h=this&&this.__param||function(H,L){return function(R,E){L(R,E,H)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const u=a(2584),p=a(7116),m=a(2015),y=a(844),w=a(482),g=a(8437),f=a(8460),d=a(643),_=a(511),v=a(3734),S=a(2585),k=a(6242),b=a(6351),x=a(5941),C={"(":0,")":1,"*":2,"+":3,"-":1,".":2},A=131072;function N(H,L){if(H>24)return L.setWinLines||!1;switch(H){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var I;(function(H){H[H.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",H[H.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(I||(o.WindowsOptionsReportType=I={}));let F=0;class D extends y.Disposable{getAttrData(){return this._curAttrData}constructor(L,R,E,M,U,O,Y,K,ee=new m.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=R,this._coreService=E,this._logService=M,this._optionsService=U,this._oscLinkService=O,this._coreMouseService=Y,this._unicodeService=K,this._parser=ee,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new w.StringToUtf32,this._utf8Decoder=new w.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new B(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(P=>this._activeBuffer=P.activeBuffer)),this._parser.setCsiHandlerFallback((P,W)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(P),params:W.toArray()})}),this._parser.setEscHandlerFallback(P=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(P)})}),this._parser.setExecuteHandlerFallback(P=>{this._logService.debug("Unknown EXECUTE code: ",{code:P})}),this._parser.setOscHandlerFallback((P,W,G)=>{this._logService.debug("Unknown OSC code: ",{identifier:P,action:W,data:G})}),this._parser.setDcsHandlerFallback((P,W,G)=>{W==="HOOK"&&(G=G.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(P),action:W,payload:G})}),this._parser.setPrintHandler((P,W,G)=>this.print(P,W,G)),this._parser.registerCsiHandler({final:"@"},P=>this.insertChars(P)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},P=>this.scrollLeft(P)),this._parser.registerCsiHandler({final:"A"},P=>this.cursorUp(P)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},P=>this.scrollRight(P)),this._parser.registerCsiHandler({final:"B"},P=>this.cursorDown(P)),this._parser.registerCsiHandler({final:"C"},P=>this.cursorForward(P)),this._parser.registerCsiHandler({final:"D"},P=>this.cursorBackward(P)),this._parser.registerCsiHandler({final:"E"},P=>this.cursorNextLine(P)),this._parser.registerCsiHandler({final:"F"},P=>this.cursorPrecedingLine(P)),this._parser.registerCsiHandler({final:"G"},P=>this.cursorCharAbsolute(P)),this._parser.registerCsiHandler({final:"H"},P=>this.cursorPosition(P)),this._parser.registerCsiHandler({final:"I"},P=>this.cursorForwardTab(P)),this._parser.registerCsiHandler({final:"J"},P=>this.eraseInDisplay(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},P=>this.eraseInDisplay(P,!0)),this._parser.registerCsiHandler({final:"K"},P=>this.eraseInLine(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},P=>this.eraseInLine(P,!0)),this._parser.registerCsiHandler({final:"L"},P=>this.insertLines(P)),this._parser.registerCsiHandler({final:"M"},P=>this.deleteLines(P)),this._parser.registerCsiHandler({final:"P"},P=>this.deleteChars(P)),this._parser.registerCsiHandler({final:"S"},P=>this.scrollUp(P)),this._parser.registerCsiHandler({final:"T"},P=>this.scrollDown(P)),this._parser.registerCsiHandler({final:"X"},P=>this.eraseChars(P)),this._parser.registerCsiHandler({final:"Z"},P=>this.cursorBackwardTab(P)),this._parser.registerCsiHandler({final:"`"},P=>this.charPosAbsolute(P)),this._parser.registerCsiHandler({final:"a"},P=>this.hPositionRelative(P)),this._parser.registerCsiHandler({final:"b"},P=>this.repeatPrecedingCharacter(P)),this._parser.registerCsiHandler({final:"c"},P=>this.sendDeviceAttributesPrimary(P)),this._parser.registerCsiHandler({prefix:">",final:"c"},P=>this.sendDeviceAttributesSecondary(P)),this._parser.registerCsiHandler({final:"d"},P=>this.linePosAbsolute(P)),this._parser.registerCsiHandler({final:"e"},P=>this.vPositionRelative(P)),this._parser.registerCsiHandler({final:"f"},P=>this.hVPosition(P)),this._parser.registerCsiHandler({final:"g"},P=>this.tabClear(P)),this._parser.registerCsiHandler({final:"h"},P=>this.setMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"h"},P=>this.setModePrivate(P)),this._parser.registerCsiHandler({final:"l"},P=>this.resetMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"l"},P=>this.resetModePrivate(P)),this._parser.registerCsiHandler({final:"m"},P=>this.charAttributes(P)),this._parser.registerCsiHandler({final:"n"},P=>this.deviceStatus(P)),this._parser.registerCsiHandler({prefix:"?",final:"n"},P=>this.deviceStatusPrivate(P)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},P=>this.softReset(P)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},P=>this.setCursorStyle(P)),this._parser.registerCsiHandler({final:"r"},P=>this.setScrollRegion(P)),this._parser.registerCsiHandler({final:"s"},P=>this.saveCursor(P)),this._parser.registerCsiHandler({final:"t"},P=>this.windowOptions(P)),this._parser.registerCsiHandler({final:"u"},P=>this.restoreCursor(P)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},P=>this.insertColumns(P)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},P=>this.deleteColumns(P)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},P=>this.selectProtected(P)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},P=>this.requestMode(P,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},P=>this.requestMode(P,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new k.OscHandler(P=>(this.setTitle(P),this.setIconName(P),!0))),this._parser.registerOscHandler(1,new k.OscHandler(P=>this.setIconName(P))),this._parser.registerOscHandler(2,new k.OscHandler(P=>this.setTitle(P))),this._parser.registerOscHandler(4,new k.OscHandler(P=>this.setOrReportIndexedColor(P))),this._parser.registerOscHandler(8,new k.OscHandler(P=>this.setHyperlink(P))),this._parser.registerOscHandler(10,new k.OscHandler(P=>this.setOrReportFgColor(P))),this._parser.registerOscHandler(11,new k.OscHandler(P=>this.setOrReportBgColor(P))),this._parser.registerOscHandler(12,new k.OscHandler(P=>this.setOrReportCursorColor(P))),this._parser.registerOscHandler(104,new k.OscHandler(P=>this.restoreIndexedColor(P))),this._parser.registerOscHandler(110,new k.OscHandler(P=>this.restoreFgColor(P))),this._parser.registerOscHandler(111,new k.OscHandler(P=>this.restoreBgColor(P))),this._parser.registerOscHandler(112,new k.OscHandler(P=>this.restoreCursorColor(P))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const P in p.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:P},()=>this.selectCharset("("+P)),this._parser.registerEscHandler({intermediates:")",final:P},()=>this.selectCharset(")"+P)),this._parser.registerEscHandler({intermediates:"*",final:P},()=>this.selectCharset("*"+P)),this._parser.registerEscHandler({intermediates:"+",final:P},()=>this.selectCharset("+"+P)),this._parser.registerEscHandler({intermediates:"-",final:P},()=>this.selectCharset("-"+P)),this._parser.registerEscHandler({intermediates:".",final:P},()=>this.selectCharset("."+P)),this._parser.registerEscHandler({intermediates:"/",final:P},()=>this.selectCharset("/"+P));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(P=>(this._logService.error("Parsing error: ",P),P)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((P,W)=>this.requestStatusString(P,W)))}_preserveStack(L,R,E,M){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=R,this._parseStack.decodedLength=E,this._parseStack.position=M}_logSlowResolvingAsync(L){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([L,new Promise((R,E)=>setTimeout(()=>E("#SLOW_TIMEOUT"),5e3))]).catch(R=>{if(R!=="#SLOW_TIMEOUT")throw R;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,R){let E,M=this._activeBuffer.x,U=this._activeBuffer.y,O=0;const Y=this._parseStack.paused;if(Y){if(E=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,R))return this._logSlowResolvingAsync(E),E;M=this._parseStack.cursorStartX,U=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>A&&(O=this._parseStack.position+A)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,K=>String.fromCharCode(K)).join("")}"`),typeof L=="string"?L.split("").map(K=>K.charCodeAt(0)):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<A&&(this._parseBuffer=new Uint32Array(Math.min(L.length,A))),Y||this._dirtyRowTracker.clearRange(),L.length>A)for(let K=O;K<L.length;K+=A){const ee=K+A<L.length?K+A:L.length,P=typeof L=="string"?this._stringDecoder.decode(L.substring(K,ee),this._parseBuffer):this._utf8Decoder.decode(L.subarray(K,ee),this._parseBuffer);if(E=this._parser.parse(this._parseBuffer,P))return this._preserveStack(M,U,P,K),this._logSlowResolvingAsync(E),E}else if(!Y){const K=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(E=this._parser.parse(this._parseBuffer,K))return this._preserveStack(M,U,K,0),this._logSlowResolvingAsync(E),E}this._activeBuffer.x===M&&this._activeBuffer.y===U||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(L,R,E){let M,U;const O=this._charsetService.charset,Y=this._optionsService.rawOptions.screenReaderMode,K=this._bufferService.cols,ee=this._coreService.decPrivateModes.wraparound,P=this._coreService.modes.insertMode,W=this._curAttrData;let G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&E-R>0&&G.getWidth(this._activeBuffer.x-1)===2&&G.setCellFromCodePoint(this._activeBuffer.x-1,0,1,W.fg,W.bg,W.extended);for(let q=R;q<E;++q){if(M=L[q],U=this._unicodeService.wcwidth(M),M<127&&O){const ce=O[String.fromCharCode(M)];ce&&(M=ce.charCodeAt(0))}if(Y&&this._onA11yChar.fire((0,w.stringFromCodePoint)(M)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),U||!this._activeBuffer.x){if(this._activeBuffer.x+U-1>=K){if(ee){for(;this._activeBuffer.x<K;)G.setCellFromCodePoint(this._activeBuffer.x++,0,1,W.fg,W.bg,W.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=K-1,U===2)continue}if(P&&(G.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(W),W),G.getWidth(K-1)===2&&G.setCellFromCodePoint(K-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,W.fg,W.bg,W.extended)),G.setCellFromCodePoint(this._activeBuffer.x++,M,U,W.fg,W.bg,W.extended),U>0)for(;--U;)G.setCellFromCodePoint(this._activeBuffer.x++,0,0,W.fg,W.bg,W.extended)}else G.getWidth(this._activeBuffer.x-1)?G.addCodepointToCell(this._activeBuffer.x-1,M):G.addCodepointToCell(this._activeBuffer.x-2,M)}E-R>0&&(G.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<K&&E-R>0&&G.getWidth(this._activeBuffer.x)===0&&!G.hasContent(this._activeBuffer.x)&&G.setCellFromCodePoint(this._activeBuffer.x,0,1,W.fg,W.bg,W.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,R){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,R):this._parser.registerCsiHandler(L,E=>!N(E.params[0],this._optionsService.rawOptions.windowOptions)||R(E))}registerDcsHandler(L,R){return this._parser.registerDcsHandler(L,new b.DcsHandler(R))}registerEscHandler(L,R){return this._parser.registerEscHandler(L,R)}registerOscHandler(L,R){return this._parser.registerOscHandler(L,new k.OscHandler(R))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0)&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);R.hasWidth(this._activeBuffer.x)&&!R.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,R){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+R):(this._activeBuffer.x=L,this._activeBuffer.y=R),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,R){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+R)}cursorUp(L){const R=this._activeBuffer.y-this._activeBuffer.scrollTop;return R>=0?this._moveCursor(0,-Math.min(R,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const R=this._activeBuffer.scrollBottom-this._activeBuffer.y;return R>=0?this._moveCursor(0,Math.min(R,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const R=L.params[0];return R===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:R===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=L.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=L.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const R=L.params[0];return R===1&&(this._curAttrData.bg|=536870912),R!==2&&R!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,R,E,M=!1,U=!1){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.replaceCells(R,E,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),U),M&&(O.isWrapped=!1)}_resetBufferLine(L,R=!1){const E=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);E&&(E.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),R),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),E.isWrapped=!1)}eraseInDisplay(L,R=!1){let E;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(E=this._activeBuffer.y,this._dirtyRowTracker.markDirty(E),this._eraseInBufferLine(E++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);E<this._bufferService.rows;E++)this._resetBufferLine(E,R);this._dirtyRowTracker.markDirty(E);break;case 1:for(E=this._activeBuffer.y,this._dirtyRowTracker.markDirty(E),this._eraseInBufferLine(E,0,this._activeBuffer.x+1,!0,R),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(E+1).isWrapped=!1);E--;)this._resetBufferLine(E,R);this._dirtyRowTracker.markDirty(0);break;case 2:for(E=this._bufferService.rows,this._dirtyRowTracker.markDirty(E-1);E--;)this._resetBufferLine(E,R);this._dirtyRowTracker.markDirty(0);break;case 3:const M=this._activeBuffer.lines.length-this._bufferService.rows;M>0&&(this._activeBuffer.lines.trimStart(M),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-M,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-M,0),this._onScroll.fire(0))}return!0}eraseInLine(L,R=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,R);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,R)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let R=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=this._activeBuffer.ybase+this._activeBuffer.y,M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-M+1;for(;R--;)this._activeBuffer.lines.splice(U-1,1),this._activeBuffer.lines.splice(E,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let R=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const E=this._activeBuffer.ybase+this._activeBuffer.y;let M;for(M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-M;R--;)this._activeBuffer.lines.splice(E,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let R=L.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let R=L.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(g.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=L.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);M.deleteCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=L.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);M.insertCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=L.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);M.insertCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=L.params[0]||1;for(let E=this._activeBuffer.scrollTop;E<=this._activeBuffer.scrollBottom;++E){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);M.deleteCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){if(!this._parser.precedingCodepoint)return!0;const R=L.params[0]||1,E=new Uint32Array(R);for(let M=0;M<R;++M)E[M]=this._parser.precedingCodepoint;return this.print(E,0,E.length),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let R=0;R<L.length;R++)switch(L.params[R]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let R=0;R<L.length;R++)switch(L.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),this._charsetService.setgCharset(1,p.DEFAULT_CHARSET),this._charsetService.setgCharset(2,p.DEFAULT_CHARSET),this._charsetService.setgCharset(3,p.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let R=0;R<L.length;R++)switch(L.params[R]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let R=0;R<L.length;R++)switch(L.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[R]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,R){const E=this._coreService.decPrivateModes,{activeProtocol:M,activeEncoding:U}=this._coreMouseService,O=this._coreService,{buffers:Y,cols:K}=this._bufferService,{active:ee,alt:P}=Y,W=this._optionsService.rawOptions,G=de=>de?1:2,q=L.params[0];return ce=q,ne=R?q===2?4:q===4?G(O.modes.insertMode):q===12?3:q===20?G(W.convertEol):0:q===1?G(E.applicationCursorKeys):q===3?W.windowOptions.setWinLines?K===80?2:K===132?1:0:0:q===6?G(E.origin):q===7?G(E.wraparound):q===8?3:q===9?G(M==="X10"):q===12?G(W.cursorBlink):q===25?G(!O.isCursorHidden):q===45?G(E.reverseWraparound):q===66?G(E.applicationKeypad):q===67?4:q===1e3?G(M==="VT200"):q===1002?G(M==="DRAG"):q===1003?G(M==="ANY"):q===1004?G(E.sendFocus):q===1005?4:q===1006?G(U==="SGR"):q===1015?4:q===1016?G(U==="SGR_PIXELS"):q===1048?1:q===47||q===1047||q===1049?G(ee===P):q===2004?G(E.bracketedPasteMode):0,O.triggerDataEvent(`${u.C0.ESC}[${R?"":"?"}${ce};${ne}$y`),!0;var ce,ne}_updateAttrColor(L,R,E,M,U){return R===2?(L|=50331648,L&=-16777216,L|=v.AttributeData.fromColorRGB([E,M,U])):R===5&&(L&=-50331904,L|=33554432|255&E),L}_extractColor(L,R,E){const M=[0,0,-1,0,0,0];let U=0,O=0;do{if(M[O+U]=L.params[R+O],L.hasSubParams(R+O)){const Y=L.getSubParams(R+O);let K=0;do M[1]===5&&(U=1),M[O+K+1+U]=Y[K];while(++K<Y.length&&K+O+1+U<M.length);break}if(M[1]===5&&O+U>=2||M[1]===2&&O+U>=5)break;M[1]&&(U=1)}while(++O+R<L.length&&O+U<M.length);for(let Y=2;Y<M.length;++Y)M[Y]===-1&&(M[Y]=0);switch(M[0]){case 38:E.fg=this._updateAttrColor(E.fg,M[1],M[3],M[4],M[5]);break;case 48:E.bg=this._updateAttrColor(E.bg,M[1],M[3],M[4],M[5]);break;case 58:E.extended=E.extended.clone(),E.extended.underlineColor=this._updateAttrColor(E.extended.underlineColor,M[1],M[3],M[4],M[5])}return O}_processUnderline(L,R){R.extended=R.extended.clone(),(!~L||L>5)&&(L=1),R.extended.underlineStyle=L,R.fg|=268435456,L===0&&(R.fg&=-268435457),R.updateExtended()}_processSGR0(L){L.fg=g.DEFAULT_ATTR_DATA.fg,L.bg=g.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const R=L.length;let E;const M=this._curAttrData;for(let U=0;U<R;U++)E=L.params[U],E>=30&&E<=37?(M.fg&=-50331904,M.fg|=16777216|E-30):E>=40&&E<=47?(M.bg&=-50331904,M.bg|=16777216|E-40):E>=90&&E<=97?(M.fg&=-50331904,M.fg|=16777224|E-90):E>=100&&E<=107?(M.bg&=-50331904,M.bg|=16777224|E-100):E===0?this._processSGR0(M):E===1?M.fg|=134217728:E===3?M.bg|=67108864:E===4?(M.fg|=268435456,this._processUnderline(L.hasSubParams(U)?L.getSubParams(U)[0]:1,M)):E===5?M.fg|=536870912:E===7?M.fg|=67108864:E===8?M.fg|=1073741824:E===9?M.fg|=2147483648:E===2?M.bg|=134217728:E===21?this._processUnderline(2,M):E===22?(M.fg&=-134217729,M.bg&=-134217729):E===23?M.bg&=-67108865:E===24?(M.fg&=-268435457,this._processUnderline(0,M)):E===25?M.fg&=-536870913:E===27?M.fg&=-67108865:E===28?M.fg&=-1073741825:E===29?M.fg&=2147483647:E===39?(M.fg&=-67108864,M.fg|=16777215&g.DEFAULT_ATTR_DATA.fg):E===49?(M.bg&=-67108864,M.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):E===38||E===48||E===58?U+=this._extractColor(L,U,M):E===53?M.bg|=1073741824:E===55?M.bg&=-1073741825:E===59?(M.extended=M.extended.clone(),M.extended.underlineColor=-1,M.updateExtended()):E===100?(M.fg&=-67108864,M.fg|=16777215&g.DEFAULT_ATTR_DATA.fg,M.bg&=-67108864,M.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",E);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const R=this._activeBuffer.y+1,E=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${R};${E}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const R=this._activeBuffer.y+1,E=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${R};${E}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const R=L.params[0]||1;switch(R){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const E=R%2==1;return this._optionsService.options.cursorBlink=E,!0}setScrollRegion(L){const R=L.params[0]||1;let E;return(L.length<2||(E=L.params[1])>this._bufferService.rows||E===0)&&(E=this._bufferService.rows),E>R&&(this._activeBuffer.scrollTop=R-1,this._activeBuffer.scrollBottom=E-1,this._setCursor(0,0)),!0}windowOptions(L){if(!N(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const R=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:R!==2&&this._onRequestWindowsOptionsReport.fire(I.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(I.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:R!==0&&R!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),R!==0&&R!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:R!==0&&R!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),R!==0&&R!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const R=[],E=L.split(";");for(;E.length>1;){const M=E.shift(),U=E.shift();if(/^\d+$/.exec(M)){const O=parseInt(M);if(z(O))if(U==="?")R.push({type:0,index:O});else{const Y=(0,x.parseColor)(U);Y&&R.push({type:1,index:O,color:Y})}}}return R.length&&this._onColor.fire(R),!0}setHyperlink(L){const R=L.split(";");return!(R.length<2)&&(R[1]?this._createHyperlink(R[0],R[1]):!R[0]&&this._finishHyperlink())}_createHyperlink(L,R){this._getCurrentLinkId()&&this._finishHyperlink();const E=L.split(":");let M;const U=E.findIndex(O=>O.startsWith("id="));return U!==-1&&(M=E[U].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:M,uri:R}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,R){const E=L.split(";");for(let M=0;M<E.length&&!(R>=this._specialColors.length);++M,++R)if(E[M]==="?")this._onColor.fire([{type:0,index:this._specialColors[R]}]);else{const U=(0,x.parseColor)(E[M]);U&&this._onColor.fire([{type:1,index:this._specialColors[R],color:U}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const R=[],E=L.split(";");for(let M=0;M<E.length;++M)if(/^\d+$/.exec(E[M])){const U=parseInt(E[M]);z(U)&&R.push({type:2,index:U})}return R.length&&this._onColor.fire(R),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(C[L[0]],p.CHARSETS[L[1]]||p.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new _.CellData;L.content=4194373,L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let R=0;R<this._bufferService.rows;++R){const E=this._activeBuffer.ybase+this._activeBuffer.y+R,M=this._activeBuffer.lines.get(E);M&&(M.fill(L),M.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,R){const E=this._bufferService.buffer,M=this._optionsService.rawOptions;return(U=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${U}${u.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${E.scrollTop+1};${E.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[M.cursorStyle]-(M.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,R){this._dirtyRowTracker.markRangeDirty(L,R)}}o.InputHandler=D;let B=class{constructor(H){this._bufferService=H,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(H){H<this.start?this.start=H:H>this.end&&(this.end=H)}markRangeDirty(H,L){H>L&&(F=H,H=L,L=F),H<this.start&&(this.start=H),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function z(H){return 0<=H&&H<256}B=c([h(0,S.IBufferService)],B)},844:(l,o)=>{function a(c){for(const h of c)h.dispose();c.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const h=this._disposables.indexOf(c);h!==-1&&this._disposables.splice(h,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var h;this._isDisposed||c===this._value||((h=this._value)===null||h===void 0||h.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},o.toDisposable=function(c){return{dispose:c}},o.disposeArray=a,o.getDisposeArrayDisposable=function(c){return{dispose:()=>a(c)}}},1505:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(h,u,p){this._data[h]||(this._data[h]={}),this._data[h][u]=p}get(h,u){return this._data[h]?this._data[h][u]:void 0}clear(){this._data={}}}o.TwoKeyMap=a,o.FourKeyMap=class{constructor(){this._data=new a}set(c,h,u,p,m){this._data.get(c,h)||this._data.set(c,h,new a),this._data.get(c,h).set(u,p,m)}get(c,h,u,p){var m;return(m=this._data.get(c,h))===null||m===void 0?void 0:m.get(u,p)}clear(){this._data.clear()}}},6114:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const a=o.isNode?"node":navigator.userAgent,c=o.isNode?"node":navigator.platform;o.isFirefox=a.includes("Firefox"),o.isLegacyEdge=a.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(a),o.getSafariVersion=function(){if(!o.isSafari)return 0;const h=a.match(/Version\/(\d+)/);return h===null||h.length<2?0:parseInt(h[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),o.isIpad=c==="iPad",o.isIphone=c==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),o.isLinux=c.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(a)},6106:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let a=0;o.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(a=this._search(this._getKey(c)),this._array.splice(a,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const h=this._getKey(c);if(h===void 0||(a=this._search(h),a===-1)||this._getKey(this._array[a])!==h)return!1;do if(this._array[a]===c)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===h);return!1}*getKeyIterator(c){if(this._array.length!==0&&(a=this._search(c),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===c))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===c)}forEachByKey(c,h){if(this._array.length!==0&&(a=this._search(c),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===c))do h(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===c)}values(){return[...this._array].values()}_search(c){let h=0,u=this._array.length-1;for(;u>=h;){let p=h+u>>1;const m=this._getKey(this._array[p]);if(m>c)u=p-1;else{if(!(m<c)){for(;p>0&&this._getKey(this._array[p-1])===c;)p--;return p}h=p+1}}return h}}},7226:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const c=a(6114);class h{constructor(){this._tasks=[],this._i=0}enqueue(m){this._tasks.push(m),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(m){this._idleCallback=void 0;let y=0,w=0,g=m.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(y=Date.now(),this._tasks[this._i]()||this._i++,y=Math.max(1,Date.now()-y),w=Math.max(y,w),f=m.timeRemaining(),1.5*w>f)return g-y<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(g-y))}ms`),void this._start();g=f}this.clear()}}class u extends h{_requestCallback(m){return setTimeout(()=>m(this._createDeadline(16)))}_cancelCallback(m){clearTimeout(m)}_createDeadline(m){const y=Date.now()+m;return{timeRemaining:()=>Math.max(0,y-Date.now())}}}o.PriorityTaskQueue=u,o.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends h{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:u,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},9282:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const c=a(643);o.updateWindowsModeWrappedState=function(h){const u=h.buffer.lines.get(h.buffer.ybase+h.buffer.y-1),p=u==null?void 0:u.get(h.cols-1),m=h.buffer.lines.get(h.buffer.ybase+h.buffer.y);m&&p&&(m.isWrapped=p[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&p[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new a;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=a;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}constructor(u=0,p=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=p}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=c},9092:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const c=a(6349),h=a(7226),u=a(3734),p=a(8437),m=a(4634),y=a(511),w=a(643),g=a(4863),f=a(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(d,_,v){this._hasScrollback=d,this._optionsService=_,this._bufferService=v,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=p.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=y.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=y.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new h.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,_){return new p.BufferLine(this._bufferService.cols,this.getNullCell(d),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const _=d+this._optionsService.rawOptions.scrollback;return _>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:_}fillViewportRows(d){if(this.lines.length===0){d===void 0&&(d=p.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,_){const v=this.getNullCell(p.DEFAULT_ATTR_DATA);let S=0;const k=this._getCorrectBufferLength(_);if(k>this.lines.maxLength&&(this.lines.maxLength=k),this.lines.length>0){if(this._cols<d)for(let x=0;x<this.lines.length;x++)S+=+this.lines.get(x).resize(d,v);let b=0;if(this._rows<_)for(let x=this._rows;x<_;x++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new p.BufferLine(d,v)):this.ybase>0&&this.lines.length<=this.ybase+this.y+b+1?(this.ybase--,b++,this.ydisp>0&&this.ydisp--):this.lines.push(new p.BufferLine(d,v)));else for(let x=this._rows;x>_;x--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(k<this.lines.maxLength){const x=this.lines.length-k;x>0&&(this.lines.trimStart(x),this.ybase=Math.max(this.ybase-x,0),this.ydisp=Math.max(this.ydisp-x,0),this.savedY=Math.max(this.savedY-x,0)),this.lines.maxLength=k}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,_-1),b&&(this.y+=b),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(d,_),this._cols>d))for(let b=0;b<this.lines.length;b++)S+=+this.lines.get(b).resize(d,v);this._cols=d,this._rows=_,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return d}get _isReflowEnabled(){const d=this._optionsService.rawOptions.windowsPty;return d&&d.buildNumber?this._hasScrollback&&d.backend==="conpty"&&d.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,_){this._cols!==d&&(d>this._cols?this._reflowLarger(d,_):this._reflowSmaller(d,_))}_reflowLarger(d,_){const v=(0,m.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(p.DEFAULT_ATTR_DATA));if(v.length>0){const S=(0,m.reflowLargerCreateNewLayout)(this.lines,v);(0,m.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(d,_,S.countRemoved)}}_reflowLargerAdjustViewport(d,_,v){const S=this.getNullCell(p.DEFAULT_ATTR_DATA);let k=v;for(;k-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new p.BufferLine(d,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-v,0)}_reflowSmaller(d,_){const v=this.getNullCell(p.DEFAULT_ATTR_DATA),S=[];let k=0;for(let b=this.lines.length-1;b>=0;b--){let x=this.lines.get(b);if(!x||!x.isWrapped&&x.getTrimmedLength()<=d)continue;const C=[x];for(;x.isWrapped&&b>0;)x=this.lines.get(--b),C.unshift(x);const A=this.ybase+this.y;if(A>=b&&A<b+C.length)continue;const N=C[C.length-1].getTrimmedLength(),I=(0,m.reflowSmallerGetNewLineLengths)(C,this._cols,d),F=I.length-C.length;let D;D=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+F):Math.max(0,this.lines.length-this.lines.maxLength+F);const B=[];for(let M=0;M<F;M++){const U=this.getBlankLine(p.DEFAULT_ATTR_DATA,!0);B.push(U)}B.length>0&&(S.push({start:b+C.length+k,newLines:B}),k+=B.length),C.push(...B);let z=I.length-1,H=I[z];H===0&&(z--,H=I[z]);let L=C.length-F-1,R=N;for(;L>=0;){const M=Math.min(R,H);if(C[z]===void 0)break;if(C[z].copyCellsFrom(C[L],R-M,H-M,M,!0),H-=M,H===0&&(z--,H=I[z]),R-=M,R===0){L--;const U=Math.max(L,0);R=(0,m.getWrappedLineTrimmedLength)(C,U,this._cols)}}for(let M=0;M<C.length;M++)I[M]<d&&C[M].setCell(I[M],v);let E=F-D;for(;E-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+k)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+F,this.ybase+_-1)}if(S.length>0){const b=[],x=[];for(let z=0;z<this.lines.length;z++)x.push(this.lines.get(z));const C=this.lines.length;let A=C-1,N=0,I=S[N];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+k);let F=0;for(let z=Math.min(this.lines.maxLength-1,C+k-1);z>=0;z--)if(I&&I.start>A+F){for(let H=I.newLines.length-1;H>=0;H--)this.lines.set(z--,I.newLines[H]);z++,b.push({index:A+1,amount:I.newLines.length}),F+=I.newLines.length,I=S[++N]}else this.lines.set(z,x[A--]);let D=0;for(let z=b.length-1;z>=0;z--)b[z].index+=D,this.lines.onInsertEmitter.fire(b[z]),D+=b[z].amount;const B=Math.max(0,C+k-this.lines.maxLength);B>0&&this.lines.onTrimEmitter.fire(B)}}translateBufferLineToString(d,_,v=0,S){const k=this.lines.get(d);return k?k.translateToString(_,v,S):""}getWrappedRangeForLine(d){let _=d,v=d;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;v+1<this.lines.length&&this.lines.get(v+1).isWrapped;)v++;return{first:_,last:v}}setupTabStops(d){for(d!=null?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(d==null&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(d==null&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===d&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const _=new g.Marker(d);return this.markers.push(_),_.register(this.lines.onTrim(v=>{_.line-=v,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(v=>{_.line>=v.index&&(_.line+=v.amount)})),_.register(this.lines.onDelete(v=>{_.line>=v.index&&_.line<v.index+v.amount&&_.dispose(),_.line>v.index&&(_.line-=v.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}}},8437:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const c=a(3734),h=a(511),u=a(643),p=a(482);o.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let m=0;class y{constructor(g,f,d=!1){this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*g);const _=f||h.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let v=0;v<g;++v)this.setCell(v,_);this.length=g}get(g){const f=this._data[3*g+0],d=2097151&f;return[this._data[3*g+1],2097152&f?this._combined[g]:d?(0,p.stringFromCodePoint)(d):"",f>>22,2097152&f?this._combined[g].charCodeAt(this._combined[g].length-1):d]}set(g,f){this._data[3*g+1]=f[u.CHAR_DATA_ATTR_INDEX],f[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[g]=f[1],this._data[3*g+0]=2097152|g|f[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*g+0]=f[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(g){return this._data[3*g+0]>>22}hasWidth(g){return 12582912&this._data[3*g+0]}getFg(g){return this._data[3*g+1]}getBg(g){return this._data[3*g+2]}hasContent(g){return 4194303&this._data[3*g+0]}getCodePoint(g){const f=this._data[3*g+0];return 2097152&f?this._combined[g].charCodeAt(this._combined[g].length-1):2097151&f}isCombined(g){return 2097152&this._data[3*g+0]}getString(g){const f=this._data[3*g+0];return 2097152&f?this._combined[g]:2097151&f?(0,p.stringFromCodePoint)(2097151&f):""}isProtected(g){return 536870912&this._data[3*g+2]}loadCell(g,f){return m=3*g,f.content=this._data[m+0],f.fg=this._data[m+1],f.bg=this._data[m+2],2097152&f.content&&(f.combinedData=this._combined[g]),268435456&f.bg&&(f.extended=this._extendedAttrs[g]),f}setCell(g,f){2097152&f.content&&(this._combined[g]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[g]=f.extended),this._data[3*g+0]=f.content,this._data[3*g+1]=f.fg,this._data[3*g+2]=f.bg}setCellFromCodePoint(g,f,d,_,v,S){268435456&v&&(this._extendedAttrs[g]=S),this._data[3*g+0]=f|d<<22,this._data[3*g+1]=_,this._data[3*g+2]=v}addCodepointToCell(g,f){let d=this._data[3*g+0];2097152&d?this._combined[g]+=(0,p.stringFromCodePoint)(f):(2097151&d?(this._combined[g]=(0,p.stringFromCodePoint)(2097151&d)+(0,p.stringFromCodePoint)(f),d&=-2097152,d|=2097152):d=f|4194304,this._data[3*g+0]=d)}insertCells(g,f,d,_){if((g%=this.length)&&this.getWidth(g-1)===2&&this.setCellFromCodePoint(g-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),f<this.length-g){const v=new h.CellData;for(let S=this.length-g-f-1;S>=0;--S)this.setCell(g+f+S,this.loadCell(g+S,v));for(let S=0;S<f;++S)this.setCell(g+S,d)}else for(let v=g;v<this.length;++v)this.setCell(v,d);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}deleteCells(g,f,d,_){if(g%=this.length,f<this.length-g){const v=new h.CellData;for(let S=0;S<this.length-g-f;++S)this.setCell(g+S,this.loadCell(g+f+S,v));for(let S=this.length-f;S<this.length;++S)this.setCell(S,d)}else for(let v=g;v<this.length;++v)this.setCell(v,d);g&&this.getWidth(g-1)===2&&this.setCellFromCodePoint(g-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),this.getWidth(g)!==0||this.hasContent(g)||this.setCellFromCodePoint(g,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}replaceCells(g,f,d,_,v=!1){if(v)for(g&&this.getWidth(g-1)===2&&!this.isProtected(g-1)&&this.setCellFromCodePoint(g-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);g<f&&g<this.length;)this.isProtected(g)||this.setCell(g,d),g++;else for(g&&this.getWidth(g-1)===2&&this.setCellFromCodePoint(g-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);g<f&&g<this.length;)this.setCell(g++,d)}resize(g,f){if(g===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const d=3*g;if(g>this.length){if(this._data.buffer.byteLength>=4*d)this._data=new Uint32Array(this._data.buffer,0,d);else{const _=new Uint32Array(d);_.set(this._data),this._data=_}for(let _=this.length;_<g;++_)this.setCell(_,f)}else{this._data=this._data.subarray(0,d);const _=Object.keys(this._combined);for(let S=0;S<_.length;S++){const k=parseInt(_[S],10);k>=g&&delete this._combined[k]}const v=Object.keys(this._extendedAttrs);for(let S=0;S<v.length;S++){const k=parseInt(v[S],10);k>=g&&delete this._extendedAttrs[k]}}return this.length=g,4*d*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const g=new Uint32Array(this._data.length);return g.set(this._data),this._data=g,1}return 0}fill(g,f=!1){if(f)for(let d=0;d<this.length;++d)this.isProtected(d)||this.setCell(d,g);else{this._combined={},this._extendedAttrs={};for(let d=0;d<this.length;++d)this.setCell(d,g)}}copyFrom(g){this.length!==g.length?this._data=new Uint32Array(g._data):this._data.set(g._data),this.length=g.length,this._combined={};for(const f in g._combined)this._combined[f]=g._combined[f];this._extendedAttrs={};for(const f in g._extendedAttrs)this._extendedAttrs[f]=g._extendedAttrs[f];this.isWrapped=g.isWrapped}clone(){const g=new y(0);g._data=new Uint32Array(this._data),g.length=this.length;for(const f in this._combined)g._combined[f]=this._combined[f];for(const f in this._extendedAttrs)g._extendedAttrs[f]=this._extendedAttrs[f];return g.isWrapped=this.isWrapped,g}getTrimmedLength(){for(let g=this.length-1;g>=0;--g)if(4194303&this._data[3*g+0])return g+(this._data[3*g+0]>>22);return 0}getNoBgTrimmedLength(){for(let g=this.length-1;g>=0;--g)if(4194303&this._data[3*g+0]||50331648&this._data[3*g+2])return g+(this._data[3*g+0]>>22);return 0}copyCellsFrom(g,f,d,_,v){const S=g._data;if(v)for(let b=_-1;b>=0;b--){for(let x=0;x<3;x++)this._data[3*(d+b)+x]=S[3*(f+b)+x];268435456&S[3*(f+b)+2]&&(this._extendedAttrs[d+b]=g._extendedAttrs[f+b])}else for(let b=0;b<_;b++){for(let x=0;x<3;x++)this._data[3*(d+b)+x]=S[3*(f+b)+x];268435456&S[3*(f+b)+2]&&(this._extendedAttrs[d+b]=g._extendedAttrs[f+b])}const k=Object.keys(g._combined);for(let b=0;b<k.length;b++){const x=parseInt(k[b],10);x>=f&&(this._combined[x-f+d]=g._combined[x])}}translateToString(g=!1,f=0,d=this.length){g&&(d=Math.min(d,this.getTrimmedLength()));let _="";for(;f<d;){const v=this._data[3*f+0],S=2097151&v;_+=2097152&v?this._combined[f]:S?(0,p.stringFromCodePoint)(S):u.WHITESPACE_CELL_CHAR,f+=v>>22||1}return _}}o.BufferLine=y},4841:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(a,c){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return c*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(l,o)=>{function a(c,h,u){if(h===c.length-1)return c[h].getTrimmedLength();const p=!c[h].hasContent(u-1)&&c[h].getWidth(u-1)===1,m=c[h+1].getWidth(0)===2;return p&&m?u-1:u}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(c,h,u,p,m){const y=[];for(let w=0;w<c.length-1;w++){let g=w,f=c.get(++g);if(!f.isWrapped)continue;const d=[c.get(w)];for(;g<c.length&&f.isWrapped;)d.push(f),f=c.get(++g);if(p>=w&&p<g){w+=d.length-1;continue}let _=0,v=a(d,_,h),S=1,k=0;for(;S<d.length;){const x=a(d,S,h),C=x-k,A=u-v,N=Math.min(C,A);d[_].copyCellsFrom(d[S],k,v,N,!1),v+=N,v===u&&(_++,v=0),k+=N,k===x&&(S++,k=0),v===0&&_!==0&&d[_-1].getWidth(u-1)===2&&(d[_].copyCellsFrom(d[_-1],u-1,v++,1,!1),d[_-1].setCell(u-1,m))}d[_].replaceCells(v,u,m);let b=0;for(let x=d.length-1;x>0&&(x>_||d[x].getTrimmedLength()===0);x--)b++;b>0&&(y.push(w+d.length-b),y.push(b)),w+=d.length-1}return y},o.reflowLargerCreateNewLayout=function(c,h){const u=[];let p=0,m=h[p],y=0;for(let w=0;w<c.length;w++)if(m===w){const g=h[++p];c.onDeleteEmitter.fire({index:w-y,amount:g}),w+=g-1,y+=g,m=h[++p]}else u.push(w);return{layout:u,countRemoved:y}},o.reflowLargerApplyNewLayout=function(c,h){const u=[];for(let p=0;p<h.length;p++)u.push(c.get(h[p]));for(let p=0;p<u.length;p++)c.set(p,u[p]);c.length=h.length},o.reflowSmallerGetNewLineLengths=function(c,h,u){const p=[],m=c.map((f,d)=>a(c,d,h)).reduce((f,d)=>f+d);let y=0,w=0,g=0;for(;g<m;){if(m-g<u){p.push(m-g);break}y+=u;const f=a(c,w,h);y>f&&(y-=f,w++);const d=c[w].getWidth(y-1)===2;d&&y--;const _=d?u-1:u;p.push(_),g+=_}return p},o.getWrappedLineTrimmedLength=a},5295:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const c=a(8460),h=a(844),u=a(9092);class p extends h.Disposable{constructor(y,w){super(),this._optionsService=y,this._bufferService=w,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(y){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(y),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(y,w){this._normal.resize(y,w),this._alt.resize(y,w),this.setupTabStops(y)}setupTabStops(y){this._normal.setupTabStops(y),this._alt.setupTabStops(y)}}o.BufferSet=p},511:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const c=a(482),h=a(643),u=a(3734);class p extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(y){const w=new p;return w.setFromCharData(y),w}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(y){this.fg=y[h.CHAR_DATA_ATTR_INDEX],this.bg=0;let w=!1;if(y[h.CHAR_DATA_CHAR_INDEX].length>2)w=!0;else if(y[h.CHAR_DATA_CHAR_INDEX].length===2){const g=y[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=g&&g<=56319){const f=y[h.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(g-55296)+f-56320+65536|y[h.CHAR_DATA_WIDTH_INDEX]<<22:w=!0}else w=!0}else this.content=y[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[h.CHAR_DATA_WIDTH_INDEX]<<22;w&&(this.combinedData=y[h.CHAR_DATA_CHAR_INDEX],this.content=2097152|y[h.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=p},643:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const c=a(8460),h=a(844);class u{get id(){return this._id}constructor(m){this.line=m,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,h.disposeArray)(this._disposables),this._disposables.length=0)}register(m){return this._disposables.push(m),m}}o.Marker=u,u._nextId=1},7116:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(l,o)=>{var a,c,h;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(a||(o.C0=a={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(c||(o.C1=c={})),function(u){u.ST=`${a.ESC}\\`}(h||(o.C1_ESCAPED=h={}))},7399:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const c=a(2584),h={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(u,p,m,y){const w={type:0,cancel:!1,key:void 0},g=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?w.key=p?c.C0.ESC+"OA":c.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?w.key=p?c.C0.ESC+"OD":c.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?w.key=p?c.C0.ESC+"OC":c.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(w.key=p?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(u.altKey){w.key=c.C0.ESC+c.C0.DEL;break}w.key=c.C0.DEL;break;case 9:if(u.shiftKey){w.key=c.C0.ESC+"[Z";break}w.key=c.C0.HT,w.cancel=!0;break;case 13:w.key=u.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,w.cancel=!0;break;case 27:w.key=c.C0.ESC,u.altKey&&(w.key=c.C0.ESC+c.C0.ESC),w.cancel=!0;break;case 37:if(u.metaKey)break;g?(w.key=c.C0.ESC+"[1;"+(g+1)+"D",w.key===c.C0.ESC+"[1;3D"&&(w.key=c.C0.ESC+(m?"b":"[1;5D"))):w.key=p?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(u.metaKey)break;g?(w.key=c.C0.ESC+"[1;"+(g+1)+"C",w.key===c.C0.ESC+"[1;3C"&&(w.key=c.C0.ESC+(m?"f":"[1;5C"))):w.key=p?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(u.metaKey)break;g?(w.key=c.C0.ESC+"[1;"+(g+1)+"A",m||w.key!==c.C0.ESC+"[1;3A"||(w.key=c.C0.ESC+"[1;5A")):w.key=p?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(u.metaKey)break;g?(w.key=c.C0.ESC+"[1;"+(g+1)+"B",m||w.key!==c.C0.ESC+"[1;3B"||(w.key=c.C0.ESC+"[1;5B")):w.key=p?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(w.key=c.C0.ESC+"[2~");break;case 46:w.key=g?c.C0.ESC+"[3;"+(g+1)+"~":c.C0.ESC+"[3~";break;case 36:w.key=g?c.C0.ESC+"[1;"+(g+1)+"H":p?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:w.key=g?c.C0.ESC+"[1;"+(g+1)+"F":p?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:u.shiftKey?w.type=2:u.ctrlKey?w.key=c.C0.ESC+"[5;"+(g+1)+"~":w.key=c.C0.ESC+"[5~";break;case 34:u.shiftKey?w.type=3:u.ctrlKey?w.key=c.C0.ESC+"[6;"+(g+1)+"~":w.key=c.C0.ESC+"[6~";break;case 112:w.key=g?c.C0.ESC+"[1;"+(g+1)+"P":c.C0.ESC+"OP";break;case 113:w.key=g?c.C0.ESC+"[1;"+(g+1)+"Q":c.C0.ESC+"OQ";break;case 114:w.key=g?c.C0.ESC+"[1;"+(g+1)+"R":c.C0.ESC+"OR";break;case 115:w.key=g?c.C0.ESC+"[1;"+(g+1)+"S":c.C0.ESC+"OS";break;case 116:w.key=g?c.C0.ESC+"[15;"+(g+1)+"~":c.C0.ESC+"[15~";break;case 117:w.key=g?c.C0.ESC+"[17;"+(g+1)+"~":c.C0.ESC+"[17~";break;case 118:w.key=g?c.C0.ESC+"[18;"+(g+1)+"~":c.C0.ESC+"[18~";break;case 119:w.key=g?c.C0.ESC+"[19;"+(g+1)+"~":c.C0.ESC+"[19~";break;case 120:w.key=g?c.C0.ESC+"[20;"+(g+1)+"~":c.C0.ESC+"[20~";break;case 121:w.key=g?c.C0.ESC+"[21;"+(g+1)+"~":c.C0.ESC+"[21~";break;case 122:w.key=g?c.C0.ESC+"[23;"+(g+1)+"~":c.C0.ESC+"[23~";break;case 123:w.key=g?c.C0.ESC+"[24;"+(g+1)+"~":c.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(m&&!y||!u.altKey||u.metaKey)!m||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?w.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(w.key=c.C0.US),u.key==="@"&&(w.key=c.C0.NUL)):u.keyCode===65&&(w.type=1);else{const f=h[u.keyCode],d=f==null?void 0:f[u.shiftKey?1:0];if(d)w.key=c.C0.ESC+d;else if(u.keyCode>=65&&u.keyCode<=90){const _=u.ctrlKey?u.keyCode-64:u.keyCode+32;let v=String.fromCharCode(_);u.shiftKey&&(v=v.toUpperCase()),w.key=c.C0.ESC+v}else if(u.keyCode===32)w.key=c.C0.ESC+(u.ctrlKey?c.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let _=u.code.slice(3,4);u.shiftKey||(_=_.toLowerCase()),w.key=c.C0.ESC+_,w.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?w.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?w.key=c.C0.NUL:u.keyCode>=51&&u.keyCode<=55?w.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?w.key=c.C0.DEL:u.keyCode===219?w.key=c.C0.ESC:u.keyCode===220?w.key=c.C0.FS:u.keyCode===221&&(w.key=c.C0.GS)}return w}},482:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},o.utf32ToString=function(a,c=0,h=a.length){let u="";for(let p=c;p<h;++p){let m=a[p];m>65535?(m-=65536,u+=String.fromCharCode(55296+(m>>10))+String.fromCharCode(m%1024+56320)):u+=String.fromCharCode(m)}return u},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,c){const h=a.length;if(!h)return 0;let u=0,p=0;if(this._interim){const m=a.charCodeAt(p++);56320<=m&&m<=57343?c[u++]=1024*(this._interim-55296)+m-56320+65536:(c[u++]=this._interim,c[u++]=m),this._interim=0}for(let m=p;m<h;++m){const y=a.charCodeAt(m);if(55296<=y&&y<=56319){if(++m>=h)return this._interim=y,u;const w=a.charCodeAt(m);56320<=w&&w<=57343?c[u++]=1024*(y-55296)+w-56320+65536:(c[u++]=y,c[u++]=w)}else y!==65279&&(c[u++]=y)}return u}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,c){const h=a.length;if(!h)return 0;let u,p,m,y,w=0,g=0,f=0;if(this.interim[0]){let v=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let k,b=0;for(;(k=63&this.interim[++b])&&b<4;)S<<=6,S|=k;const x=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,C=x-b;for(;f<C;){if(f>=h)return 0;if(k=a[f++],(192&k)!=128){f--,v=!0;break}this.interim[b++]=k,S<<=6,S|=63&k}v||(x===2?S<128?f--:c[w++]=S:x===3?S<2048||S>=55296&&S<=57343||S===65279||(c[w++]=S):S<65536||S>1114111||(c[w++]=S)),this.interim.fill(0)}const d=h-4;let _=f;for(;_<h;){for(;!(!(_<d)||128&(u=a[_])||128&(p=a[_+1])||128&(m=a[_+2])||128&(y=a[_+3]));)c[w++]=u,c[w++]=p,c[w++]=m,c[w++]=y,_+=4;if(u=a[_++],u<128)c[w++]=u;else if((224&u)==192){if(_>=h)return this.interim[0]=u,w;if(p=a[_++],(192&p)!=128){_--;continue}if(g=(31&u)<<6|63&p,g<128){_--;continue}c[w++]=g}else if((240&u)==224){if(_>=h)return this.interim[0]=u,w;if(p=a[_++],(192&p)!=128){_--;continue}if(_>=h)return this.interim[0]=u,this.interim[1]=p,w;if(m=a[_++],(192&m)!=128){_--;continue}if(g=(15&u)<<12|(63&p)<<6|63&m,g<2048||g>=55296&&g<=57343||g===65279)continue;c[w++]=g}else if((248&u)==240){if(_>=h)return this.interim[0]=u,w;if(p=a[_++],(192&p)!=128){_--;continue}if(_>=h)return this.interim[0]=u,this.interim[1]=p,w;if(m=a[_++],(192&m)!=128){_--;continue}if(_>=h)return this.interim[0]=u,this.interim[1]=p,this.interim[2]=m,w;if(y=a[_++],(192&y)!=128){_--;continue}if(g=(7&u)<<18|(63&p)<<12|(63&m)<<6|63&y,g<65536||g>1114111)continue;c[w++]=g}}return w}}},225:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let h;o.UnicodeV6=class{constructor(){if(this.version="6",!h){h=new Uint8Array(65536),h.fill(1),h[0]=0,h.fill(0,1,32),h.fill(0,127,160),h.fill(2,4352,4448),h[9001]=2,h[9002]=2,h.fill(2,11904,42192),h[12351]=1,h.fill(2,44032,55204),h.fill(2,63744,64256),h.fill(2,65040,65050),h.fill(2,65072,65136),h.fill(2,65280,65377),h.fill(2,65504,65511);for(let u=0;u<a.length;++u)h.fill(0,a[u][0],a[u][1]+1)}}wcwidth(u){return u<32?0:u<127?1:u<65536?h[u]:function(p,m){let y,w=0,g=m.length-1;if(p<m[0][0]||p>m[g][1])return!1;for(;g>=w;)if(y=w+g>>1,p>m[y][1])w=y+1;else{if(!(p<m[y][0]))return!0;g=y-1}return!1}(u,c)?0:u>=131072&&u<=196605||u>=196608&&u<=262141?2:1}}},5981:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const c=a(8460),h=a(844);class u extends h.Disposable{constructor(m){super(),this._action=m,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(m,y){if(y!==void 0&&this._syncCalls>y)return void(this._syncCalls=0);if(this._pendingData+=m.length,this._writeBuffer.push(m),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let w;for(this._isSyncWriting=!0;w=this._writeBuffer.shift();){this._action(w);const g=this._callbacks.shift();g&&g()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(m,y){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=m.length,this._writeBuffer.push(m),this._callbacks.push(y),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=m.length,this._writeBuffer.push(m),this._callbacks.push(y)}_innerWrite(m=0,y=!0){const w=m||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const g=this._writeBuffer[this._bufferOffset],f=this._action(g,y);if(f){const _=v=>Date.now()-w>=12?setTimeout(()=>this._innerWrite(0,v)):this._innerWrite(w,v);return void f.catch(v=>(queueMicrotask(()=>{throw v}),Promise.resolve(!1))).then(_)}const d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=g.length,Date.now()-w>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=u},5941:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function h(u,p){const m=u.toString(16),y=m.length<2?"0"+m:m;switch(p){case 4:return m[0];case 8:return y;case 12:return(y+y).slice(0,3);default:return y+y}}o.parseColor=function(u){if(!u)return;let p=u.toLowerCase();if(p.indexOf("rgb:")===0){p=p.slice(4);const m=a.exec(p);if(m){const y=m[1]?15:m[4]?255:m[7]?4095:65535;return[Math.round(parseInt(m[1]||m[4]||m[7]||m[10],16)/y*255),Math.round(parseInt(m[2]||m[5]||m[8]||m[11],16)/y*255),Math.round(parseInt(m[3]||m[6]||m[9]||m[12],16)/y*255)]}}else if(p.indexOf("#")===0&&(p=p.slice(1),c.exec(p)&&[3,6,9,12].includes(p.length))){const m=p.length/3,y=[0,0,0];for(let w=0;w<3;++w){const g=parseInt(p.slice(m*w,m*w+m),16);y[w]=m===1?g<<4:m===2?g:m===3?g>>4:g>>8}return y}},o.toRgbString=function(u,p=16){const[m,y,w]=u;return`rgb:${h(m,p)}/${h(y,p)}/${h(w,p)}`}},5770:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const c=a(482),h=a(8742),u=a(5770),p=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}registerHandler(y,w){this._handlers[y]===void 0&&(this._handlers[y]=[]);const g=this._handlers[y];return g.push(w),{dispose:()=>{const f=g.indexOf(w);f!==-1&&g.splice(f,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}reset(){if(this._active.length)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0}hook(y,w){if(this.reset(),this._ident=y,this._active=this._handlers[y]||p,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].hook(w);else this._handlerFb(this._ident,"HOOK",w)}put(y,w,g){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(y,w,g);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(y,w,g))}unhook(y,w=!0){if(this._active.length){let g=!1,f=this._active.length-1,d=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,g=w,d=this._stack.fallThrough,this._stack.paused=!1),!d&&g===!1){for(;f>=0&&(g=this._active[f].unhook(y),g!==!0);f--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,g;f--}for(;f>=0;f--)if(g=this._active[f].unhook(!1),g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,g}else this._handlerFb(this._ident,"UNHOOK",y);this._active=p,this._ident=0}};const m=new h.Params;m.addParam(0),o.DcsHandler=class{constructor(y){this._handler=y,this._data="",this._params=m,this._hitLimit=!1}hook(y){this._params=y.length>1||y.params[0]?y.clone():m,this._data="",this._hitLimit=!1}put(y,w,g){this._hitLimit||(this._data+=(0,c.utf32ToString)(y,w,g),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(y){let w=!1;if(this._hitLimit)w=!1;else if(y&&(w=this._handler(this._data,this._params),w instanceof Promise))return w.then(g=>(this._params=m,this._data="",this._hitLimit=!1,g));return this._params=m,this._data="",this._hitLimit=!1,w}}},2015:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const c=a(844),h=a(8742),u=a(6242),p=a(6351);class m{constructor(f){this.table=new Uint8Array(f)}setDefault(f,d){this.table.fill(f<<4|d)}add(f,d,_,v){this.table[d<<8|f]=_<<4|v}addMany(f,d,_,v){for(let S=0;S<f.length;S++)this.table[d<<8|f[S]]=_<<4|v}}o.TransitionTable=m;const y=160;o.VT500_TRANSITION_TABLE=function(){const g=new m(4095),f=Array.apply(null,Array(256)).map((b,x)=>x),d=(b,x)=>f.slice(b,x),_=d(32,127),v=d(0,24);v.push(25),v.push.apply(v,d(28,32));const S=d(0,14);let k;for(k in g.setDefault(1,0),g.addMany(_,0,2,0),S)g.addMany([24,26,153,154],k,3,0),g.addMany(d(128,144),k,3,0),g.addMany(d(144,152),k,3,0),g.add(156,k,0,0),g.add(27,k,11,1),g.add(157,k,4,8),g.addMany([152,158,159],k,0,7),g.add(155,k,11,3),g.add(144,k,11,9);return g.addMany(v,0,3,0),g.addMany(v,1,3,1),g.add(127,1,0,1),g.addMany(v,8,0,8),g.addMany(v,3,3,3),g.add(127,3,0,3),g.addMany(v,4,3,4),g.add(127,4,0,4),g.addMany(v,6,3,6),g.addMany(v,5,3,5),g.add(127,5,0,5),g.addMany(v,2,3,2),g.add(127,2,0,2),g.add(93,1,4,8),g.addMany(_,8,5,8),g.add(127,8,5,8),g.addMany([156,27,24,26,7],8,6,0),g.addMany(d(28,32),8,0,8),g.addMany([88,94,95],1,0,7),g.addMany(_,7,0,7),g.addMany(v,7,0,7),g.add(156,7,0,0),g.add(127,7,0,7),g.add(91,1,11,3),g.addMany(d(64,127),3,7,0),g.addMany(d(48,60),3,8,4),g.addMany([60,61,62,63],3,9,4),g.addMany(d(48,60),4,8,4),g.addMany(d(64,127),4,7,0),g.addMany([60,61,62,63],4,0,6),g.addMany(d(32,64),6,0,6),g.add(127,6,0,6),g.addMany(d(64,127),6,0,0),g.addMany(d(32,48),3,9,5),g.addMany(d(32,48),5,9,5),g.addMany(d(48,64),5,0,6),g.addMany(d(64,127),5,7,0),g.addMany(d(32,48),4,9,5),g.addMany(d(32,48),1,9,2),g.addMany(d(32,48),2,9,2),g.addMany(d(48,127),2,10,0),g.addMany(d(48,80),1,10,0),g.addMany(d(81,88),1,10,0),g.addMany([89,90,92],1,10,0),g.addMany(d(96,127),1,10,0),g.add(80,1,11,9),g.addMany(v,9,0,9),g.add(127,9,0,9),g.addMany(d(28,32),9,0,9),g.addMany(d(32,48),9,9,12),g.addMany(d(48,60),9,8,10),g.addMany([60,61,62,63],9,9,10),g.addMany(v,11,0,11),g.addMany(d(32,128),11,0,11),g.addMany(d(28,32),11,0,11),g.addMany(v,10,0,10),g.add(127,10,0,10),g.addMany(d(28,32),10,0,10),g.addMany(d(48,60),10,8,10),g.addMany([60,61,62,63],10,0,11),g.addMany(d(32,48),10,9,12),g.addMany(v,12,0,12),g.add(127,12,0,12),g.addMany(d(28,32),12,0,12),g.addMany(d(32,48),12,9,12),g.addMany(d(48,64),12,0,11),g.addMany(d(64,127),12,12,13),g.addMany(d(64,127),10,12,13),g.addMany(d(64,127),9,12,13),g.addMany(v,13,13,13),g.addMany(_,13,13,13),g.add(127,13,0,13),g.addMany([27,156,24,26],13,14,0),g.add(y,0,2,0),g.add(y,8,5,8),g.add(y,6,0,6),g.add(y,11,0,11),g.add(y,13,13,13),g}();class w extends c.Disposable{constructor(f=o.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new h.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,_,v)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,_)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new p.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,d=[64,126]){let _=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=f.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<f.intermediates.length;++S){const k=f.intermediates.charCodeAt(S);if(32>k||k>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=k}}if(f.final.length!==1)throw new Error("final must be a single byte");const v=f.final.charCodeAt(0);if(d[0]>v||v>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return _<<=8,_|=v,_}identToString(f){const d=[];for(;f;)d.push(String.fromCharCode(255&f)),f>>=8;return d.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,d){const _=this._identifier(f,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const v=this._escHandlers[_];return v.push(d),{dispose:()=>{const S=v.indexOf(d);S!==-1&&v.splice(S,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,d){this._executeHandlers[f.charCodeAt(0)]=d}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,d){const _=this._identifier(f);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const v=this._csiHandlers[_];return v.push(d),{dispose:()=>{const S=v.indexOf(d);S!==-1&&v.splice(S,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,d){return this._dcsParser.registerHandler(this._identifier(f),d)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,d){return this._oscParser.registerHandler(f,d)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,d,_,v,S){this._parseStack.state=f,this._parseStack.handlers=d,this._parseStack.handlerPos=_,this._parseStack.transition=v,this._parseStack.chunkPos=S}parse(f,d,_){let v,S=0,k=0,b=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,b=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const x=this._parseStack.handlers;let C=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&C>-1){for(;C>=0&&(v=x[C](this._params),v!==!0);C--)if(v instanceof Promise)return this._parseStack.handlerPos=C,v}this._parseStack.handlers=[];break;case 4:if(_===!1&&C>-1){for(;C>=0&&(v=x[C](),v!==!0);C--)if(v instanceof Promise)return this._parseStack.handlerPos=C,v}this._parseStack.handlers=[];break;case 6:if(S=f[this._parseStack.chunkPos],v=this._dcsParser.unhook(S!==24&&S!==26,_),v)return v;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=f[this._parseStack.chunkPos],v=this._oscParser.end(S!==24&&S!==26,_),v)return v;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,b=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let x=b;x<d;++x){switch(S=f[x],k=this._transitions.table[this.currentState<<8|(S<160?S:y)],k>>4){case 2:for(let F=x+1;;++F){if(F>=d||(S=f[F])<32||S>126&&S<y){this._printHandler(f,x,F),x=F-1;break}if(++F>=d||(S=f[F])<32||S>126&&S<y){this._printHandler(f,x,F),x=F-1;break}if(++F>=d||(S=f[F])<32||S>126&&S<y){this._printHandler(f,x,F),x=F-1;break}if(++F>=d||(S=f[F])<32||S>126&&S<y){this._printHandler(f,x,F),x=F-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:x,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const C=this._csiHandlers[this._collect<<8|S];let A=C?C.length-1:-1;for(;A>=0&&(v=C[A](this._params),v!==!0);A--)if(v instanceof Promise)return this._preserveStack(3,C,A,k,x),v;A<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++x<d&&(S=f[x])>47&&S<60);x--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const N=this._escHandlers[this._collect<<8|S];let I=N?N.length-1:-1;for(;I>=0&&(v=N[I](),v!==!0);I--)if(v instanceof Promise)return this._preserveStack(4,N,I,k,x),v;I<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let F=x+1;;++F)if(F>=d||(S=f[F])===24||S===26||S===27||S>127&&S<y){this._dcsParser.put(f,x,F),x=F-1;break}break;case 14:if(v=this._dcsParser.unhook(S!==24&&S!==26),v)return this._preserveStack(6,[],0,k,x),v;S===27&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let F=x+1;;F++)if(F>=d||(S=f[F])<32||S>127&&S<y){this._oscParser.put(f,x,F),x=F-1;break}break;case 6:if(v=this._oscParser.end(S!==24&&S!==26),v)return this._preserveStack(5,[],0,k,x),v;S===27&&(k|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&k}}}o.EscapeSequenceParser=w},6242:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const c=a(5770),h=a(482),u=[];o.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(p,m){this._handlers[p]===void 0&&(this._handlers[p]=[]);const y=this._handlers[p];return y.push(m),{dispose:()=>{const w=y.indexOf(m);w!==-1&&y.splice(w,1)}}}clearHandler(p){this._handlers[p]&&delete this._handlers[p]}setHandlerFallback(p){this._handlerFb=p}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].start();else this._handlerFb(this._id,"START")}_put(p,m,y){if(this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].put(p,m,y);else this._handlerFb(this._id,"PUT",(0,h.utf32ToString)(p,m,y))}start(){this.reset(),this._state=1}put(p,m,y){if(this._state!==3){if(this._state===1)for(;m<y;){const w=p[m++];if(w===59){this._state=2,this._start();break}if(w<48||57<w)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+w-48}this._state===2&&y-m>0&&this._put(p,m,y)}}end(p,m=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let y=!1,w=this._active.length-1,g=!1;if(this._stack.paused&&(w=this._stack.loopPosition-1,y=m,g=this._stack.fallThrough,this._stack.paused=!1),!g&&y===!1){for(;w>=0&&(y=this._active[w].end(p),y!==!0);w--)if(y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!1,y;w--}for(;w>=0;w--)if(y=this._active[w].end(!1),y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!0,y}else this._handlerFb(this._id,"END",p);this._active=u,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(p){this._handler=p,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(p,m,y){this._hitLimit||(this._data+=(0,h.utf32ToString)(p,m,y),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(p){let m=!1;if(this._hitLimit)m=!1;else if(p&&(m=this._handler(this._data),m instanceof Promise))return m.then(y=>(this._data="",this._hitLimit=!1,y));return this._data="",this._hitLimit=!1,m}}},8742:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const a=2147483647;class c{static fromArray(u){const p=new c;if(!u.length)return p;for(let m=Array.isArray(u[0])?1:0;m<u.length;++m){const y=u[m];if(Array.isArray(y))for(let w=0;w<y.length;++w)p.addSubParam(y[w]);else p.addParam(y)}return p}constructor(u=32,p=32){if(this.maxLength=u,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new c(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let p=0;p<this.length;++p){u.push(this.params[p]);const m=this._subParamsIdx[p]>>8,y=255&this._subParamsIdx[p];y-m>0&&u.push(Array.prototype.slice.call(this._subParams,m,y))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>a?a:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>a?a:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const p=this._subParamsIdx[u]>>8,m=255&this._subParamsIdx[u];return m-p>0?this._subParams.subarray(p,m):null}getSubParamsAll(){const u={};for(let p=0;p<this.length;++p){const m=this._subParamsIdx[p]>>8,y=255&this._subParamsIdx[p];y-m>0&&(u[p]=this._subParams.slice(m,y))}return u}addDigit(u){let p;if(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const m=this._digitIsSub?this._subParams:this.params,y=m[p-1];m[p-1]=~y?Math.min(10*y+u,a):u}}o.Params=c},5741:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,c){const h={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(h),c.dispose=()=>this._wrappedAddonDispose(h),c.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let c=-1;for(let h=0;h<this._addons.length;h++)if(this._addons[h]===a){c=h;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(c,1)}}},8771:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const c=a(3785),h=a(511);o.BufferApiView=class{constructor(u,p){this._buffer=u,this.type=p}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const p=this._buffer.lines.get(u);if(p)return new c.BufferLineApiView(p)}getNullCell(){return new h.CellData}}},3785:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const c=a(511);o.BufferLineApiView=class{constructor(h){this._line=h}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(h,u){if(!(h<0||h>=this._line.length))return u?(this._line.loadCell(h,u),u):this._line.loadCell(h,new c.CellData)}translateToString(h,u,p){return this._line.translateToString(h,u,p)}}},8285:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const c=a(8771),h=a(8460),u=a(844);class p extends u.Disposable{constructor(y){super(),this._core=y,this._onBufferChange=this.register(new h.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=p},7975:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,c){return this._core.registerCsiHandler(a,h=>c(h.toArray()))}addCsiHandler(a,c){return this.registerCsiHandler(a,c)}registerDcsHandler(a,c){return this._core.registerDcsHandler(a,(h,u)=>c(h,u.toArray()))}addDcsHandler(a,c){return this.registerDcsHandler(a,c)}registerEscHandler(a,c){return this._core.registerEscHandler(a,c)}addEscHandler(a,c){return this.registerEscHandler(a,c)}registerOscHandler(a,c){return this._core.registerOscHandler(a,c)}addOscHandler(a,c){return this.registerOscHandler(a,c)}}},7090:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(l,o,a){var c=this&&this.__decorate||function(g,f,d,_){var v,S=arguments.length,k=S<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(g,f,d,_);else for(var b=g.length-1;b>=0;b--)(v=g[b])&&(k=(S<3?v(k):S>3?v(f,d,k):v(f,d))||k);return S>3&&k&&Object.defineProperty(f,d,k),k},h=this&&this.__param||function(g,f){return function(d,_){f(d,_,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const u=a(8460),p=a(844),m=a(5295),y=a(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let w=o.BufferService=class extends p.Disposable{get buffer(){return this.buffers.active}constructor(g){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(g.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(g.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new m.BufferSet(g,this))}resize(g,f){this.cols=g,this.rows=f,this.buffers.resize(g,f),this._onResize.fire({cols:g,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(g,f=!1){const d=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===g.fg&&_.getBg(0)===g.bg||(_=d.getBlankLine(g,f),this._cachedBlankLine=_),_.isWrapped=f;const v=d.ybase+d.scrollTop,S=d.ybase+d.scrollBottom;if(d.scrollTop===0){const k=d.lines.isFull;S===d.lines.length-1?k?d.lines.recycle().copyFrom(_):d.lines.push(_.clone()):d.lines.splice(S+1,0,_.clone()),k?this.isUserScrolling&&(d.ydisp=Math.max(d.ydisp-1,0)):(d.ybase++,this.isUserScrolling||d.ydisp++)}else{const k=S-v+1;d.lines.shiftElements(v+1,k-1,-1),d.lines.set(S,_.clone())}this.isUserScrolling||(d.ydisp=d.ybase),this._onScroll.fire(d.ydisp)}scrollLines(g,f,d){const _=this.buffer;if(g<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else g+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const v=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+g,_.ybase),0),v!==_.ydisp&&(f||this._onScroll.fire(_.ydisp))}};o.BufferService=w=c([h(0,y.IOptionsService)],w)},7994:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,c){this._charsets[a]=c,this.glevel===a&&(this.charset=c)}}},1753:function(l,o,a){var c=this&&this.__decorate||function(_,v,S,k){var b,x=arguments.length,C=x<3?v:k===null?k=Object.getOwnPropertyDescriptor(v,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(_,v,S,k);else for(var A=_.length-1;A>=0;A--)(b=_[A])&&(C=(x<3?b(C):x>3?b(v,S,C):b(v,S))||C);return x>3&&C&&Object.defineProperty(v,S,C),C},h=this&&this.__param||function(_,v){return function(S,k){v(S,k,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const u=a(2585),p=a(8460),m=a(844),y={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function w(_,v){let S=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(S|=64,S|=_.action):(S|=3&_.button,4&_.button&&(S|=64),8&_.button&&(S|=128),_.action===32?S|=32:_.action!==0||v||(S|=3)),S}const g=String.fromCharCode,f={DEFAULT:_=>{const v=[w(_,!1)+32,_.col+32,_.row+32];return v[0]>255||v[1]>255||v[2]>255?"":`\x1B[M${g(v[0])}${g(v[1])}${g(v[2])}`},SGR:_=>{const v=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${w(_,!0)};${_.col};${_.row}${v}`},SGR_PIXELS:_=>{const v=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${w(_,!0)};${_.x};${_.y}${v}`}};let d=o.CoreMouseService=class extends m.Disposable{constructor(_,v){super(),this._bufferService=_,this._coreService=v,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new p.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(y))this.addProtocol(S,y[S]);for(const S of Object.keys(f))this.addEncoding(S,f[S]);this.reset()}addProtocol(_,v){this._protocols[_]=v}addEncoding(_,v){this._encodings[_]=v}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const v=this._encodings[this._activeEncoding](_);return v&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(v):this._coreService.triggerDataEvent(v,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,v,S){if(S){if(_.x!==v.x||_.y!==v.y)return!1}else if(_.col!==v.col||_.row!==v.row)return!1;return _.button===v.button&&_.action===v.action&&_.ctrl===v.ctrl&&_.alt===v.alt&&_.shift===v.shift}};o.CoreMouseService=d=c([h(0,u.IBufferService),h(1,u.ICoreService)],d)},6975:function(l,o,a){var c=this&&this.__decorate||function(d,_,v,S){var k,b=arguments.length,x=b<3?_:S===null?S=Object.getOwnPropertyDescriptor(_,v):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,_,v,S);else for(var C=d.length-1;C>=0;C--)(k=d[C])&&(x=(b<3?k(x):b>3?k(_,v,x):k(_,v))||x);return b>3&&x&&Object.defineProperty(_,v,x),x},h=this&&this.__param||function(d,_){return function(v,S){_(v,S,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const u=a(1439),p=a(8460),m=a(844),y=a(2585),w=Object.freeze({insertMode:!1}),g=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=o.CoreService=class extends m.Disposable{constructor(d,_,v){super(),this._bufferService=d,this._logService=_,this._optionsService=v,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new p.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new p.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(w),this.decPrivateModes=(0,u.clone)(g)}reset(){this.modes=(0,u.clone)(w),this.decPrivateModes=(0,u.clone)(g)}triggerDataEvent(d,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const v=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&v.ybase!==v.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${d}"`,()=>d.split("").map(S=>S.charCodeAt(0))),this._onData.fire(d)}triggerBinaryEvent(d){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${d}"`,()=>d.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(d))}};o.CoreService=f=c([h(0,y.IBufferService),h(1,y.ILogService),h(2,y.IOptionsService)],f)},9074:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const c=a(8055),h=a(8460),u=a(844),p=a(6106);let m=0,y=0;class w extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new p.SortedList(d=>d==null?void 0:d.marker.line),this._onDecorationRegistered=this.register(new h.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new h.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(d){if(d.marker.isDisposed)return;const _=new g(d);if(_){const v=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),v.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const d of this._decorations.values())d.dispose();this._decorations.clear()}*getDecorationsAtCell(d,_,v){var S,k,b;let x=0,C=0;for(const A of this._decorations.getKeyIterator(_))x=(S=A.options.x)!==null&&S!==void 0?S:0,C=x+((k=A.options.width)!==null&&k!==void 0?k:1),d>=x&&d<C&&(!v||((b=A.options.layer)!==null&&b!==void 0?b:"bottom")===v)&&(yield A)}forEachDecorationAtCell(d,_,v,S){this._decorations.forEachByKey(_,k=>{var b,x,C;m=(b=k.options.x)!==null&&b!==void 0?b:0,y=m+((x=k.options.width)!==null&&x!==void 0?x:1),d>=m&&d<y&&(!v||((C=k.options.layer)!==null&&C!==void 0?C:"bottom")===v)&&S(k)})}}o.DecorationService=w;class g extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(d){super(),this.options=d,this.onRenderEmitter=this.register(new h.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=d.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const c=a(2585),h=a(8343);class u{constructor(...m){this._entries=new Map;for(const[y,w]of m)this.set(y,w)}set(m,y){const w=this._entries.get(m);return this._entries.set(m,y),w}forEach(m){for(const[y,w]of this._entries.entries())m(y,w)}has(m){return this._entries.has(m)}get(m){return this._entries.get(m)}}o.ServiceCollection=u,o.InstantiationService=class{constructor(){this._services=new u,this._services.set(c.IInstantiationService,this)}setService(p,m){this._services.set(p,m)}getService(p){return this._services.get(p)}createInstance(p,...m){const y=(0,h.getServiceDependencies)(p).sort((f,d)=>f.index-d.index),w=[];for(const f of y){const d=this._services.get(f.id);if(!d)throw new Error(`[createInstance] ${p.name} depends on UNKNOWN service ${f.id}.`);w.push(d)}const g=y.length>0?y[0].index:m.length;if(m.length!==g)throw new Error(`[createInstance] First service dependency of ${p.name} at position ${g+1} conflicts with ${m.length} static arguments`);return new p(...m,...w)}}},7866:function(l,o,a){var c=this&&this.__decorate||function(g,f,d,_){var v,S=arguments.length,k=S<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(g,f,d,_);else for(var b=g.length-1;b>=0;b--)(v=g[b])&&(k=(S<3?v(k):S>3?v(f,d,k):v(f,d))||k);return S>3&&k&&Object.defineProperty(f,d,k),k},h=this&&this.__param||function(g,f){return function(d,_){f(d,_,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const u=a(844),p=a(2585),m={trace:p.LogLevelEnum.TRACE,debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let y,w=o.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(g){super(),this._optionsService=g,this._logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),y=this}_updateLogLevel(){this._logLevel=m[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(g){for(let f=0;f<g.length;f++)typeof g[f]=="function"&&(g[f]=g[f]())}_log(g,f,d){this._evalLazyOptionalParams(d),g.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...d)}trace(g,...f){var d,_;this._logLevel<=p.LogLevelEnum.TRACE&&this._log((_=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,g,f)}debug(g,...f){var d,_;this._logLevel<=p.LogLevelEnum.DEBUG&&this._log((_=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,g,f)}info(g,...f){var d,_;this._logLevel<=p.LogLevelEnum.INFO&&this._log((_=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,g,f)}warn(g,...f){var d,_;this._logLevel<=p.LogLevelEnum.WARN&&this._log((_=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,g,f)}error(g,...f){var d,_;this._logLevel<=p.LogLevelEnum.ERROR&&this._log((_=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,g,f)}};o.LogService=w=c([h(0,p.IOptionsService)],w),o.setTraceLogger=function(g){y=g},o.traceCall=function(g,f,d){if(typeof d.value!="function")throw new Error("not supported");const _=d.value;d.value=function(...v){if(y.logLevel!==p.LogLevelEnum.TRACE)return _.apply(this,v);y.trace(`GlyphRenderer#${_.name}(${v.map(k=>JSON.stringify(k)).join(", ")})`);const S=_.apply(this,v);return y.trace(`GlyphRenderer#${_.name} return`,S),S}}},7302:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const c=a(8460),h=a(844),u=a(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const p=["normal","bold","100","200","300","400","500","600","700","800","900"];class m extends h.Disposable{constructor(w){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const g=Object.assign({},o.DEFAULT_OPTIONS);for(const f in w)if(f in g)try{const d=w[f];g[f]=this._sanitizeAndValidateOption(f,d)}catch(d){console.error(d)}this.rawOptions=g,this.options=Object.assign({},g),this._setupOptions()}onSpecificOptionChange(w,g){return this.onOptionChange(f=>{f===w&&g(this.rawOptions[w])})}onMultipleOptionChange(w,g){return this.onOptionChange(f=>{w.indexOf(f)!==-1&&g()})}_setupOptions(){const w=f=>{if(!(f in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},g=(f,d)=>{if(!(f in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);d=this._sanitizeAndValidateOption(f,d),this.rawOptions[f]!==d&&(this.rawOptions[f]=d,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const d={get:w.bind(this,f),set:g.bind(this,f)};Object.defineProperty(this.options,f,d)}}_sanitizeAndValidateOption(w,g){switch(w){case"cursorStyle":if(g||(g=o.DEFAULT_OPTIONS[w]),!function(f){return f==="block"||f==="underline"||f==="bar"}(g))throw new Error(`"${g}" is not a valid value for ${w}`);break;case"wordSeparator":g||(g=o.DEFAULT_OPTIONS[w]);break;case"fontWeight":case"fontWeightBold":if(typeof g=="number"&&1<=g&&g<=1e3)break;g=p.includes(g)?g:o.DEFAULT_OPTIONS[w];break;case"cursorWidth":g=Math.floor(g);case"lineHeight":case"tabStopWidth":if(g<1)throw new Error(`${w} cannot be less than 1, value: ${g}`);break;case"minimumContrastRatio":g=Math.max(1,Math.min(21,Math.round(10*g)/10));break;case"scrollback":if((g=Math.min(g,4294967295))<0)throw new Error(`${w} cannot be less than 0, value: ${g}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(g<=0)throw new Error(`${w} cannot be less than or equal to 0, value: ${g}`);break;case"rows":case"cols":if(!g&&g!==0)throw new Error(`${w} must be numeric, value: ${g}`);break;case"windowsPty":g=g??{}}return g}}o.OptionsService=m},2660:function(l,o,a){var c=this&&this.__decorate||function(m,y,w,g){var f,d=arguments.length,_=d<3?y:g===null?g=Object.getOwnPropertyDescriptor(y,w):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(m,y,w,g);else for(var v=m.length-1;v>=0;v--)(f=m[v])&&(_=(d<3?f(_):d>3?f(y,w,_):f(y,w))||_);return d>3&&_&&Object.defineProperty(y,w,_),_},h=this&&this.__param||function(m,y){return function(w,g){y(w,g,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const u=a(2585);let p=o.OscLinkService=class{constructor(m){this._bufferService=m,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(m){const y=this._bufferService.buffer;if(m.id===void 0){const v=y.addMarker(y.ybase+y.y),S={data:m,id:this._nextId++,lines:[v]};return v.onDispose(()=>this._removeMarkerFromLink(S,v)),this._dataByLinkId.set(S.id,S),S.id}const w=m,g=this._getEntryIdKey(w),f=this._entriesWithId.get(g);if(f)return this.addLineToLink(f.id,y.ybase+y.y),f.id;const d=y.addMarker(y.ybase+y.y),_={id:this._nextId++,key:this._getEntryIdKey(w),data:w,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(_,d)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(m,y){const w=this._dataByLinkId.get(m);if(w&&w.lines.every(g=>g.line!==y)){const g=this._bufferService.buffer.addMarker(y);w.lines.push(g),g.onDispose(()=>this._removeMarkerFromLink(w,g))}}getLinkData(m){var y;return(y=this._dataByLinkId.get(m))===null||y===void 0?void 0:y.data}_getEntryIdKey(m){return`${m.id};;${m.uri}`}_removeMarkerFromLink(m,y){const w=m.lines.indexOf(y);w!==-1&&(m.lines.splice(w,1),m.lines.length===0&&(m.data.id!==void 0&&this._entriesWithId.delete(m.key),this._dataByLinkId.delete(m.id)))}};o.OscLinkService=p=c([h(0,u.IBufferService)],p)},8343:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const a="di$target",c="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(h){return h[c]||[]},o.createDecorator=function(h){if(o.serviceRegistry.has(h))return o.serviceRegistry.get(h);const u=function(p,m,y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(w,g,f){g[a]===g?g[c].push({id:w,index:f}):(g[c]=[{id:w,index:f}],g[a]=g)})(u,p,y)};return u.toString=()=>h,o.serviceRegistry.set(h,u),u}},2585:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const c=a(8343);var h;o.IBufferService=(0,c.createDecorator)("BufferService"),o.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),o.ICoreService=(0,c.createDecorator)("CoreService"),o.ICharsetService=(0,c.createDecorator)("CharsetService"),o.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(h||(o.LogLevelEnum=h={})),o.ILogService=(0,c.createDecorator)("LogService"),o.IOptionsService=(0,c.createDecorator)("OptionsService"),o.IOscLinkService=(0,c.createDecorator)("OscLinkService"),o.IUnicodeService=(0,c.createDecorator)("UnicodeService"),o.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const c=a(8460),h=a(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const u=new h.UnicodeV6;this.register(u),this._active=u.version,this._activeProvider=u}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(u){if(!this._providers[u])throw new Error(`unknown Unicode version "${u}"`);this._active=u,this._activeProvider=this._providers[u],this._onChange.fire(u)}register(u){this._providers[u.version]=u}wcwidth(u){return this._activeProvider.wcwidth(u)}getStringCellWidth(u){let p=0;const m=u.length;for(let y=0;y<m;++y){let w=u.charCodeAt(y);if(55296<=w&&w<=56319){if(++y>=m)return p+this.wcwidth(w);const g=u.charCodeAt(y);56320<=g&&g<=57343?w=1024*(w-55296)+g-56320+65536:p+=this.wcwidth(g)}p+=this.wcwidth(w)}return p}}}},r={};function i(l){var o=r[l];if(o!==void 0)return o.exports;var a=r[l]={exports:{}};return n[l].call(a.exports,a,a.exports,i),a.exports}var s={};return(()=>{var l=s;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const o=i(9042),a=i(3236),c=i(844),h=i(5741),u=i(8285),p=i(7975),m=i(7090),y=["cols","rows"];class w extends c.Disposable{constructor(f){super(),this._core=this.register(new a.Terminal(f)),this._addonManager=this.register(new h.AddonManager),this._publicOptions=Object.assign({},this._core.options);const d=v=>this._core.options[v],_=(v,S)=>{this._checkReadonlyOptions(v),this._core.options[v]=S};for(const v in this._core.options){const S={get:d.bind(this,v),set:_.bind(this,v)};Object.defineProperty(this._publicOptions,v,S)}}_checkReadonlyOptions(f){if(y.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new p.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new m.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let d="none";switch(this._core.coreMouseService.activeProtocol){case"X10":d="x10";break;case"VT200":d="vt200";break;case"DRAG":d="drag";break;case"ANY":d="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:d,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const d in f)this._publicOptions[d]=f[d]}blur(){this._core.blur()}focus(){this._core.focus()}resize(f,d){this._verifyIntegers(f,d),this._core.resize(f,d)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){var d,_,v;return this._checkProposedApi(),this._verifyPositiveIntegers((d=f.x)!==null&&d!==void 0?d:0,(_=f.width)!==null&&_!==void 0?_:0,(v=f.height)!==null&&v!==void 0?v:0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,d,_){this._verifyIntegers(f,d,_),this._core.select(f,d,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,d){this._verifyIntegers(f,d),this._core.selectLines(f,d)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,d){this._core.write(f,d)}writeln(f,d){this._core.write(f),this._core.write(`\r
`,d)}paste(f){this._core.paste(f)}refresh(f,d){this._verifyIntegers(f,d),this._core.refresh(f,d)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return o}_verifyIntegers(...f){for(const d of f)if(d===1/0||isNaN(d)||d%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const d of f)if(d&&(d===1/0||isNaN(d)||d%1!=0||d<0))throw new Error("This API only accepts positive integers")}}l.Terminal=w})(),s})())})(uw);var IE=uw.exports,fw={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(o.getPropertyValue("height")),c=Math.max(0,parseInt(o.getPropertyValue("width"))),h=window.getComputedStyle(this._terminal.element),u=a-(parseInt(h.getPropertyValue("padding-top"))+parseInt(h.getPropertyValue("padding-bottom"))),p=c-(parseInt(h.getPropertyValue("padding-right"))+parseInt(h.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(p/s.css.cell.width)),rows:Math.max(1,Math.floor(u/s.css.cell.height))}}}})(),n})())})(fw);var ME=fw.exports;const OE=/((?:\/[\w.-]+)+(?::\d+)?(?::\d+)?|(?:\.\.?\/[\w./-]+)+(?::\d+)?(?::\d+)?|~\/[\w./-]+(?::\d+)?(?::\d+)?)/g,ao=14,Xg=8,Zg=24,Qg=2,Aa="terminal-font-size",Jg={background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",cursorAccent:"#1e1e1e",selectionBackground:"#264f78"},e_={background:"#ffffff",foreground:"#1a1a1a",cursor:"#1a1a1a",cursorAccent:"#ffffff",selectionBackground:"#b4d5fe"};function PE({sessionId:e,sessionLabel:t,status:n,connectionStatus:r,onInput:i,onResize:s,onRefresh:l,onFileClick:o,theme:a}){const c=j.useRef(null),h=j.useRef(null),u=j.useRef(null),[p,m]=j.useState(!1),[y,w]=j.useState(()=>{const v=localStorage.getItem(Aa);return v?parseInt(v,10):ao}),g=j.useCallback(()=>{w(v=>{const S=Math.min(v+Qg,Zg);return localStorage.setItem(Aa,String(S)),S})},[]),f=j.useCallback(()=>{w(v=>{const S=Math.max(v-Qg,Xg);return localStorage.setItem(Aa,String(S)),S})},[]),d=j.useCallback(()=>{w(ao),localStorage.setItem(Aa,String(ao))},[]);j.useEffect(()=>()=>{h.current&&(h.current.dispose(),h.current=null,u.current=null,m(!1))},[e]),j.useEffect(()=>{if(!e||!c.current||h.current)return;const v=setTimeout(()=>{if(!c.current)return;const S=new IE.Terminal({cursorBlink:!0,fontSize:y,fontFamily:'Menlo, Monaco, "Courier New", monospace',rows:24,cols:80,scrollback:1e3,theme:a==="light"?e_:Jg}),k=new ME.FitAddon;S.loadAddon(k),S.open(c.current),h.current=S,u.current=k,setTimeout(()=>{if(u.current&&c.current)try{u.current.fit()}catch{}m(!0)},50),S.onData(b=>{i(b)}),o&&S.registerLinkProvider({provideLinks:(b,x)=>{const C=S.buffer.active.getLine(b);if(!C){x(void 0);return}const A=C.translateToString(),N=[];let I;const F=new RegExp(OE.source,"g");for(;(I=F.exec(A))!==null;){const D=I.index+1,B=I.index+I[0].length+1;N.push({range:{start:{x:D,y:b+1},end:{x:B,y:b+1}},text:I[0],activate:(z,H)=>{(z.ctrlKey||z.metaKey)&&(console.log("[Terminal] Ctrl+Click on file path:",H),o(H))}})}x(N.length>0?N:void 0)}})},100);return()=>clearTimeout(v)},[e,i]),j.useEffect(()=>{if(!p)return;const v=()=>{if(u.current&&h.current)try{u.current.fit();const S=h.current.cols,k=h.current.rows;s&&S>0&&k>0&&s(S,k)}catch{}};return window.addEventListener("resize",v),v(),()=>window.removeEventListener("resize",v)},[p,s]),j.useEffect(()=>{h.current&&p&&(h.current.options.theme=a==="light"?e_:Jg)},[a,p]),j.useEffect(()=>{if(h.current&&u.current&&p){h.current.options.fontSize=y;try{u.current.fit();const v=h.current.cols,S=h.current.rows;s&&v>0&&S>0&&s(v,S)}catch{}}},[y,p,s]);const _=j.useCallback(v=>{if(h.current&&p)try{h.current.write(v)}catch(S){console.error("Failed to write to terminal:",S)}},[p]);return j.useEffect(()=>(window.__writeToTerminal=_,()=>{delete window.__writeToTerminal}),[_]),T.jsxs("div",{className:"terminal-container",children:[T.jsxs("div",{className:"terminal-header",children:[T.jsxs("div",{className:"header-left",children:[T.jsx("span",{className:`connection-status ${r}`}),T.jsx("span",{className:"session-title",children:t||e||"Select a session"})]}),T.jsx("div",{className:"header-right",children:e&&T.jsxs(T.Fragment,{children:[l&&T.jsx("button",{className:"refresh-btn",onClick:l,title:"Reconnect session",children:""}),T.jsxs("div",{className:"zoom-controls",children:[T.jsx("button",{className:"zoom-btn",onClick:f,disabled:y<=Xg,title:"Zoom out (smaller text, more lines)",children:""}),T.jsxs("button",{className:"zoom-btn zoom-reset",onClick:d,title:`Reset zoom (${ao}px)`,children:[Math.round(y/ao*100),"%"]}),T.jsx("button",{className:"zoom-btn",onClick:g,disabled:y>=Zg,title:"Zoom in (larger text, fewer lines)",children:"+"})]}),T.jsx("span",{className:`session-status ${n}`,children:n==="online"?"Connected":"Disconnected"})]})})]}),T.jsx("div",{className:"terminal-content",children:e?T.jsx("div",{ref:c,className:"xterm-wrapper"}):T.jsx("div",{className:"terminal-placeholder",children:T.jsx("p",{children:"Select a session from the sidebar to connect"})})})]})}function BE(){return window.__writeToTerminal||null}const FE=()=>window.innerWidth<=430,zE=[{label:"ls -la",cmd:`ls -la
`},{label:"git status",cmd:`git status
`},{label:"pwd",cmd:`pwd
`},{label:"clear",cmd:`clear
`}],jE=[{label:"Ctrl+C",cmd:""},{label:"Ctrl+D",cmd:""},{label:"Ctrl+Z",cmd:""}],HE=[{label:"ESC",cmd:"\x1B",icon:""},{label:"",cmd:"\x1B[A",icon:""},{label:"",cmd:"\x1B[B",icon:""},{label:"",cmd:"\x1B[D",icon:""},{label:"",cmd:"\x1B[C",icon:""},{label:"Tab",cmd:"	",icon:""}];function $E({onSend:e,disabled:t}){const[n,r]=j.useState(""),[i,s]=j.useState([]),[l,o]=j.useState(-1),[a,c]=j.useState(()=>{const y=localStorage.getItem("showQuickButtons");return y!==null?y==="true":!FE()}),h=j.useRef(null);j.useEffect(()=>{localStorage.setItem("showQuickButtons",String(a))},[a]);const u=()=>{!n.trim()||t||(e(n+`
`),s(y=>[n,...y.slice(0,99)]),r(""),o(-1))},p=y=>{if(y.key==="Enter")y.preventDefault(),u();else if(y.key==="ArrowUp"){if(y.preventDefault(),l<i.length-1){const w=l+1;o(w),r(i[w])}}else if(y.key==="ArrowDown")if(y.preventDefault(),l>0){const w=l-1;o(w),r(i[w])}else l===0&&(o(-1),r(""))},m=y=>{var w;t||(e(y),(w=h.current)==null||w.focus())};return T.jsxs("div",{className:`command-bar ${a?"":"compact"}`,children:[a&&T.jsxs("div",{className:"quick-commands",children:[T.jsx("div",{className:"key-group special-keys",children:HE.map(y=>T.jsx("button",{className:"quick-cmd-btn special-key-btn",onClick:()=>m(y.cmd),disabled:t,title:y.label,children:y.icon},y.label))}),T.jsx("div",{className:"key-divider"}),T.jsx("div",{className:"key-group control-keys",children:jE.map(y=>T.jsx("button",{className:"quick-cmd-btn control-key-btn",onClick:()=>m(y.cmd),disabled:t,children:y.label},y.label))}),T.jsx("div",{className:"key-divider"}),T.jsx("div",{className:"key-group command-shortcuts",children:zE.map(y=>T.jsx("button",{className:"quick-cmd-btn",onClick:()=>m(y.cmd),disabled:t,children:y.label},y.label))})]}),T.jsxs("div",{className:"command-input-container",children:[T.jsx("button",{className:"toggle-quick-btn",onClick:()=>c(!a),title:a?"Hide shortcuts":"Show shortcuts",children:a?"":""}),T.jsx("input",{ref:h,type:"text",className:"command-input",placeholder:"$",value:n,onChange:y=>r(y.target.value),onKeyDown:p,disabled:t}),T.jsx("button",{className:"send-btn",onClick:u,disabled:t||!n.trim(),children:""})]})]})}const UE=["localhost","15.164.214.74"],dw=UE.includes(window.location.hostname),WE=dw?`${window.location.protocol}//${window.location.hostname}:8080`:"https://api.sessioncast.io";function VE({onLoginSuccess:e}){const{t,lang:n,setLang:r}=Vs(),[i,s]=j.useState(null),[l,o]=j.useState(!1);j.useEffect(()=>{const u=new URLSearchParams(window.location.search),p=u.get("token"),m=u.get("error");p&&(localStorage.setItem("auth_token",p),e(p),window.history.replaceState({},document.title,"/")),m&&s(t(m==="domain_not_allowed"?"domainNotAllowed":"loginFailed"))},[e,t]);const a=()=>{o(!0),window.location.href=`${WE}/oauth2/authorization/google`},c=()=>{const u="dev@localhost";localStorage.setItem("auth_token",u),e(u)},h=()=>{r(n==="ko"?"en":"ko")};return T.jsx("div",{className:"login-container",children:T.jsxs("div",{className:"login-card",children:[T.jsx("button",{className:"lang-toggle",onClick:h,children:n==="ko"?"EN":"KO"}),T.jsxs("div",{className:"login-header",children:[T.jsx("h1",{children:t("loginTitle")}),T.jsx("p",{children:t("loginSubtitle")})]}),i&&T.jsx("div",{className:"login-error",children:i}),T.jsxs("button",{className:"google-login-btn",onClick:a,disabled:l,children:[T.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?`${t("loading")}`:t("loginWithGoogle")]}),dw&&T.jsx("button",{className:"dev-login-btn",onClick:c,style:{marginTop:"12px",padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",width:"100%"},children:n==="ko"?"  ":"Dev Mode Login"}),T.jsx("div",{className:"login-footer",children:T.jsx("p",{children:n==="ko"?"    ":"Only authorized domains can access this system"})})]})})}const KE=["localhost","15.164.214.74"],YE=KE.includes(window.location.hostname),_h=YE?`${window.location.protocol}//${window.location.hostname}:8080`:"https://api.sessioncast.io";function qE({authToken:e,onClose:t}){const{t:n}=Vs(),[r,i]=j.useState([]),[s,l]=j.useState(null),[o,a]=j.useState(!1),[c,h]=j.useState(null),u=j.useCallback(async()=>{try{const w=await fetch(`${_h}/api/tokens`,{headers:{Authorization:`Bearer ${e}`}});if(w.ok){const g=await w.json();i(g.tokens||[])}}catch(w){console.error("Failed to fetch tokens",w)}},[e]);j.useEffect(()=>{u()},[u]);const p=async()=>{a(!0),h(null);try{const w=await fetch(`${_h}/api/tokens/generate`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(w.ok){const g=await w.json();l(g.token),u()}else h(n("error"))}catch{h(n("error"))}finally{a(!1)}},m=async w=>{try{(await fetch(`${_h}/api/tokens/${encodeURIComponent(w)}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok&&(u(),s===w&&l(null))}catch(g){console.error("Failed to revoke token",g)}},y=w=>{navigator.clipboard.writeText(w)};return T.jsx("div",{className:"token-manager-overlay",onClick:t,children:T.jsxs("div",{className:"token-manager",onClick:w=>w.stopPropagation(),children:[T.jsxs("div",{className:"token-manager-header",children:[T.jsx("h2",{children:n("agentTokens")}),T.jsx("button",{className:"close-btn",onClick:t,children:"x"})]}),T.jsxs("div",{className:"token-manager-content",children:[T.jsx("p",{className:"token-description",children:n("tokenDescription")}),c&&T.jsx("div",{className:"token-error",children:c}),s&&T.jsxs("div",{className:"new-token-box",children:[T.jsx("div",{className:"new-token-label",children:n("newTokenWarning")}),T.jsxs("div",{className:"new-token-value",children:[T.jsx("code",{children:s}),T.jsx("button",{onClick:()=>y(s),children:n("copy")})]})]}),T.jsx("button",{className:"generate-token-btn",onClick:p,disabled:o,children:n(o?"generating":"generateNewToken")}),T.jsxs("div",{className:"token-list",children:[T.jsxs("h3",{children:[n("yourTokens")," (",r.length,")"]}),r.length===0?T.jsx("p",{className:"no-tokens",children:n("noTokensYet")}):T.jsx("ul",{children:r.map((w,g)=>T.jsxs("li",{children:[T.jsxs("code",{children:[w.substring(0,20),"..."]}),T.jsxs("div",{className:"token-actions",children:[T.jsx("button",{onClick:()=>y(w),children:n("copy")}),T.jsx("button",{className:"revoke-btn",onClick:()=>m(w),children:n("revoke")})]})]},g))})]}),T.jsxs("div",{className:"config-example",children:[T.jsx("h3",{children:n("configExample")}),T.jsx("pre",{children:`# ~/.tmux-remote.yml
machineId: my-machine
relay: ws://localhost:8080/ws
token: ${s||"agt_xxxx..."}`})]})]})]})})}const GE=["localhost","15.164.214.74"],Kp=GE.includes(window.location.hostname),t_=Kp?`${window.location.protocol}//${window.location.hostname}:8080`:"https://api.sessioncast.io",XE=Kp?`ws://${window.location.hostname}:8080/ws`:"wss://relay.sessioncast.io/ws";function ZE({authToken:e}){const{t}=Vs(),[n,r]=j.useState(null),[i,s]=j.useState(!0),[l,o]=j.useState(!1);j.useEffect(()=>{a()},[e]);const a=async()=>{if(Kp){r("dev-agent-token-local"),s(!1);return}try{const u=await fetch(`${t_}/api/tokens`,{headers:{Authorization:`Bearer ${e}`}});if(u.ok){const m=await u.json();if(m.tokens&&m.tokens.length>0){r(m.tokens[0]),s(!1);return}}const p=await fetch(`${t_}/api/tokens/generate`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(p.ok){const m=await p.json();r(m.token)}}catch(u){console.error("Failed to fetch/create token",u)}finally{s(!1)}},c=u=>{navigator.clipboard.writeText(u),o(!0),setTimeout(()=>o(!1),2e3)},h=`# ~/.tmux-remote.yml
machineId: my-machine
relay: ${XE}
token: ${n||"loading..."}`;return i?T.jsx("div",{className:"onboarding-guide",children:T.jsx("div",{className:"loading-spinner",children:t("loading")})}):T.jsxs("div",{className:"onboarding-guide",children:[T.jsxs("div",{className:"onboarding-header",children:[T.jsx("h1",{children:t("welcome")}),T.jsx("p",{children:t("noMachines")})]}),T.jsxs("div",{className:"setup-steps",children:[T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"1"}),T.jsxs("div",{className:"step-content",children:[T.jsx("h3",{children:t("step1Title")}),T.jsx("p",{children:t("step1Desc")}),T.jsxs("div",{className:"code-block",children:[T.jsx("code",{children:"git clone https://github.com/devload/tmux-remote-system.git"}),T.jsx("code",{children:"cd tmux-remote-system/agent-spring"}),T.jsx("code",{children:"./mvnw clean package -DskipTests"})]})]})]}),T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"2"}),T.jsxs("div",{className:"step-content",children:[T.jsx("h3",{children:t("step2Title")}),T.jsxs("p",{children:[t("step2Desc")," ",T.jsx("code",{children:"~/.tmux-remote.yml"})]}),T.jsxs("div",{className:"config-block",children:[T.jsx("pre",{children:h}),T.jsx("button",{className:"copy-btn",onClick:()=>c(h),children:t(l?"copied":"copy")})]}),T.jsxs("div",{className:"token-info",children:[T.jsx("span",{className:"token-label",children:t("yourAgentToken")}),T.jsx("code",{className:"token-value",children:n}),T.jsx("button",{className:"copy-token-btn",onClick:()=>n&&c(n),children:t("copyToken")})]})]})]}),T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"3"}),T.jsxs("div",{className:"step-content",children:[T.jsx("h3",{children:t("step3Title")}),T.jsx("p",{children:t("step3Desc")}),T.jsx("div",{className:"code-block",children:T.jsx("code",{children:"tmux new-session -d -s work"})})]})]}),T.jsxs("div",{className:"step",children:[T.jsx("div",{className:"step-number",children:"4"}),T.jsxs("div",{className:"step-content",children:[T.jsx("h3",{children:t("step4Title")}),T.jsx("p",{children:t("step4Desc")}),T.jsx("div",{className:"code-block",children:T.jsx("code",{children:"java -jar target/host-agent-1.0.0.jar"})}),T.jsx("p",{className:"hint",children:t("step4Hint")})]})]})]}),T.jsxs("div",{className:"onboarding-footer",children:[T.jsx("p",{children:t("footerConnected")}),T.jsx("p",{className:"security-note",children:t("footerSecurity")})]})]})}function QE({onCreateDemoProject:e}){const{lang:t}=Vs(),[n,r]=j.useState(null),i=(o,a)=>{navigator.clipboard.writeText(o),r(a),setTimeout(()=>r(null),2e3)},s=["npm install -g sessioncast-cli","cd my-project","sessioncast project init","sessioncast project run"],l=[{num:"",title:t==="ko"?" ":"Add Source",desc:t==="ko"?"work     (git clone, cp )":"Add code to work folder (git clone, cp, etc.)"},{num:"",title:t==="ko"?" ":"Enter Mission",desc:t==="ko"?"AI   ":"Describe the task for AI"},{num:"",title:t==="ko"?"AI ":"AI Analysis",desc:t==="ko"?"     ":"Analyze source and auto-generate steps"},{num:"",title:t==="ko"?" & ":"Review & Edit",desc:t==="ko"?"     ":"Review and modify the plan"},{num:"",title:t==="ko"?" ":"Start Workflow",desc:t==="ko"?"AI   ":"AI agents execute the tasks"},{num:"",title:t==="ko"?" ":"Real-time Monitor",desc:t==="ko"?"   ":"Watch progress in real-time"}];return T.jsxs("div",{className:"project-onboarding",children:[T.jsxs("div",{className:"onboarding-header",children:[T.jsx("div",{className:"header-icon",children:""}),T.jsx("h1",{children:t==="ko"?"AI ":"AI Workflow"}),T.jsx("p",{className:"header-desc",children:t==="ko"?"  AI    ":"Just enter a mission and AI will analyze and execute tasks automatically"})]}),T.jsxs("div",{className:"onboarding-section demo-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx("span",{className:"section-icon",children:""}),T.jsx("h2",{children:t==="ko"?"":"Try it out"})]}),T.jsxs("div",{className:"demo-card",onClick:e,children:[T.jsx("div",{className:"demo-icon",children:""}),T.jsxs("div",{className:"demo-content",children:[T.jsx("h3",{children:t==="ko"?"  ":"Create Demo Project"}),T.jsx("p",{children:t==="ko"?"   ":"Try workflow with a sample project"})]}),T.jsx("div",{className:"demo-arrow",children:""})]})]}),T.jsxs("div",{className:"onboarding-section install-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx("span",{className:"section-icon",children:""}),T.jsx("h2",{children:t==="ko"?" ":"Installation"})]}),T.jsx("div",{className:"install-commands",children:s.map((o,a)=>T.jsxs("div",{className:"command-row",children:[T.jsxs("span",{className:"command-num",children:[a+1,"."]}),T.jsx("code",{className:"command-text",children:o}),T.jsx("button",{className:"copy-btn",onClick:()=>i(o,a),children:n===a?"":""})]},a))})]}),T.jsxs("div",{className:"onboarding-section usage-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx("span",{className:"section-icon",children:""}),T.jsx("h2",{children:t==="ko"?" ":"How to Use"})]}),T.jsx("div",{className:"usage-flow",children:l.map((o,a)=>T.jsxs("div",{className:"usage-step",children:[T.jsx("div",{className:"step-num",children:o.num}),T.jsxs("div",{className:"step-content",children:[T.jsx("h4",{children:o.title}),T.jsx("p",{children:o.desc})]}),a<l.length-1&&T.jsx("div",{className:"step-arrow",children:""})]},a))})]})]})}function bt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=bt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var pw={exports:{}},mw={},gw={exports:{}},_w={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=j;function JE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e2=typeof Object.is=="function"?Object.is:JE,t2=Is.useState,n2=Is.useEffect,r2=Is.useLayoutEffect,i2=Is.useDebugValue;function s2(e,t){var n=t(),r=t2({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return r2(function(){i.value=n,i.getSnapshot=t,vh(i)&&s({inst:i})},[e,n,t]),n2(function(){return vh(i)&&s({inst:i}),e(function(){vh(i)&&s({inst:i})})},[e]),i2(n),n}function vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!e2(e,n)}catch{return!0}}function o2(e,t){return t()}var l2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o2:s2;_w.useSyncExternalStore=Is.useSyncExternalStore!==void 0?Is.useSyncExternalStore:l2;gw.exports=_w;var a2=gw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=j,c2=a2;function u2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var h2=typeof Object.is=="function"?Object.is:u2,f2=c2.useSyncExternalStore,d2=Su.useRef,p2=Su.useEffect,m2=Su.useMemo,g2=Su.useDebugValue;mw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=d2(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=m2(function(){function a(m){if(!c){if(c=!0,h=m,m=r(m),i!==void 0&&l.hasValue){var y=l.value;if(i(y,m))return u=y}return u=m}if(y=u,h2(h,m))return y;var w=r(m);return i!==void 0&&i(y,w)?(h=m,y):(h=m,u=w)}var c=!1,h,u,p=n===void 0?null:n;return[function(){return a(t())},p===null?void 0:function(){return a(p())}]},[t,n,r,i]);var o=f2(e,s[0],s[1]);return p2(function(){l.hasValue=!0,l.value=o},[o]),g2(o),o};pw.exports=mw;var _2=pw.exports;const v2=Ml(_2),y2={},n_=e=>{let t;const n=new Set,r=(h,u)=>{const p=typeof h=="function"?h(t):h;if(!Object.is(p,t)){const m=t;t=u??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,m))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(y2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,a);return a},w2=e=>e?n_(e):n_,{useDebugValue:S2}=Q,{useSyncExternalStoreWithSelector:x2}=v2,k2=e=>e;function vw(e,t=k2,n){const r=x2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return S2(r),r}const r_=(e,t)=>{const n=w2(e),r=(i,s=t)=>vw(n,i,s);return Object.assign(r,n),r},b2=(e,t)=>e?r_(e,t):r_;function yt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var C2={value:()=>{}};function xu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oc(n)}function oc(e){this._=e}function E2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oc.prototype=xu.prototype={constructor:oc,on:function(e,t){var n=this._,r=E2(e+"",n),i,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((i=(e=r[s]).type)&&(i=A2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(i=(e=r[s]).type)n[i]=i_(n[i],e.name,t);else if(t==null)for(i in n)n[i]=i_(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new oc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function A2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function i_(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=C2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ld="http://www.w3.org/1999/xhtml";const s_={svg:"http://www.w3.org/2000/svg",xhtml:ld,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ku(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),s_.hasOwnProperty(t)?{space:s_[t],local:e}:e}function T2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ld&&t.documentElement.namespaceURI===ld?t.createElement(e):t.createElementNS(n,e)}}function D2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yw(e){var t=ku(e);return(t.local?D2:T2)(t)}function L2(){}function Yp(e){return e==null?L2:function(){return this.querySelector(e)}}function R2(e){typeof e!="function"&&(e=Yp(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,o=r[i]=new Array(l),a,c,h=0;h<l;++h)(a=s[h])&&(c=e.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),o[h]=c);return new un(r,this._parents)}function N2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function I2(){return[]}function ww(e){return e==null?I2:function(){return this.querySelectorAll(e)}}function M2(e){return function(){return N2(e.apply(this,arguments))}}function O2(e){typeof e=="function"?e=M2(e):e=ww(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var l=t[s],o=l.length,a,c=0;c<o;++c)(a=l[c])&&(r.push(e.call(a,a.__data__,c,l)),i.push(a));return new un(r,i)}function Sw(e){return function(){return this.matches(e)}}function xw(e){return function(t){return t.matches(e)}}var P2=Array.prototype.find;function B2(e){return function(){return P2.call(this.children,e)}}function F2(){return this.firstElementChild}function z2(e){return this.select(e==null?F2:B2(typeof e=="function"?e:xw(e)))}var j2=Array.prototype.filter;function H2(){return Array.from(this.children)}function $2(e){return function(){return j2.call(this.children,e)}}function U2(e){return this.selectAll(e==null?H2:$2(typeof e=="function"?e:xw(e)))}function W2(e){typeof e!="function"&&(e=Sw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,o=r[i]=[],a,c=0;c<l;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&o.push(a);return new un(r,this._parents)}function kw(e){return new Array(e.length)}function V2(){return new un(this._enter||this._groups.map(kw),this._parents)}function zc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zc.prototype={constructor:zc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function K2(e){return function(){return e}}function Y2(e,t,n,r,i,s){for(var l=0,o,a=t.length,c=s.length;l<c;++l)(o=t[l])?(o.__data__=s[l],r[l]=o):n[l]=new zc(e,s[l]);for(;l<a;++l)(o=t[l])&&(i[l]=o)}function q2(e,t,n,r,i,s,l){var o,a,c=new Map,h=t.length,u=s.length,p=new Array(h),m;for(o=0;o<h;++o)(a=t[o])&&(p[o]=m=l.call(a,a.__data__,o,t)+"",c.has(m)?i[o]=a:c.set(m,a));for(o=0;o<u;++o)m=l.call(e,s[o],o,s)+"",(a=c.get(m))?(r[o]=a,a.__data__=s[o],c.delete(m)):n[o]=new zc(e,s[o]);for(o=0;o<h;++o)(a=t[o])&&c.get(p[o])===a&&(i[o]=a)}function G2(e){return e.__data__}function X2(e,t){if(!arguments.length)return Array.from(this,G2);var n=t?q2:Y2,r=this._parents,i=this._groups;typeof e!="function"&&(e=K2(e));for(var s=i.length,l=new Array(s),o=new Array(s),a=new Array(s),c=0;c<s;++c){var h=r[c],u=i[c],p=u.length,m=Z2(e.call(h,h&&h.__data__,c,r)),y=m.length,w=o[c]=new Array(y),g=l[c]=new Array(y),f=a[c]=new Array(p);n(h,u,w,g,f,m,t);for(var d=0,_=0,v,S;d<y;++d)if(v=w[d]){for(d>=_&&(_=d+1);!(S=g[_])&&++_<y;);v._next=S||null}}return l=new un(l,r),l._enter=o,l._exit=a,l}function Z2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q2(){return new un(this._exit||this._groups.map(kw),this._parents)}function J2(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function eA(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,l=Math.min(i,s),o=new Array(i),a=0;a<l;++a)for(var c=n[a],h=r[a],u=c.length,p=o[a]=new Array(u),m,y=0;y<u;++y)(m=c[y]||h[y])&&(p[y]=m);for(;a<i;++a)o[a]=n[a];return new un(o,this._parents)}function tA(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],l;--i>=0;)(l=r[i])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function nA(e){e||(e=rA);function t(u,p){return u&&p?e(u.__data__,p.__data__):!u-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l=n[s],o=l.length,a=i[s]=new Array(o),c,h=0;h<o;++h)(c=l[h])&&(a[h]=c);a.sort(t)}return new un(i,this._parents).order()}function rA(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iA(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sA(){return Array.from(this)}function oA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null}function lA(){let e=0;for(const t of this)++e;return e}function aA(){return!this.node()}function cA(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,l=i.length,o;s<l;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function uA(e){return function(){this.removeAttribute(e)}}function hA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fA(e,t){return function(){this.setAttribute(e,t)}}function dA(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function mA(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function gA(e,t){var n=ku(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hA:uA:typeof t=="function"?n.local?mA:pA:n.local?dA:fA)(n,t))}function bw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _A(e){return function(){this.style.removeProperty(e)}}function vA(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yA(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function wA(e,t,n){return arguments.length>1?this.each((t==null?_A:typeof t=="function"?yA:vA)(e,t,n??"")):Ms(this.node(),e)}function Ms(e,t){return e.style.getPropertyValue(t)||bw(e).getComputedStyle(e,null).getPropertyValue(t)}function SA(e){return function(){delete this[e]}}function xA(e,t){return function(){this[e]=t}}function kA(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function bA(e,t){return arguments.length>1?this.each((t==null?SA:typeof t=="function"?kA:xA)(e,t)):this.node()[e]}function Cw(e){return e.trim().split(/^|\s+/)}function qp(e){return e.classList||new Ew(e)}function Ew(e){this._node=e,this._names=Cw(e.getAttribute("class")||"")}Ew.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Aw(e,t){for(var n=qp(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Tw(e,t){for(var n=qp(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function CA(e){return function(){Aw(this,e)}}function EA(e){return function(){Tw(this,e)}}function AA(e,t){return function(){(t.apply(this,arguments)?Aw:Tw)(this,e)}}function TA(e,t){var n=Cw(e+"");if(arguments.length<2){for(var r=qp(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?AA:t?CA:EA)(n,t))}function DA(){this.textContent=""}function LA(e){return function(){this.textContent=e}}function RA(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function NA(e){return arguments.length?this.each(e==null?DA:(typeof e=="function"?RA:LA)(e)):this.node().textContent}function IA(){this.innerHTML=""}function MA(e){return function(){this.innerHTML=e}}function OA(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function PA(e){return arguments.length?this.each(e==null?IA:(typeof e=="function"?OA:MA)(e)):this.node().innerHTML}function BA(){this.nextSibling&&this.parentNode.appendChild(this)}function FA(){return this.each(BA)}function zA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jA(){return this.each(zA)}function HA(e){var t=typeof e=="function"?e:yw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $A(){return null}function UA(e,t){var n=typeof e=="function"?e:yw(e),r=t==null?$A:typeof t=="function"?t:Yp(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function WA(){var e=this.parentNode;e&&e.removeChild(this)}function VA(){return this.each(WA)}function KA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function YA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qA(e){return this.select(e?YA:KA)}function GA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function XA(e){return function(t){e.call(this,t,this.__data__)}}function ZA(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function QA(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function JA(e,t,n){return function(){var r=this.__on,i,s=XA(t);if(r){for(var l=0,o=r.length;l<o;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function eT(e,t,n){var r=ZA(e+""),i,s=r.length,l;if(arguments.length<2){var o=this.node().__on;if(o){for(var a=0,c=o.length,h;a<c;++a)for(i=0,h=o[a];i<s;++i)if((l=r[i]).type===h.type&&l.name===h.name)return h.value}return}for(o=t?JA:QA,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function Dw(e,t,n){var r=bw(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tT(e,t){return function(){return Dw(this,e,t)}}function nT(e,t){return function(){return Dw(this,e,t.apply(this,arguments))}}function rT(e,t){return this.each((typeof t=="function"?nT:tT)(e,t))}function*iT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,l;i<s;++i)(l=r[i])&&(yield l)}var Lw=[null];function un(e,t){this._groups=e,this._parents=t}function jl(){return new un([[document.documentElement]],Lw)}function sT(){return this}un.prototype=jl.prototype={constructor:un,select:R2,selectAll:O2,selectChild:z2,selectChildren:U2,filter:W2,data:X2,enter:V2,exit:Q2,join:J2,merge:eA,selection:sT,order:tA,sort:nA,call:iA,nodes:sA,node:oA,size:lA,empty:aA,each:cA,attr:gA,style:wA,property:bA,classed:TA,text:NA,html:PA,raise:FA,lower:jA,append:HA,insert:UA,remove:VA,clone:qA,datum:GA,on:eT,dispatch:rT,[Symbol.iterator]:iT};function vn(e){return typeof e=="string"?new un([[document.querySelector(e)]],[document.documentElement]):new un([[e]],Lw)}function oT(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Nn(e,t){if(e=oT(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const lT={passive:!1},hl={capture:!0,passive:!1};function yh(e){e.stopImmediatePropagation()}function Ss(e){e.preventDefault(),e.stopImmediatePropagation()}function Rw(e){var t=e.document.documentElement,n=vn(e).on("dragstart.drag",Ss,hl);"onselectstart"in t?n.on("selectstart.drag",Ss,hl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Nw(e,t){var n=e.document.documentElement,r=vn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ss,hl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ta=e=>()=>e;function ad(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:l,y:o,dx:a,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}ad.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function aT(e){return!e.ctrlKey&&!e.button}function cT(){return this.parentNode}function uT(e,t){return t??{x:e.x,y:e.y}}function hT(){return navigator.maxTouchPoints||"ontouchstart"in this}function fT(){var e=aT,t=cT,n=uT,r=hT,i={},s=xu("start","drag","end"),l=0,o,a,c,h,u=0;function p(v){v.on("mousedown.drag",m).filter(r).on("touchstart.drag",g).on("touchmove.drag",f,lT).on("touchend.drag touchcancel.drag",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(v,S){if(!(h||!e.call(this,v,S))){var k=_(this,t.call(this,v,S),v,S,"mouse");k&&(vn(v.view).on("mousemove.drag",y,hl).on("mouseup.drag",w,hl),Rw(v.view),yh(v),c=!1,o=v.clientX,a=v.clientY,k("start",v))}}function y(v){if(Ss(v),!c){var S=v.clientX-o,k=v.clientY-a;c=S*S+k*k>u}i.mouse("drag",v)}function w(v){vn(v.view).on("mousemove.drag mouseup.drag",null),Nw(v.view,c),Ss(v),i.mouse("end",v)}function g(v,S){if(e.call(this,v,S)){var k=v.changedTouches,b=t.call(this,v,S),x=k.length,C,A;for(C=0;C<x;++C)(A=_(this,b,v,S,k[C].identifier,k[C]))&&(yh(v),A("start",v,k[C]))}}function f(v){var S=v.changedTouches,k=S.length,b,x;for(b=0;b<k;++b)(x=i[S[b].identifier])&&(Ss(v),x("drag",v,S[b]))}function d(v){var S=v.changedTouches,k=S.length,b,x;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),b=0;b<k;++b)(x=i[S[b].identifier])&&(yh(v),x("end",v,S[b]))}function _(v,S,k,b,x,C){var A=s.copy(),N=Nn(C||k,S),I,F,D;if((D=n.call(v,new ad("beforestart",{sourceEvent:k,target:p,identifier:x,active:l,x:N[0],y:N[1],dx:0,dy:0,dispatch:A}),b))!=null)return I=D.x-N[0]||0,F=D.y-N[1]||0,function B(z,H,L){var R=N,E;switch(z){case"start":i[x]=B,E=l++;break;case"end":delete i[x],--l;case"drag":N=Nn(L||H,S),E=l;break}A.call(z,v,new ad(z,{sourceEvent:H,subject:D,target:p,identifier:x,active:E,x:N[0]+I,y:N[1]+F,dx:N[0]-R[0],dy:N[1]-R[1],dispatch:A}),b)}}return p.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Ta(!!v),p):e},p.container=function(v){return arguments.length?(t=typeof v=="function"?v:Ta(v),p):t},p.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Ta(v),p):n},p.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Ta(!!v),p):r},p.on=function(){var v=s.on.apply(s,arguments);return v===s?p:v},p.clickDistance=function(v){return arguments.length?(u=(v=+v)*v,p):Math.sqrt(u)},p}function Gp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Iw(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Hl(){}var fl=.7,jc=1/fl,xs="\\s*([+-]?\\d+)\\s*",dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dT=/^#([0-9a-f]{3,8})$/,pT=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),mT=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),gT=new RegExp(`^rgba\\(${xs},${xs},${xs},${dl}\\)$`),_T=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${dl}\\)$`),vT=new RegExp(`^hsl\\(${dl},${Zn},${Zn}\\)$`),yT=new RegExp(`^hsla\\(${dl},${Zn},${Zn},${dl}\\)$`),o_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gp(Hl,pl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l_,formatHex:l_,formatHex8:wT,formatHsl:ST,formatRgb:a_,toString:a_});function l_(){return this.rgb().formatHex()}function wT(){return this.rgb().formatHex8()}function ST(){return Mw(this).formatHsl()}function a_(){return this.rgb().formatRgb()}function pl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=dT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?c_(t):n===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Da(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Da(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pT.exec(e))?new Yt(t[1],t[2],t[3],1):(t=mT.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gT.exec(e))?Da(t[1],t[2],t[3],t[4]):(t=_T.exec(e))?Da(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vT.exec(e))?f_(t[1],t[2]/100,t[3]/100,1):(t=yT.exec(e))?f_(t[1],t[2]/100,t[3]/100,t[4]):o_.hasOwnProperty(e)?c_(o_[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function c_(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function Da(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yt(e,t,n,r)}function xT(e){return e instanceof Hl||(e=pl(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function cd(e,t,n,r){return arguments.length===1?xT(e):new Yt(e,t,n,r??1)}function Yt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Gp(Yt,cd,Iw(Hl,{brighter(e){return e=e==null?jc:Math.pow(jc,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fl:Math.pow(fl,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(Ci(this.r),Ci(this.g),Ci(this.b),Hc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u_,formatHex:u_,formatHex8:kT,formatRgb:h_,toString:h_}));function u_(){return`#${vi(this.r)}${vi(this.g)}${vi(this.b)}`}function kT(){return`#${vi(this.r)}${vi(this.g)}${vi(this.b)}${vi((isNaN(this.opacity)?1:this.opacity)*255)}`}function h_(){const e=Hc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ci(this.r)}, ${Ci(this.g)}, ${Ci(this.b)}${e===1?")":`, ${e})`}`}function Hc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vi(e){return e=Ci(e),(e<16?"0":"")+e.toString(16)}function f_(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,n,r)}function Mw(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Hl||(e=pl(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,o=s-i,a=(s+i)/2;return o?(t===s?l=(n-r)/o+(n<r)*6:n===s?l=(r-t)/o+2:l=(t-n)/o+4,o/=a<.5?s+i:2-s-i,l*=60):o=a>0&&a<1?0:l,new Mn(l,o,a,e.opacity)}function bT(e,t,n,r){return arguments.length===1?Mw(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gp(Mn,bT,Iw(Hl,{brighter(e){return e=e==null?jc:Math.pow(jc,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fl:Math.pow(fl,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Yt(wh(e>=240?e-240:e+120,i,r),wh(e,i,r),wh(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Mn(d_(this.h),La(this.s),La(this.l),Hc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hc(this.opacity);return`${e===1?"hsl(":"hsla("}${d_(this.h)}, ${La(this.s)*100}%, ${La(this.l)*100}%${e===1?")":`, ${e})`}`}}));function d_(e){return e=(e||0)%360,e<0?e+360:e}function La(e){return Math.max(0,Math.min(1,e||0))}function wh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ow=e=>()=>e;function CT(e,t){return function(n){return e+n*t}}function ET(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function AT(e){return(e=+e)==1?Pw:function(t,n){return n-t?ET(t,n,e):Ow(isNaN(t)?n:t)}}function Pw(e,t){var n=t-e;return n?CT(e,n):Ow(isNaN(e)?t:e)}const p_=function e(t){var n=AT(t);function r(i,s){var l=n((i=cd(i)).r,(s=cd(s)).r),o=n(i.g,s.g),a=n(i.b,s.b),c=Pw(i.opacity,s.opacity);return function(h){return i.r=l(h),i.g=o(h),i.b=a(h),i.opacity=c(h),i+""}}return r.gamma=e,r}(1);function Ir(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sh=new RegExp(ud.source,"g");function TT(e){return function(){return e}}function DT(e){return function(t){return e(t)+""}}function LT(e,t){var n=ud.lastIndex=Sh.lastIndex=0,r,i,s,l=-1,o=[],a=[];for(e=e+"",t=t+"";(r=ud.exec(e))&&(i=Sh.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[l]?o[l]+=s:o[++l]=s),(r=r[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,a.push({i:l,x:Ir(r,i)})),n=Sh.lastIndex;return n<t.length&&(s=t.slice(n),o[l]?o[l]+=s:o[++l]=s),o.length<2?a[0]?DT(a[0].x):TT(t):(t=a.length,function(c){for(var h=0,u;h<t;++h)o[(u=a[h]).i]=u.x(c);return o.join("")})}var m_=180/Math.PI,hd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bw(e,t,n,r,i,s){var l,o,a;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,a/=o),e*r<t*n&&(e=-e,t=-t,a=-a,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*m_,skewX:Math.atan(a)*m_,scaleX:l,scaleY:o}}var Ra;function RT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hd:Bw(t.a,t.b,t.c,t.d,t.e,t.f)}function NT(e){return e==null||(Ra||(Ra=document.createElementNS("http://www.w3.org/2000/svg","g")),Ra.setAttribute("transform",e),!(e=Ra.transform.baseVal.consolidate()))?hd:(e=e.matrix,Bw(e.a,e.b,e.c,e.d,e.e,e.f))}function Fw(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,h,u,p,m,y){if(c!==u||h!==p){var w=m.push("translate(",null,t,null,n);y.push({i:w-4,x:Ir(c,u)},{i:w-2,x:Ir(h,p)})}else(u||p)&&m.push("translate("+u+t+p+n)}function l(c,h,u,p){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),p.push({i:u.push(i(u)+"rotate(",null,r)-2,x:Ir(c,h)})):h&&u.push(i(u)+"rotate("+h+r)}function o(c,h,u,p){c!==h?p.push({i:u.push(i(u)+"skewX(",null,r)-2,x:Ir(c,h)}):h&&u.push(i(u)+"skewX("+h+r)}function a(c,h,u,p,m,y){if(c!==u||h!==p){var w=m.push(i(m)+"scale(",null,",",null,")");y.push({i:w-4,x:Ir(c,u)},{i:w-2,x:Ir(h,p)})}else(u!==1||p!==1)&&m.push(i(m)+"scale("+u+","+p+")")}return function(c,h){var u=[],p=[];return c=e(c),h=e(h),s(c.translateX,c.translateY,h.translateX,h.translateY,u,p),l(c.rotate,h.rotate,u,p),o(c.skewX,h.skewX,u,p),a(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,p),c=h=null,function(m){for(var y=-1,w=p.length,g;++y<w;)u[(g=p[y]).i]=g.x(m);return u.join("")}}}var IT=Fw(RT,"px, ","px)","deg)"),MT=Fw(NT,", ",")",")"),OT=1e-12;function g_(e){return((e=Math.exp(e))+1/e)/2}function PT(e){return((e=Math.exp(e))-1/e)/2}function BT(e){return((e=Math.exp(2*e))-1)/(e+1)}const FT=function e(t,n,r){function i(s,l){var o=s[0],a=s[1],c=s[2],h=l[0],u=l[1],p=l[2],m=h-o,y=u-a,w=m*m+y*y,g,f;if(w<OT)f=Math.log(p/c)/t,g=function(b){return[o+b*m,a+b*y,c*Math.exp(t*b*f)]};else{var d=Math.sqrt(w),_=(p*p-c*c+r*w)/(2*c*n*d),v=(p*p-c*c-r*w)/(2*p*n*d),S=Math.log(Math.sqrt(_*_+1)-_),k=Math.log(Math.sqrt(v*v+1)-v);f=(k-S)/t,g=function(b){var x=b*f,C=g_(S),A=c/(n*d)*(C*BT(t*x+S)-PT(S));return[o+A*m,a+A*y,c*C/g_(t*x+S)]}}return g.duration=f*1e3*t/Math.SQRT2,g}return i.rho=function(s){var l=Math.max(.001,+s),o=l*l,a=o*o;return e(l,o,a)},i}(Math.SQRT2,2,4);var Os=0,Ao=0,co=0,zw=1e3,$c,To,Uc=0,Ii=0,bu=0,ml=typeof performance=="object"&&performance.now?performance:Date,jw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xp(){return Ii||(jw(zT),Ii=ml.now()+bu)}function zT(){Ii=0}function Wc(){this._call=this._time=this._next=null}Wc.prototype=Hw.prototype={constructor:Wc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Xp():+n)+(t==null?0:+t),!this._next&&To!==this&&(To?To._next=this:$c=this,To=this),this._call=e,this._time=n,fd()},stop:function(){this._call&&(this._call=null,this._time=1/0,fd())}};function Hw(e,t,n){var r=new Wc;return r.restart(e,t,n),r}function jT(){Xp(),++Os;for(var e=$c,t;e;)(t=Ii-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Os}function __(){Ii=(Uc=ml.now())+bu,Os=Ao=0;try{jT()}finally{Os=0,$T(),Ii=0}}function HT(){var e=ml.now(),t=e-Uc;t>zw&&(bu-=t,Uc=e)}function $T(){for(var e,t=$c,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:$c=n);To=e,fd(r)}function fd(e){if(!Os){Ao&&(Ao=clearTimeout(Ao));var t=e-Ii;t>24?(e<1/0&&(Ao=setTimeout(__,e-ml.now()-bu)),co&&(co=clearInterval(co))):(co||(Uc=ml.now(),co=setInterval(HT,zw)),Os=1,jw(__))}}function v_(e,t,n){var r=new Wc;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var UT=xu("start","end","cancel","interrupt"),WT=[],$w=0,y_=1,dd=2,lc=3,w_=4,pd=5,ac=6;function Cu(e,t,n,r,i,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;VT(e,n,{name:t,index:r,group:i,on:UT,tween:WT,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$w})}function Zp(e,t){var n=jn(e,t);if(n.state>$w)throw new Error("too late; already scheduled");return n}function tr(e,t){var n=jn(e,t);if(n.state>lc)throw new Error("too late; already running");return n}function jn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function VT(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Hw(s,0,n.time);function s(c){n.state=y_,n.timer.restart(l,n.delay,n.time),n.delay<=c&&l(c-n.delay)}function l(c){var h,u,p,m;if(n.state!==y_)return a();for(h in r)if(m=r[h],m.name===n.name){if(m.state===lc)return v_(l);m.state===w_?(m.state=ac,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[h]):+h<t&&(m.state=ac,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[h])}if(v_(function(){n.state===lc&&(n.state=w_,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=dd,n.on.call("start",e,e.__data__,n.index,n.group),n.state===dd){for(n.state=lc,i=new Array(p=n.tween.length),h=0,u=-1;h<p;++h)(m=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=m);i.length=u+1}}function o(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=pd,1),u=-1,p=i.length;++u<p;)i[u].call(e,h);n.state===pd&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ac,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function cc(e,t){var n=e.__transition,r,i,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){s=!1;continue}i=r.state>dd&&r.state<pd,r.state=ac,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}s&&delete e.__transition}}function KT(e){return this.each(function(){cc(this,e)})}function YT(e,t){var n,r;return function(){var i=tr(this,e),s=i.tween;if(s!==n){r=n=s;for(var l=0,o=r.length;l<o;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function qT(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=tr(this,e),l=s.tween;if(l!==r){i=(r=l).slice();for(var o={name:t,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===t){i[a]=o;break}a===c&&i.push(o)}s.tween=i}}function GT(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jn(this.node(),n).tween,i=0,s=r.length,l;i<s;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?YT:qT)(n,e,t))}function Qp(e,t,n){var r=e._id;return e.each(function(){var i=tr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return jn(i,r).value[t]}}function Uw(e,t){var n;return(typeof t=="number"?Ir:t instanceof pl?p_:(n=pl(t))?(t=n,p_):LT)(e,t)}function XT(e){return function(){this.removeAttribute(e)}}function ZT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QT(e,t,n){var r,i=n+"",s;return function(){var l=this.getAttribute(e);return l===i?null:l===r?s:s=t(r=l,n)}}function JT(e,t,n){var r,i=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?s:s=t(r=l,n)}}function eD(e,t,n){var r,i,s;return function(){var l,o=n(this),a;return o==null?void this.removeAttribute(e):(l=this.getAttribute(e),a=o+"",l===a?null:l===r&&a===i?s:(i=a,s=t(r=l,o)))}}function tD(e,t,n){var r,i,s;return function(){var l,o=n(this),a;return o==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),a=o+"",l===a?null:l===r&&a===i?s:(i=a,s=t(r=l,o)))}}function nD(e,t){var n=ku(e),r=n==="transform"?MT:Uw;return this.attrTween(e,typeof t=="function"?(n.local?tD:eD)(n,r,Qp(this,"attr."+e,t)):t==null?(n.local?ZT:XT)(n):(n.local?JT:QT)(n,r,t))}function rD(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function iD(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function sD(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&iD(e,s)),n}return i._value=t,i}function oD(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&rD(e,s)),n}return i._value=t,i}function lD(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ku(e);return this.tween(n,(r.local?sD:oD)(r,t))}function aD(e,t){return function(){Zp(this,e).delay=+t.apply(this,arguments)}}function cD(e,t){return t=+t,function(){Zp(this,e).delay=t}}function uD(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aD:cD)(t,e)):jn(this.node(),t).delay}function hD(e,t){return function(){tr(this,e).duration=+t.apply(this,arguments)}}function fD(e,t){return t=+t,function(){tr(this,e).duration=t}}function dD(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hD:fD)(t,e)):jn(this.node(),t).duration}function pD(e,t){if(typeof t!="function")throw new Error;return function(){tr(this,e).ease=t}}function mD(e){var t=this._id;return arguments.length?this.each(pD(t,e)):jn(this.node(),t).ease}function gD(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;tr(this,e).ease=n}}function _D(e){if(typeof e!="function")throw new Error;return this.each(gD(this._id,e))}function vD(e){typeof e!="function"&&(e=Sw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,o=r[i]=[],a,c=0;c<l;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&o.push(a);return new yr(r,this._parents,this._name,this._id)}function yD(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),l=new Array(r),o=0;o<s;++o)for(var a=t[o],c=n[o],h=a.length,u=l[o]=new Array(h),p,m=0;m<h;++m)(p=a[m]||c[m])&&(u[m]=p);for(;o<r;++o)l[o]=t[o];return new yr(l,this._parents,this._name,this._id)}function wD(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function SD(e,t,n){var r,i,s=wD(t)?Zp:tr;return function(){var l=s(this,e),o=l.on;o!==r&&(i=(r=o).copy()).on(t,n),l.on=i}}function xD(e,t){var n=this._id;return arguments.length<2?jn(this.node(),n).on.on(e):this.each(SD(n,e,t))}function kD(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function bD(){return this.on("end.remove",kD(this._id))}function CD(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Yp(e));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var o=r[l],a=o.length,c=s[l]=new Array(a),h,u,p=0;p<a;++p)(h=o[p])&&(u=e.call(h,h.__data__,p,o))&&("__data__"in h&&(u.__data__=h.__data__),c[p]=u,Cu(c[p],t,n,p,c,jn(h,n)));return new yr(s,this._parents,t,n)}function ED(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ww(e));for(var r=this._groups,i=r.length,s=[],l=[],o=0;o<i;++o)for(var a=r[o],c=a.length,h,u=0;u<c;++u)if(h=a[u]){for(var p=e.call(h,h.__data__,u,a),m,y=jn(h,n),w=0,g=p.length;w<g;++w)(m=p[w])&&Cu(m,t,n,w,p,y);s.push(p),l.push(h)}return new yr(s,l,t,n)}var AD=jl.prototype.constructor;function TD(){return new AD(this._groups,this._parents)}function DD(e,t){var n,r,i;return function(){var s=Ms(this,e),l=(this.style.removeProperty(e),Ms(this,e));return s===l?null:s===n&&l===r?i:i=t(n=s,r=l)}}function Ww(e){return function(){this.style.removeProperty(e)}}function LD(e,t,n){var r,i=n+"",s;return function(){var l=Ms(this,e);return l===i?null:l===r?s:s=t(r=l,n)}}function RD(e,t,n){var r,i,s;return function(){var l=Ms(this,e),o=n(this),a=o+"";return o==null&&(a=o=(this.style.removeProperty(e),Ms(this,e))),l===a?null:l===r&&a===i?s:(i=a,s=t(r=l,o))}}function ND(e,t){var n,r,i,s="style."+t,l="end."+s,o;return function(){var a=tr(this,e),c=a.on,h=a.value[s]==null?o||(o=Ww(t)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(l,i=h),a.on=r}}function ID(e,t,n){var r=(e+="")=="transform"?IT:Uw;return t==null?this.styleTween(e,DD(e,r)).on("end.style."+e,Ww(e)):typeof t=="function"?this.styleTween(e,RD(e,r,Qp(this,"style."+e,t))).each(ND(this._id,e)):this.styleTween(e,LD(e,r,t),n).on("end.style."+e,null)}function MD(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function OD(e,t,n){var r,i;function s(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&MD(e,l,n)),r}return s._value=t,s}function PD(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,OD(e,t,n??""))}function BD(e){return function(){this.textContent=e}}function FD(e){return function(){var t=e(this);this.textContent=t??""}}function zD(e){return this.tween("text",typeof e=="function"?FD(Qp(this,"text",e)):BD(e==null?"":e+""))}function jD(e){return function(t){this.textContent=e.call(this,t)}}function HD(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&jD(i)),t}return r._value=e,r}function $D(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,HD(e))}function UD(){for(var e=this._name,t=this._id,n=Vw(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],o=l.length,a,c=0;c<o;++c)if(a=l[c]){var h=jn(a,t);Cu(a,e,n,c,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new yr(r,this._parents,e,n)}function WD(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,l){var o={value:l},a={value:function(){--i===0&&s()}};n.each(function(){var c=tr(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(a)),c.on=t}),i===0&&s()})}var VD=0;function yr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Vw(){return++VD}var ir=jl.prototype;yr.prototype={constructor:yr,select:CD,selectAll:ED,selectChild:ir.selectChild,selectChildren:ir.selectChildren,filter:vD,merge:yD,selection:TD,transition:UD,call:ir.call,nodes:ir.nodes,node:ir.node,size:ir.size,empty:ir.empty,each:ir.each,on:xD,attr:nD,attrTween:lD,style:ID,styleTween:PD,text:zD,textTween:$D,remove:bD,tween:GT,delay:uD,duration:dD,ease:mD,easeVarying:_D,end:WD,[Symbol.iterator]:ir[Symbol.iterator]};function KD(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var YD={time:null,delay:0,duration:250,ease:KD};function qD(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function GD(e){var t,n;e instanceof yr?(t=e._id,e=e._name):(t=Vw(),(n=YD).time=Xp(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],o=l.length,a,c=0;c<o;++c)(a=l[c])&&Cu(a,e,t,c,l,n||qD(a,t));return new yr(r,this._parents,e,t)}jl.prototype.interrupt=KT;jl.prototype.transition=GD;const Na=e=>()=>e;function XD(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function fr(e,t,n){this.k=e,this.x=t,this.y=n}fr.prototype={constructor:fr,scale:function(e){return e===1?this:new fr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var pr=new fr(1,0,0);fr.prototype;function xh(e){e.stopImmediatePropagation()}function uo(e){e.preventDefault(),e.stopImmediatePropagation()}function ZD(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function QD(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function S_(){return this.__zoom||pr}function JD(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function eL(){return navigator.maxTouchPoints||"ontouchstart"in this}function tL(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function Kw(){var e=ZD,t=QD,n=tL,r=JD,i=eL,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],o=250,a=FT,c=xu("start","zoom","end"),h,u,p,m=500,y=150,w=0,g=10;function f(D){D.property("__zoom",S_).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.transform=function(D,B,z,H){var L=D.selection?D.selection():D;L.property("__zoom",S_),D!==L?S(D,B,z,H):L.interrupt().each(function(){k(this,arguments).event(H).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},f.scaleBy=function(D,B,z,H){f.scaleTo(D,function(){var L=this.__zoom.k,R=typeof B=="function"?B.apply(this,arguments):B;return L*R},z,H)},f.scaleTo=function(D,B,z,H){f.transform(D,function(){var L=t.apply(this,arguments),R=this.__zoom,E=z==null?v(L):typeof z=="function"?z.apply(this,arguments):z,M=R.invert(E),U=typeof B=="function"?B.apply(this,arguments):B;return n(_(d(R,U),E,M),L,l)},z,H)},f.translateBy=function(D,B,z,H){f.transform(D,function(){return n(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),l)},null,H)},f.translateTo=function(D,B,z,H,L){f.transform(D,function(){var R=t.apply(this,arguments),E=this.__zoom,M=H==null?v(R):typeof H=="function"?H.apply(this,arguments):H;return n(pr.translate(M[0],M[1]).scale(E.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof z=="function"?-z.apply(this,arguments):-z),R,l)},H,L)};function d(D,B){return B=Math.max(s[0],Math.min(s[1],B)),B===D.k?D:new fr(B,D.x,D.y)}function _(D,B,z){var H=B[0]-z[0]*D.k,L=B[1]-z[1]*D.k;return H===D.x&&L===D.y?D:new fr(D.k,H,L)}function v(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function S(D,B,z,H){D.on("start.zoom",function(){k(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(H).end()}).tween("zoom",function(){var L=this,R=arguments,E=k(L,R).event(H),M=t.apply(L,R),U=z==null?v(M):typeof z=="function"?z.apply(L,R):z,O=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),Y=L.__zoom,K=typeof B=="function"?B.apply(L,R):B,ee=a(Y.invert(U).concat(O/Y.k),K.invert(U).concat(O/K.k));return function(P){if(P===1)P=K;else{var W=ee(P),G=O/W[2];P=new fr(G,U[0]-W[0]*G,U[1]-W[1]*G)}E.zoom(null,P)}})}function k(D,B,z){return!z&&D.__zooming||new b(D,B)}function b(D,B){this.that=D,this.args=B,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,B),this.taps=0}b.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,B){return this.mouse&&D!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var B=vn(this.that).datum();c.call(D,this.that,new XD(D,{sourceEvent:this.sourceEvent,target:f,transform:this.that.__zoom,dispatch:c}),B)}};function x(D,...B){if(!e.apply(this,arguments))return;var z=k(this,B).event(D),H=this.__zoom,L=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,r.apply(this,arguments)))),R=Nn(D);if(z.wheel)(z.mouse[0][0]!==R[0]||z.mouse[0][1]!==R[1])&&(z.mouse[1]=H.invert(z.mouse[0]=R)),clearTimeout(z.wheel);else{if(H.k===L)return;z.mouse=[R,H.invert(R)],cc(this),z.start()}uo(D),z.wheel=setTimeout(E,y),z.zoom("mouse",n(_(d(H,L),z.mouse[0],z.mouse[1]),z.extent,l));function E(){z.wheel=null,z.end()}}function C(D,...B){if(p||!e.apply(this,arguments))return;var z=D.currentTarget,H=k(this,B,!0).event(D),L=vn(D.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",O,!0),R=Nn(D,z),E=D.clientX,M=D.clientY;Rw(D.view),xh(D),H.mouse=[R,this.__zoom.invert(R)],cc(this),H.start();function U(Y){if(uo(Y),!H.moved){var K=Y.clientX-E,ee=Y.clientY-M;H.moved=K*K+ee*ee>w}H.event(Y).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=Nn(Y,z),H.mouse[1]),H.extent,l))}function O(Y){L.on("mousemove.zoom mouseup.zoom",null),Nw(Y.view,H.moved),uo(Y),H.event(Y).end()}}function A(D,...B){if(e.apply(this,arguments)){var z=this.__zoom,H=Nn(D.changedTouches?D.changedTouches[0]:D,this),L=z.invert(H),R=z.k*(D.shiftKey?.5:2),E=n(_(d(z,R),H,L),t.apply(this,B),l);uo(D),o>0?vn(this).transition().duration(o).call(S,E,H,D):vn(this).call(f.transform,E,H,D)}}function N(D,...B){if(e.apply(this,arguments)){var z=D.touches,H=z.length,L=k(this,B,D.changedTouches.length===H).event(D),R,E,M,U;for(xh(D),E=0;E<H;++E)M=z[E],U=Nn(M,this),U=[U,this.__zoom.invert(U),M.identifier],L.touch0?!L.touch1&&L.touch0[2]!==U[2]&&(L.touch1=U,L.taps=0):(L.touch0=U,R=!0,L.taps=1+!!h);h&&(h=clearTimeout(h)),R&&(L.taps<2&&(u=U[0],h=setTimeout(function(){h=null},m)),cc(this),L.start())}}function I(D,...B){if(this.__zooming){var z=k(this,B).event(D),H=D.changedTouches,L=H.length,R,E,M,U;for(uo(D),R=0;R<L;++R)E=H[R],M=Nn(E,this),z.touch0&&z.touch0[2]===E.identifier?z.touch0[0]=M:z.touch1&&z.touch1[2]===E.identifier&&(z.touch1[0]=M);if(E=z.that.__zoom,z.touch1){var O=z.touch0[0],Y=z.touch0[1],K=z.touch1[0],ee=z.touch1[1],P=(P=K[0]-O[0])*P+(P=K[1]-O[1])*P,W=(W=ee[0]-Y[0])*W+(W=ee[1]-Y[1])*W;E=d(E,Math.sqrt(P/W)),M=[(O[0]+K[0])/2,(O[1]+K[1])/2],U=[(Y[0]+ee[0])/2,(Y[1]+ee[1])/2]}else if(z.touch0)M=z.touch0[0],U=z.touch0[1];else return;z.zoom("touch",n(_(E,M,U),z.extent,l))}}function F(D,...B){if(this.__zooming){var z=k(this,B).event(D),H=D.changedTouches,L=H.length,R,E;for(xh(D),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),R=0;R<L;++R)E=H[R],z.touch0&&z.touch0[2]===E.identifier?delete z.touch0:z.touch1&&z.touch1[2]===E.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(E=Nn(E,this),Math.hypot(u[0]-E[0],u[1]-E[1])<g)){var M=vn(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return f.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:Na(+D),f):r},f.filter=function(D){return arguments.length?(e=typeof D=="function"?D:Na(!!D),f):e},f.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:Na(!!D),f):i},f.extent=function(D){return arguments.length?(t=typeof D=="function"?D:Na([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),f):t},f.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],f):[s[0],s[1]]},f.translateExtent=function(D){return arguments.length?(l[0][0]=+D[0][0],l[1][0]=+D[1][0],l[0][1]=+D[0][1],l[1][1]=+D[1][1],f):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},f.constrain=function(D){return arguments.length?(n=D,f):n},f.duration=function(D){return arguments.length?(o=+D,f):o},f.interpolate=function(D){return arguments.length?(a=D,f):a},f.on=function(){var D=c.on.apply(c,arguments);return D===c?f:D},f.clickDistance=function(D){return arguments.length?(w=(D=+D)*D,f):Math.sqrt(w)},f.tapDistance=function(D){return arguments.length?(g=+D,f):g},f}const Eu=j.createContext(null),nL=Eu.Provider,wr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Yw=wr.error001();function $e(e,t){const n=j.useContext(Eu);if(n===null)throw new Error(Yw);return vw(n,e,t)}const pt=()=>{const e=j.useContext(Eu);if(e===null)throw new Error(Yw);return j.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},rL=e=>e.userSelectionActive?"none":"all";function Jp({position:e,children:t,className:n,style:r,...i}){const s=$e(rL),l=`${e}`.split("-");return Q.createElement("div",{className:bt(["react-flow__panel",n,...l]),style:{...r,pointerEvents:s},...i},t)}function iL({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:Q.createElement(Jp,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Q.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const sL=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:o=2,children:a,className:c,...h})=>{const u=j.useRef(null),[p,m]=j.useState({x:0,y:0,width:0,height:0}),y=bt(["react-flow__edge-textwrapper",c]);return j.useEffect(()=>{if(u.current){const w=u.current.getBBox();m({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),typeof n>"u"||!n?null:Q.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...h},i&&Q.createElement("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),Q.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:u,style:r},n),a)};var oL=j.memo(sL);const em=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ps=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),tm=(e={x:0,y:0},t)=>({x:Ps(e.x,t[0][0],t[1][0]),y:Ps(e.y,t[0][1],t[1][1])}),x_=(e,t,n)=>e<t?Ps(Math.abs(e-t),1,50)/50:e>n?-Ps(Math.abs(e-n),1,50)/50:0,qw=(e,t)=>{const n=x_(e.x,35,t.width-35)*20,r=x_(e.y,35,t.height-35)*20;return[n,r]},Gw=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Xw=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),gl=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Zw=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),k_=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),lL=(e,t)=>Zw(Xw(gl(e),gl(t))),md=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},aL=e=>Sn(e.width)&&Sn(e.height)&&Sn(e.x)&&Sn(e.y),Sn=e=>!isNaN(e)&&isFinite(e),et=Symbol.for("internals"),Qw=["Enter"," ","Escape"],cL=(e,t)=>{},uL=e=>"nativeEvent"in e;function gd(e){var i,s;const t=uL(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Jw=e=>"clientX"in e,Xr=(e,t)=>{var s,l;const n=Jw(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Vc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},$l=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,style:h,markerEnd:u,markerStart:p,interactionWidth:m=20})=>Q.createElement(Q.Fragment,null,Q.createElement("path",{id:e,style:h,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:p}),m&&Q.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&Sn(n)&&Sn(r)?Q.createElement(oL,{x:n,y:r,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c}):null);$l.displayName="BaseEdge";function ho(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function eS({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,l=Math.abs(r-t)/2,o=r<t?r+l:r-l;return[s,o,i,l]}function tS({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:o}){const a=e*.125+i*.375+l*.375+n*.125,c=t*.125+s*.375+o*.375+r*.125,h=Math.abs(a-e),u=Math.abs(c-t);return[a,c,h,u]}var ri;(function(e){e.Strict="strict",e.Loose="loose"})(ri||(ri={}));var yi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yi||(yi={}));var _l;(function(e){e.Partial="partial",e.Full="full"})(_l||(_l={}));var Br;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Br||(Br={}));var vl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(vl||(vl={}));var ge;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ge||(ge={}));function b_({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ge.Left||e===ge.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function nS({sourceX:e,sourceY:t,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:s=ge.Top}){const[l,o]=b_({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,c]=b_({pos:s,x1:r,y1:i,x2:e,y2:t}),[h,u,p,m]=tS({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:o,targetControlX:a,targetControlY:c});return[`M${e},${t} C${l},${o} ${a},${c} ${r},${i}`,h,u,p,m]}const nm=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ge.Bottom,targetPosition:s=ge.Top,label:l,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:u,style:p,markerEnd:m,markerStart:y,interactionWidth:w})=>{const[g,f,d]=nS({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return Q.createElement($l,{path:g,labelX:f,labelY:d,label:l,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:u,style:p,markerEnd:m,markerStart:y,interactionWidth:w})});nm.displayName="SimpleBezierEdge";const C_={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},hL=({source:e,sourcePosition:t=ge.Bottom,target:n})=>t===ge.Left||t===ge.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},E_=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function fL({source:e,sourcePosition:t=ge.Bottom,target:n,targetPosition:r=ge.Top,center:i,offset:s}){const l=C_[t],o=C_[r],a={x:e.x+l.x*s,y:e.y+l.y*s},c={x:n.x+o.x*s,y:n.y+o.y*s},h=hL({source:a,sourcePosition:t,target:c}),u=h.x!==0?"x":"y",p=h[u];let m=[],y,w;const g={x:0,y:0},f={x:0,y:0},[d,_,v,S]=eS({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[u]*o[u]===-1){y=i.x??d,w=i.y??_;const b=[{x:y,y:a.y},{x:y,y:c.y}],x=[{x:a.x,y:w},{x:c.x,y:w}];l[u]===p?m=u==="x"?b:x:m=u==="x"?x:b}else{const b=[{x:a.x,y:c.y}],x=[{x:c.x,y:a.y}];if(u==="x"?m=l.x===p?x:b:m=l.y===p?b:x,t===r){const F=Math.abs(e[u]-n[u]);if(F<=s){const D=Math.min(s-1,s-F);l[u]===p?g[u]=(a[u]>e[u]?-1:1)*D:f[u]=(c[u]>n[u]?-1:1)*D}}if(t!==r){const F=u==="x"?"y":"x",D=l[u]===o[F],B=a[F]>c[F],z=a[F]<c[F];(l[u]===1&&(!D&&B||D&&z)||l[u]!==1&&(!D&&z||D&&B))&&(m=u==="x"?b:x)}const C={x:a.x+g.x,y:a.y+g.y},A={x:c.x+f.x,y:c.y+f.y},N=Math.max(Math.abs(C.x-m[0].x),Math.abs(A.x-m[0].x)),I=Math.max(Math.abs(C.y-m[0].y),Math.abs(A.y-m[0].y));N>=I?(y=(C.x+A.x)/2,w=m[0].y):(y=m[0].x,w=(C.y+A.y)/2)}return[[e,{x:a.x+g.x,y:a.y+g.y},...m,{x:c.x+f.x,y:c.y+f.y},n],y,w,v,S]}function dL(e,t,n,r){const i=Math.min(E_(e,t)/2,E_(t,n)/2,r),{x:s,y:l}=t;if(e.x===s&&s===n.x||e.y===l&&l===n.y)return`L${s} ${l}`;if(e.y===l){const c=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${s+i*c},${l}Q ${s},${l} ${s},${l+i*h}`}const o=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${l+i*a}Q ${s},${l} ${s+i*o},${l}`}function _d({sourceX:e,sourceY:t,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:s=ge.Top,borderRadius:l=5,centerX:o,centerY:a,offset:c=20}){const[h,u,p,m,y]=fL({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:o,y:a},offset:c});return[h.reduce((g,f,d)=>{let _="";return d>0&&d<h.length-1?_=dL(h[d-1],f,h[d+1],l):_=`${d===0?"M":"L"}${f.x} ${f.y}`,g+=_,g},""),u,p,m,y]}const Au=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,style:h,sourcePosition:u=ge.Bottom,targetPosition:p=ge.Top,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:g})=>{const[f,d,_]=_d({sourceX:e,sourceY:t,sourcePosition:u,targetX:n,targetY:r,targetPosition:p,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return Q.createElement($l,{path:f,labelX:d,labelY:_,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,style:h,markerEnd:m,markerStart:y,interactionWidth:g})});Au.displayName="SmoothStepEdge";const rm=j.memo(e=>{var t;return Q.createElement(Au,{...e,pathOptions:j.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});rm.displayName="StepEdge";function pL({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,l,o]=eS({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,l,o]}const im=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,style:h,markerEnd:u,markerStart:p,interactionWidth:m})=>{const[y,w,g]=pL({sourceX:e,sourceY:t,targetX:n,targetY:r});return Q.createElement($l,{path:y,labelX:w,labelY:g,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,style:h,markerEnd:u,markerStart:p,interactionWidth:m})});im.displayName="StraightEdge";function Ia(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function A_({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case ge.Left:return[t-Ia(t-r,s),n];case ge.Right:return[t+Ia(r-t,s),n];case ge.Top:return[t,n-Ia(n-i,s)];case ge.Bottom:return[t,n+Ia(i-n,s)]}}function rS({sourceX:e,sourceY:t,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:s=ge.Top,curvature:l=.25}){const[o,a]=A_({pos:n,x1:e,y1:t,x2:r,y2:i,c:l}),[c,h]=A_({pos:s,x1:r,y1:i,x2:e,y2:t,c:l}),[u,p,m,y]=tS({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:c,targetControlY:h});return[`M${e},${t} C${o},${a} ${c},${h} ${r},${i}`,u,p,m,y]}const Kc=j.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ge.Bottom,targetPosition:s=ge.Top,label:l,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:u,style:p,markerEnd:m,markerStart:y,pathOptions:w,interactionWidth:g})=>{const[f,d,_]=rS({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:w==null?void 0:w.curvature});return Q.createElement($l,{path:f,labelX:d,labelY:_,label:l,labelStyle:o,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:u,style:p,markerEnd:m,markerStart:y,interactionWidth:g})});Kc.displayName="BezierEdge";const sm=j.createContext(null),mL=sm.Provider;sm.Consumer;const gL=()=>j.useContext(sm),_L=e=>"id"in e&&"source"in e&&"target"in e,vL=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,vd=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,yL=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),wL=(e,t)=>{if(!e.source||!e.target)return t;let n;return _L(e)?n={...e}:n={...e,id:vL(e)},yL(n,t)?t:t.concat(n)},yd=({x:e,y:t},[n,r,i],s,[l,o])=>{const a={x:(e-n)/i,y:(t-r)/i};return s?{x:l*Math.round(a.x/l),y:o*Math.round(a.y/o)}:a},iS=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Ei=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Tu=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:l}=Ei(i,t).positionAbsolute;return Xw(r,gl({x:s,y:l,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zw(n)},sS=(e,t,[n,r,i]=[0,0,1],s=!1,l=!1,o=[0,0])=>{const a={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},c=[];return e.forEach(h=>{const{width:u,height:p,selectable:m=!0,hidden:y=!1}=h;if(l&&!m||y)return!1;const{positionAbsolute:w}=Ei(h,o),g={x:w.x,y:w.y,width:u||0,height:p||0},f=md(a,g),d=typeof u>"u"||typeof p>"u"||u===null||p===null,_=s&&f>0,v=(u||0)*(p||0);(d||_||f>=v||h.dragging)&&c.push(h)}),c},oS=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},lS=(e,t,n,r,i,s=.1)=>{const l=t/(e.width*(1+s)),o=n/(e.height*(1+s)),a=Math.min(l,o),c=Ps(a,r,i),h=e.x+e.width/2,u=e.y+e.height/2,p=t/2-h*c,m=n/2-u*c;return{x:p,y:m,zoom:c}},fi=(e,t=0)=>e.transition().duration(t);function T_(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var l,o;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((l=e.positionAbsolute)==null?void 0:l.x)??0)+s.x+s.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+s.y+s.height/2}),i},[])}function SL(e,t,n,r,i,s){const{x:l,y:o}=Xr(e),c=t.elementsFromPoint(l,o).find(y=>y.classList.contains("react-flow__handle"));if(c){const y=c.getAttribute("data-nodeid");if(y){const w=om(void 0,c),g=c.getAttribute("data-handleid"),f=s({nodeId:y,id:g,type:w});if(f){const d=i.find(_=>_.nodeId===y&&_.type===w&&_.id===g);return{handle:{id:g,type:w,nodeId:y,x:(d==null?void 0:d.x)||n.x,y:(d==null?void 0:d.y)||n.y},validHandleResult:f}}}}let h=[],u=1/0;if(i.forEach(y=>{const w=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(w<=r){const g=s(y);w<=u&&(w<u?h=[{handle:y,validHandleResult:g}]:w===u&&h.push({handle:y,validHandleResult:g}),u=w)}}),!h.length)return{handle:null,validHandleResult:aS()};if(h.length===1)return h[0];const p=h.some(({validHandleResult:y})=>y.isValid),m=h.some(({handle:y})=>y.type==="target");return h.find(({handle:y,validHandleResult:w})=>m?y.type==="target":p?w.isValid:!0)||h[0]}const xL={source:null,target:null,sourceHandle:null,targetHandle:null},aS=()=>({handleDomNode:null,isValid:!1,connection:xL,endHandle:null});function cS(e,t,n,r,i,s,l){const o=i==="target",a=l.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...aS(),handleDomNode:a};if(a){const h=om(void 0,a),u=a.getAttribute("data-nodeid"),p=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),y=a.classList.contains("connectableend"),w={source:o?u:n,sourceHandle:o?p:r,target:o?n:u,targetHandle:o?r:p};c.connection=w,m&&y&&(t===ri.Strict?o&&h==="source"||!o&&h==="target":u!==n||p!==r)&&(c.endHandle={nodeId:u,handleId:p,type:h},c.isValid=s(w))}return c}function kL({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[et]){const{handleBounds:l}=s[et];let o=[],a=[];l&&(o=T_(s,l,"source",`${t}-${n}-${r}`),a=T_(s,l,"target",`${t}-${n}-${r}`)),i.push(...o,...a)}return i},[])}function om(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function kh(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function bL(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function uS({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:l,isValidConnection:o,edgeUpdaterType:a,onReconnectEnd:c}){const h=Gw(e.target),{connectionMode:u,domNode:p,autoPanOnConnect:m,connectionRadius:y,onConnectStart:w,panBy:g,getNodes:f,cancelConnection:d}=s();let _=0,v;const{x:S,y:k}=Xr(e),b=h==null?void 0:h.elementFromPoint(S,k),x=om(a,b),C=p==null?void 0:p.getBoundingClientRect();if(!C||!x)return;let A,N=Xr(e,C),I=!1,F=null,D=!1,B=null;const z=kL({nodes:f(),nodeId:n,handleId:t,handleType:x}),H=()=>{if(!m)return;const[E,M]=qw(N,C);g({x:E,y:M}),_=requestAnimationFrame(H)};l({connectionPosition:N,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:x,connectionStartHandle:{nodeId:n,handleId:t,type:x},connectionEndHandle:null}),w==null||w(e,{nodeId:n,handleId:t,handleType:x});function L(E){const{transform:M}=s();N=Xr(E,C);const{handle:U,validHandleResult:O}=SL(E,h,yd(N,M,!1,[1,1]),y,z,Y=>cS(Y,u,n,t,i?"target":"source",o,h));if(v=U,I||(H(),I=!0),B=O.handleDomNode,F=O.connection,D=O.isValid,l({connectionPosition:v&&D?iS({x:v.x,y:v.y},M):N,connectionStatus:bL(!!v,D),connectionEndHandle:O.endHandle}),!v&&!D&&!B)return kh(A);F.source!==F.target&&B&&(kh(A),A=B,B.classList.add("connecting","react-flow__handle-connecting"),B.classList.toggle("valid",D),B.classList.toggle("react-flow__handle-valid",D))}function R(E){var M,U;(v||B)&&F&&D&&(r==null||r(F)),(U=(M=s()).onConnectEnd)==null||U.call(M,E),a&&(c==null||c(E)),kh(A),d(),cancelAnimationFrame(_),I=!1,D=!1,F=null,B=null,h.removeEventListener("mousemove",L),h.removeEventListener("mouseup",R),h.removeEventListener("touchmove",L),h.removeEventListener("touchend",R)}h.addEventListener("mousemove",L),h.addEventListener("mouseup",R),h.addEventListener("touchmove",L),h.addEventListener("touchend",R)}const D_=()=>!0,CL=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),EL=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:l}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.handleId)===t&&(l==null?void 0:l.type)===n}},hS=j.forwardRef(({type:e="source",position:t=ge.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:l,onConnect:o,children:a,className:c,onMouseDown:h,onTouchStart:u,...p},m)=>{var C,A;const y=l||null,w=e==="target",g=pt(),f=gL(),{connectOnClick:d,noPanClassName:_}=$e(CL,yt),{connecting:v,clickConnecting:S}=$e(EL(f,y,e),yt);f||(A=(C=g.getState()).onError)==null||A.call(C,"010",wr.error010());const k=N=>{const{defaultEdgeOptions:I,onConnect:F,hasDefaultEdges:D}=g.getState(),B={...I,...N};if(D){const{edges:z,setEdges:H}=g.getState();H(wL(B,z))}F==null||F(B),o==null||o(B)},b=N=>{if(!f)return;const I=Jw(N);i&&(I&&N.button===0||!I)&&uS({event:N,handleId:y,nodeId:f,onConnect:k,isTarget:w,getState:g.getState,setState:g.setState,isValidConnection:n||g.getState().isValidConnection||D_}),I?h==null||h(N):u==null||u(N)},x=N=>{const{onClickConnectStart:I,onClickConnectEnd:F,connectionClickStartHandle:D,connectionMode:B,isValidConnection:z}=g.getState();if(!f||!D&&!i)return;if(!D){I==null||I(N,{nodeId:f,handleId:y,handleType:e}),g.setState({connectionClickStartHandle:{nodeId:f,type:e,handleId:y}});return}const H=Gw(N.target),L=n||z||D_,{connection:R,isValid:E}=cS({nodeId:f,id:y,type:e},B,D.nodeId,D.handleId||null,D.type,L,H);E&&k(R),F==null||F(N),g.setState({connectionClickStartHandle:null})};return Q.createElement("div",{"data-handleid":y,"data-nodeid":f,"data-handlepos":t,"data-id":`${f}-${y}-${e}`,className:bt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,c,{source:!w,target:w,connectable:r,connectablestart:i,connectableend:s,connecting:S,connectionindicator:r&&(i&&!v||s&&v)}]),onMouseDown:b,onTouchStart:b,onClick:d?x:void 0,ref:m,...p},a)});hS.displayName="Handle";var Bs=j.memo(hS);const fS=({data:e,isConnectable:t,targetPosition:n=ge.Top,sourcePosition:r=ge.Bottom})=>Q.createElement(Q.Fragment,null,Q.createElement(Bs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,Q.createElement(Bs,{type:"source",position:r,isConnectable:t}));fS.displayName="DefaultNode";var wd=j.memo(fS);const dS=({data:e,isConnectable:t,sourcePosition:n=ge.Bottom})=>Q.createElement(Q.Fragment,null,e==null?void 0:e.label,Q.createElement(Bs,{type:"source",position:n,isConnectable:t}));dS.displayName="InputNode";var pS=j.memo(dS);const mS=({data:e,isConnectable:t,targetPosition:n=ge.Top})=>Q.createElement(Q.Fragment,null,Q.createElement(Bs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);mS.displayName="OutputNode";var gS=j.memo(mS);const lm=()=>null;lm.displayName="GroupNode";const AL=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ma=e=>e.id;function TL(e,t){return yt(e.selectedNodes.map(Ma),t.selectedNodes.map(Ma))&&yt(e.selectedEdges.map(Ma),t.selectedEdges.map(Ma))}const _S=j.memo(({onSelectionChange:e})=>{const t=pt(),{selectedNodes:n,selectedEdges:r}=$e(AL,TL);return j.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});_S.displayName="SelectionListener";const DL=e=>!!e.onSelectionChange;function LL({onSelectionChange:e}){const t=$e(DL);return e||t?Q.createElement(_S,{onSelectionChange:e}):null}const RL=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Wi(e,t){j.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function xe(e,t,n){j.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const NL=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:l,onClickConnectStart:o,onClickConnectEnd:a,nodesDraggable:c,nodesConnectable:h,nodesFocusable:u,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:w,maxZoom:g,nodeExtent:f,onNodesChange:d,onEdgesChange:_,elementsSelectable:v,connectionMode:S,snapGrid:k,snapToGrid:b,translateExtent:x,connectOnClick:C,defaultEdgeOptions:A,fitView:N,fitViewOptions:I,onNodesDelete:F,onEdgesDelete:D,onNodeDrag:B,onNodeDragStart:z,onNodeDragStop:H,onSelectionDrag:L,onSelectionDragStart:R,onSelectionDragStop:E,noPanClassName:M,nodeOrigin:U,rfId:O,autoPanOnConnect:Y,autoPanOnNodeDrag:K,onError:ee,connectionRadius:P,isValidConnection:W,nodeDragThreshold:G})=>{const{setNodes:q,setEdges:ce,setDefaultNodesAndEdges:ne,setMinZoom:de,setMaxZoom:we,setTranslateExtent:ye,setNodeExtent:Re,reset:oe}=$e(RL,yt),le=pt();return j.useEffect(()=>{const Ne=r==null?void 0:r.map(Ue=>({...Ue,...A}));return ne(n,Ne),()=>{oe()}},[]),xe("defaultEdgeOptions",A,le.setState),xe("connectionMode",S,le.setState),xe("onConnect",i,le.setState),xe("onConnectStart",s,le.setState),xe("onConnectEnd",l,le.setState),xe("onClickConnectStart",o,le.setState),xe("onClickConnectEnd",a,le.setState),xe("nodesDraggable",c,le.setState),xe("nodesConnectable",h,le.setState),xe("nodesFocusable",u,le.setState),xe("edgesFocusable",p,le.setState),xe("edgesUpdatable",m,le.setState),xe("elementsSelectable",v,le.setState),xe("elevateNodesOnSelect",y,le.setState),xe("snapToGrid",b,le.setState),xe("snapGrid",k,le.setState),xe("onNodesChange",d,le.setState),xe("onEdgesChange",_,le.setState),xe("connectOnClick",C,le.setState),xe("fitViewOnInit",N,le.setState),xe("fitViewOnInitOptions",I,le.setState),xe("onNodesDelete",F,le.setState),xe("onEdgesDelete",D,le.setState),xe("onNodeDrag",B,le.setState),xe("onNodeDragStart",z,le.setState),xe("onNodeDragStop",H,le.setState),xe("onSelectionDrag",L,le.setState),xe("onSelectionDragStart",R,le.setState),xe("onSelectionDragStop",E,le.setState),xe("noPanClassName",M,le.setState),xe("nodeOrigin",U,le.setState),xe("rfId",O,le.setState),xe("autoPanOnConnect",Y,le.setState),xe("autoPanOnNodeDrag",K,le.setState),xe("onError",ee,le.setState),xe("connectionRadius",P,le.setState),xe("isValidConnection",W,le.setState),xe("nodeDragThreshold",G,le.setState),Wi(e,q),Wi(t,ce),Wi(w,de),Wi(g,we),Wi(x,ye),Wi(f,Re),null},L_={display:"none"},IL={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vS="react-flow__node-desc",yS="react-flow__edge-desc",ML="react-flow__aria-live",OL=e=>e.ariaLiveMessage;function PL({rfId:e}){const t=$e(OL);return Q.createElement("div",{id:`${ML}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:IL},t)}function BL({rfId:e,disableKeyboardA11y:t}){return Q.createElement(Q.Fragment,null,Q.createElement("div",{id:`${vS}-${e}`,style:L_},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Q.createElement("div",{id:`${yS}-${e}`,style:L_},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&Q.createElement(PL,{rfId:e}))}var yl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=j.useState(!1),i=j.useRef(!1),s=j.useRef(new Set([])),[l,o]=j.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(u=>typeof u=="string").map(u=>u.split("+")),h=c.reduce((u,p)=>u.concat(...p),[]);return[c,h]}return[[],[]]},[e]);return j.useEffect(()=>{const a=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||a;if(e!==null){const h=m=>{if(i.current=m.ctrlKey||m.metaKey||m.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&gd(m))return!1;const w=N_(m.code,o);s.current.add(m[w]),R_(l,s.current,!1)&&(m.preventDefault(),r(!0))},u=m=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&gd(m))return!1;const w=N_(m.code,o);R_(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(m[w]),m.key==="Meta"&&s.current.clear(),i.current=!1},p=()=>{s.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",h),c==null||c.addEventListener("keyup",u),window.addEventListener("blur",p),()=>{c==null||c.removeEventListener("keydown",h),c==null||c.removeEventListener("keyup",u),window.removeEventListener("blur",p)}}},[e,r]),n};function R_(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function N_(e,t){return t.includes(e)?"code":"key"}function wS(e,t,n,r){var o,a;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),l=Ei(s,r);return wS(s,t,{x:(n.x??0)+l.x,y:(n.y??0)+l.y,z:(((o=s[et])==null?void 0:o.z)??0)>(n.z??0)?((a=s[et])==null?void 0:a.z)??0:n.z??0},r)}function SS(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:l,y:o,z:a}=wS(r,e,{...r.position,z:((s=r[et])==null?void 0:s.z)??0},t);r.positionAbsolute={x:l,y:o},r[et].z=a,n!=null&&n[r.id]&&(r[et].isParent=!0)}})}function bh(e,t,n,r){const i=new Map,s={},l=r?1e3:0;return e.forEach(o=>{var m;const a=(Sn(o.zIndex)?o.zIndex:0)+(o.selected?l:0),c=t.get(o.id),h={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},u=o.parentNode||o.parentId;u&&(s[u]=!0);const p=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==o.type;Object.defineProperty(h,et,{enumerable:!1,value:{handleBounds:p||(m=c==null?void 0:c[et])==null?void 0:m.handleBounds,z:a}}),i.set(o.id,h)}),SS(i,n,s),i}function xS(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:l,d3Zoom:o,d3Selection:a,fitViewOnInitDone:c,fitViewOnInit:h,nodeOrigin:u}=e(),p=t.initial&&!c&&h;if(o&&a&&(p||!t.initial)){const y=n().filter(g=>{var d;const f=t.includeHiddenNodes?g.width&&g.height:!g.hidden;return(d=t.nodes)!=null&&d.length?f&&t.nodes.some(_=>_.id===g.id):f}),w=y.every(g=>g.width&&g.height);if(y.length>0&&w){const g=Tu(y,u),{x:f,y:d,zoom:_}=lS(g,r,i,t.minZoom??s,t.maxZoom??l,t.padding??.1),v=pr.translate(f,d).scale(_);return typeof t.duration=="number"&&t.duration>0?o.transform(fi(a,t.duration),v):o.transform(a,v),!0}}return!1}function FL(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[et]:r[et],selected:n.selected})}),new Map(t)}function zL(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Oa({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:l,onEdgesChange:o,hasDefaultNodes:a,hasDefaultEdges:c}=n();e!=null&&e.length&&(a&&r({nodeInternals:FL(e,i)}),l==null||l(e)),t!=null&&t.length&&(c&&r({edges:zL(t,s)}),o==null||o(t))}const Vi=()=>{},jL={zoomIn:Vi,zoomOut:Vi,zoomTo:Vi,getZoom:()=>1,setViewport:Vi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Vi,fitBounds:Vi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},HL=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),$L=()=>{const e=pt(),{d3Zoom:t,d3Selection:n}=$e(HL,yt);return j.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(fi(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(fi(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(fi(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[l,o,a]=e.getState().transform,c=pr.translate(i.x??l,i.y??o).scale(i.zoom??a);t.transform(fi(n,s==null?void 0:s.duration),c)},getViewport:()=>{const[i,s,l]=e.getState().transform;return{x:i,y:s,zoom:l}},fitView:i=>xS(e.getState,i),setCenter:(i,s,l)=>{const{width:o,height:a,maxZoom:c}=e.getState(),h=typeof(l==null?void 0:l.zoom)<"u"?l.zoom:c,u=o/2-i*h,p=a/2-s*h,m=pr.translate(u,p).scale(h);t.transform(fi(n,l==null?void 0:l.duration),m)},fitBounds:(i,s)=>{const{width:l,height:o,minZoom:a,maxZoom:c}=e.getState(),{x:h,y:u,zoom:p}=lS(i,l,o,a,c,(s==null?void 0:s.padding)??.1),m=pr.translate(h,u).scale(p);t.transform(fi(n,s==null?void 0:s.duration),m)},project:i=>{const{transform:s,snapToGrid:l,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),yd(i,s,l,o)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:l,snapGrid:o,domNode:a}=e.getState();if(!a)return i;const{x:c,y:h}=a.getBoundingClientRect(),u={x:i.x-c,y:i.y-h};return yd(u,s,l,o)},flowToScreenPosition:i=>{const{transform:s,domNode:l}=e.getState();if(!l)return i;const{x:o,y:a}=l.getBoundingClientRect(),c=iS(i,s);return{x:c.x+o,y:c.y+a}},viewportInitialized:!0}:jL,[t,n])};function am(){const e=$L(),t=pt(),n=j.useCallback(()=>t.getState().getNodes().map(w=>({...w})),[]),r=j.useCallback(w=>t.getState().nodeInternals.get(w),[]),i=j.useCallback(()=>{const{edges:w=[]}=t.getState();return w.map(g=>({...g}))},[]),s=j.useCallback(w=>{const{edges:g=[]}=t.getState();return g.find(f=>f.id===w)},[]),l=j.useCallback(w=>{const{getNodes:g,setNodes:f,hasDefaultNodes:d,onNodesChange:_}=t.getState(),v=g(),S=typeof w=="function"?w(v):w;if(d)f(S);else if(_){const k=S.length===0?v.map(b=>({type:"remove",id:b.id})):S.map(b=>({item:b,type:"reset"}));_(k)}},[]),o=j.useCallback(w=>{const{edges:g=[],setEdges:f,hasDefaultEdges:d,onEdgesChange:_}=t.getState(),v=typeof w=="function"?w(g):w;if(d)f(v);else if(_){const S=v.length===0?g.map(k=>({type:"remove",id:k.id})):v.map(k=>({item:k,type:"reset"}));_(S)}},[]),a=j.useCallback(w=>{const g=Array.isArray(w)?w:[w],{getNodes:f,setNodes:d,hasDefaultNodes:_,onNodesChange:v}=t.getState();if(_){const k=[...f(),...g];d(k)}else if(v){const S=g.map(k=>({item:k,type:"add"}));v(S)}},[]),c=j.useCallback(w=>{const g=Array.isArray(w)?w:[w],{edges:f=[],setEdges:d,hasDefaultEdges:_,onEdgesChange:v}=t.getState();if(_)d([...f,...g]);else if(v){const S=g.map(k=>({item:k,type:"add"}));v(S)}},[]),h=j.useCallback(()=>{const{getNodes:w,edges:g=[],transform:f}=t.getState(),[d,_,v]=f;return{nodes:w().map(S=>({...S})),edges:g.map(S=>({...S})),viewport:{x:d,y:_,zoom:v}}},[]),u=j.useCallback(({nodes:w,edges:g})=>{const{nodeInternals:f,getNodes:d,edges:_,hasDefaultNodes:v,hasDefaultEdges:S,onNodesDelete:k,onEdgesDelete:b,onNodesChange:x,onEdgesChange:C}=t.getState(),A=(w||[]).map(B=>B.id),N=(g||[]).map(B=>B.id),I=d().reduce((B,z)=>{const H=z.parentNode||z.parentId,L=!A.includes(z.id)&&H&&B.find(E=>E.id===H);return(typeof z.deletable=="boolean"?z.deletable:!0)&&(A.includes(z.id)||L)&&B.push(z),B},[]),F=_.filter(B=>typeof B.deletable=="boolean"?B.deletable:!0),D=F.filter(B=>N.includes(B.id));if(I||D){const B=oS(I,F),z=[...D,...B],H=z.reduce((L,R)=>(L.includes(R.id)||L.push(R.id),L),[]);if((S||v)&&(S&&t.setState({edges:_.filter(L=>!H.includes(L.id))}),v&&(I.forEach(L=>{f.delete(L.id)}),t.setState({nodeInternals:new Map(f)}))),H.length>0&&(b==null||b(z),C&&C(H.map(L=>({id:L,type:"remove"})))),I.length>0&&(k==null||k(I),x)){const L=I.map(R=>({id:R.id,type:"remove"}));x(L)}}},[]),p=j.useCallback(w=>{const g=aL(w),f=g?null:t.getState().nodeInternals.get(w.id);return!g&&!f?[null,null,g]:[g?w:k_(f),f,g]},[]),m=j.useCallback((w,g=!0,f)=>{const[d,_,v]=p(w);return d?(f||t.getState().getNodes()).filter(S=>{if(!v&&(S.id===_.id||!S.positionAbsolute))return!1;const k=k_(S),b=md(k,d);return g&&b>0||b>=d.width*d.height}):[]},[]),y=j.useCallback((w,g,f=!0)=>{const[d]=p(w);if(!d)return!1;const _=md(d,g);return f&&_>0||_>=d.width*d.height},[]);return j.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:l,setEdges:o,addNodes:a,addEdges:c,toObject:h,deleteElements:u,getIntersectingNodes:m,isNodeIntersecting:y}),[e,n,r,i,s,l,o,a,c,h,u,m,y])}const UL={actInsideInputWithModifier:!1};var WL=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=pt(),{deleteElements:r}=am(),i=yl(e,UL),s=yl(t);j.useEffect(()=>{if(i){const{edges:l,getNodes:o}=n.getState(),a=o().filter(h=>h.selected),c=l.filter(h=>h.selected);r({nodes:a,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),j.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function VL(e){const t=pt();j.useEffect(()=>{let n;const r=()=>{var s,l;if(!e.current)return;const i=em(e.current);(i.height===0||i.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",wr.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const cm={position:"absolute",width:"100%",height:"100%",top:0,left:0},KL=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Pa=e=>({x:e.x,y:e.y,zoom:e.k}),Ki=(e,t)=>e.target.closest(`.${t}`),I_=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),M_=e=>{const t=e.ctrlKey&&Vc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},YL=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),qL=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=yi.Free,zoomOnDoubleClick:c=!0,elementsSelectable:h,panOnDrag:u=!0,defaultViewport:p,translateExtent:m,minZoom:y,maxZoom:w,zoomActivationKeyCode:g,preventScrolling:f=!0,children:d,noWheelClassName:_,noPanClassName:v})=>{const S=j.useRef(),k=pt(),b=j.useRef(!1),x=j.useRef(!1),C=j.useRef(null),A=j.useRef({x:0,y:0,zoom:0}),{d3Zoom:N,d3Selection:I,d3ZoomHandler:F,userSelectionActive:D}=$e(YL,yt),B=yl(g),z=j.useRef(0),H=j.useRef(!1),L=j.useRef();return VL(C),j.useEffect(()=>{if(C.current){const R=C.current.getBoundingClientRect(),E=Kw().scaleExtent([y,w]).translateExtent(m),M=vn(C.current).call(E),U=pr.translate(p.x,p.y).scale(Ps(p.zoom,y,w)),O=[[0,0],[R.width,R.height]],Y=E.constrain()(U,O,m);E.transform(M,Y),E.wheelDelta(M_),k.setState({d3Zoom:E,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:C.current.closest(".react-flow")})}},[]),j.useEffect(()=>{I&&N&&(l&&!B&&!D?I.on("wheel.zoom",R=>{if(Ki(R,_))return!1;R.preventDefault(),R.stopImmediatePropagation();const E=I.property("__zoom").k||1;if(R.ctrlKey&&s){const W=Nn(R),G=M_(R),q=E*Math.pow(2,G);N.scaleTo(I,q,W,R);return}const M=R.deltaMode===1?20:1;let U=a===yi.Vertical?0:R.deltaX*M,O=a===yi.Horizontal?0:R.deltaY*M;!Vc()&&R.shiftKey&&a!==yi.Vertical&&(U=R.deltaY*M,O=0),N.translateBy(I,-(U/E)*o,-(O/E)*o,{internal:!0});const Y=Pa(I.property("__zoom")),{onViewportChangeStart:K,onViewportChange:ee,onViewportChangeEnd:P}=k.getState();clearTimeout(L.current),H.current||(H.current=!0,t==null||t(R,Y),K==null||K(Y)),H.current&&(e==null||e(R,Y),ee==null||ee(Y),L.current=setTimeout(()=>{n==null||n(R,Y),P==null||P(Y),H.current=!1},150))},{passive:!1}):typeof F<"u"&&I.on("wheel.zoom",function(R,E){if(!f&&R.type==="wheel"&&!R.ctrlKey||Ki(R,_))return null;R.preventDefault(),F.call(this,R,E)},{passive:!1}))},[D,l,a,I,N,F,B,s,f,_,t,e,n]),j.useEffect(()=>{N&&N.on("start",R=>{var U,O;if(!R.sourceEvent||R.sourceEvent.internal)return null;z.current=(U=R.sourceEvent)==null?void 0:U.button;const{onViewportChangeStart:E}=k.getState(),M=Pa(R.transform);b.current=!0,A.current=M,((O=R.sourceEvent)==null?void 0:O.type)==="mousedown"&&k.setState({paneDragging:!0}),E==null||E(M),t==null||t(R.sourceEvent,M)})},[N,t]),j.useEffect(()=>{N&&(D&&!b.current?N.on("zoom",null):D||N.on("zoom",R=>{var M;const{onViewportChange:E}=k.getState();if(k.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),x.current=!!(r&&I_(u,z.current??0)),(e||E)&&!((M=R.sourceEvent)!=null&&M.internal)){const U=Pa(R.transform);E==null||E(U),e==null||e(R.sourceEvent,U)}}))},[D,N,e,u,r]),j.useEffect(()=>{N&&N.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:E}=k.getState();if(b.current=!1,k.setState({paneDragging:!1}),r&&I_(u,z.current??0)&&!x.current&&r(R.sourceEvent),x.current=!1,(n||E)&&KL(A.current,R.transform)){const M=Pa(R.transform);A.current=M,clearTimeout(S.current),S.current=setTimeout(()=>{E==null||E(M),n==null||n(R.sourceEvent,M)},l?150:0)}})},[N,l,u,n,r]),j.useEffect(()=>{N&&N.filter(R=>{const E=B||i,M=s&&R.ctrlKey;if((u===!0||Array.isArray(u)&&u.includes(1))&&R.button===1&&R.type==="mousedown"&&(Ki(R,"react-flow__node")||Ki(R,"react-flow__edge")))return!0;if(!u&&!E&&!l&&!c&&!s||D||!c&&R.type==="dblclick"||Ki(R,_)&&R.type==="wheel"||Ki(R,v)&&(R.type!=="wheel"||l&&R.type==="wheel"&&!B)||!s&&R.ctrlKey&&R.type==="wheel"||!E&&!l&&!M&&R.type==="wheel"||!u&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(u)&&!u.includes(R.button)&&R.type==="mousedown")return!1;const U=Array.isArray(u)&&u.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&U})},[D,N,i,s,l,c,u,h,B]),Q.createElement("div",{className:"react-flow__renderer",ref:C,style:cm},d)},GL=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function XL(){const{userSelectionActive:e,userSelectionRect:t}=$e(GL,yt);return e&&t?Q.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function O_(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const l=Math.abs(t.position.x);r.position.x=r.position.x-l,r.style.width+=l,t.position.x=0}if(t.position.y<0){const l=Math.abs(t.position.y);r.position.y=r.position.y-l,r.style.height+=l,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function ZL(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(o=>o.id===i.id);if(s.length===0)return r.push(i),r;const l={...i};for(const o of s)if(o)switch(o.type){case"select":{l.selected=o.selected;break}case"position":{typeof o.position<"u"&&(l.position=o.position),typeof o.positionAbsolute<"u"&&(l.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(l.dragging=o.dragging),l.expandParent&&O_(r,l);break}case"dimensions":{typeof o.dimensions<"u"&&(l.width=o.dimensions.width,l.height=o.dimensions.height),typeof o.updateStyle<"u"&&(l.style={...l.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(l.resizing=o.resizing),l.expandParent&&O_(r,l);break}case"remove":return r}return r.push(l),r},n)}function QL(e,t){return ZL(e,t)}const Mr=(e,t)=>({id:e,type:"select",selected:t});function fs(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Mr(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Mr(r.id,!1))),n},[])}const Ch=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},JL=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),kS=j.memo(({isSelecting:e,selectionMode:t=_l.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:o,onPaneMouseEnter:a,onPaneMouseMove:c,onPaneMouseLeave:h,children:u})=>{const p=j.useRef(null),m=pt(),y=j.useRef(0),w=j.useRef(0),g=j.useRef(),{userSelectionActive:f,elementsSelectable:d,dragging:_}=$e(JL,yt),v=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,w.current=0},S=F=>{s==null||s(F),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},k=F=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){F.preventDefault();return}l==null||l(F)},b=o?F=>o(F):void 0,x=F=>{const{resetSelectedElements:D,domNode:B}=m.getState();if(g.current=B==null?void 0:B.getBoundingClientRect(),!d||!e||F.button!==0||F.target!==p.current||!g.current)return;const{x:z,y:H}=Xr(F,g.current);D(),m.setState({userSelectionRect:{width:0,height:0,startX:z,startY:H,x:z,y:H}}),r==null||r(F)},C=F=>{const{userSelectionRect:D,nodeInternals:B,edges:z,transform:H,onNodesChange:L,onEdgesChange:R,nodeOrigin:E,getNodes:M}=m.getState();if(!e||!g.current||!D)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const U=Xr(F,g.current),O=D.startX??0,Y=D.startY??0,K={...D,x:U.x<O?U.x:O,y:U.y<Y?U.y:Y,width:Math.abs(U.x-O),height:Math.abs(U.y-Y)},ee=M(),P=sS(B,K,H,t===_l.Partial,!0,E),W=oS(P,z).map(q=>q.id),G=P.map(q=>q.id);if(y.current!==G.length){y.current=G.length;const q=fs(ee,G);q.length&&(L==null||L(q))}if(w.current!==W.length){w.current=W.length;const q=fs(z,W);q.length&&(R==null||R(q))}m.setState({userSelectionRect:K})},A=F=>{if(F.button!==0)return;const{userSelectionRect:D}=m.getState();!f&&D&&F.target===p.current&&(S==null||S(F)),m.setState({nodesSelectionActive:y.current>0}),v(),i==null||i(F)},N=F=>{f&&(m.setState({nodesSelectionActive:y.current>0}),i==null||i(F)),v()},I=d&&(e||f);return Q.createElement("div",{className:bt(["react-flow__pane",{dragging:_,selection:e}]),onClick:I?void 0:Ch(S,p),onContextMenu:Ch(k,p),onWheel:Ch(b,p),onMouseEnter:I?void 0:a,onMouseDown:I?x:void 0,onMouseMove:I?C:c,onMouseUp:I?A:void 0,onMouseLeave:I?N:h,ref:p,style:cm},u,Q.createElement(XL,null))});kS.displayName="Pane";function bS(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:bS(r,t):!1}function P_(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function eR(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!bS(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,l;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((l=i.positionAbsolute)==null?void 0:l.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function tR(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function CS(e,t,n,r,i=[0,0],s){const l=tR(e,e.extent||r);let o=l;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const u=n.get(a),{x:p,y:m}=Ei(u,i).positionAbsolute;o=u&&Sn(p)&&Sn(m)&&Sn(u.width)&&Sn(u.height)?[[p+e.width*i[0],m+e.height*i[1]],[p+u.width-e.width+e.width*i[0],m+u.height-e.height+e.height*i[1]]]:o}else s==null||s("005",wr.error005()),o=l;else if(e.extent&&a&&e.extent!=="parent"){const u=n.get(a),{x:p,y:m}=Ei(u,i).positionAbsolute;o=[[e.extent[0][0]+p,e.extent[0][1]+m],[e.extent[1][0]+p,e.extent[1][1]+m]]}let c={x:0,y:0};if(a){const u=n.get(a);c=Ei(u,i).positionAbsolute}const h=o&&o!=="parent"?tm(t,o):t;return{position:{x:h.x-c.x,y:h.y-c.y},positionAbsolute:h}}function Eh({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const B_=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),l=t.getBoundingClientRect(),o={x:l.width*r[0],y:l.height*r[1]};return s.map(a=>{const c=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(c.left-l.left-o.x)/n,y:(c.top-l.top-o.y)/n,...em(a)}})};function fo(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Sd({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:l,nodeInternals:o,onError:a}=t.getState(),c=o.get(e);if(!c){a==null||a("012",wr.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&l)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):i([e])}function nR(){const e=pt();return j.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),l=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,a={x:(l-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(a.x/i[0]):a.x,ySnapped:s?i[1]*Math.round(a.y/i[1]):a.y,...a}},[])}function Ah(e){return(t,n,r)=>e==null?void 0:e(t,r)}function ES({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:l}){const o=pt(),[a,c]=j.useState(!1),h=j.useRef([]),u=j.useRef({x:null,y:null}),p=j.useRef(0),m=j.useRef(null),y=j.useRef({x:0,y:0}),w=j.useRef(null),g=j.useRef(!1),f=j.useRef(!1),d=j.useRef(!1),_=nR();return j.useEffect(()=>{if(e!=null&&e.current){const v=vn(e.current),S=({x,y:C})=>{const{nodeInternals:A,onNodeDrag:N,onSelectionDrag:I,updateNodePositions:F,nodeExtent:D,snapGrid:B,snapToGrid:z,nodeOrigin:H,onError:L}=o.getState();u.current={x,y:C};let R=!1,E={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&D){const U=Tu(h.current,H);E=gl(U)}if(h.current=h.current.map(U=>{const O={x:x-U.distance.x,y:C-U.distance.y};z&&(O.x=B[0]*Math.round(O.x/B[0]),O.y=B[1]*Math.round(O.y/B[1]));const Y=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];h.current.length>1&&D&&!U.extent&&(Y[0][0]=U.positionAbsolute.x-E.x+D[0][0],Y[1][0]=U.positionAbsolute.x+(U.width??0)-E.x2+D[1][0],Y[0][1]=U.positionAbsolute.y-E.y+D[0][1],Y[1][1]=U.positionAbsolute.y+(U.height??0)-E.y2+D[1][1]);const K=CS(U,O,A,Y,H,L);return R=R||U.position.x!==K.position.x||U.position.y!==K.position.y,U.position=K.position,U.positionAbsolute=K.positionAbsolute,U}),!R)return;F(h.current,!0,!0),c(!0);const M=i?N:Ah(I);if(M&&w.current){const[U,O]=Eh({nodeId:i,dragItems:h.current,nodeInternals:A});M(w.current,U,O)}},k=()=>{if(!m.current)return;const[x,C]=qw(y.current,m.current);if(x!==0||C!==0){const{transform:A,panBy:N}=o.getState();u.current.x=(u.current.x??0)-x/A[2],u.current.y=(u.current.y??0)-C/A[2],N({x,y:C})&&S(u.current)}p.current=requestAnimationFrame(k)},b=x=>{var H;const{nodeInternals:C,multiSelectionActive:A,nodesDraggable:N,unselectNodesAndEdges:I,onNodeDragStart:F,onSelectionDragStart:D}=o.getState();f.current=!0;const B=i?F:Ah(D);(!l||!s)&&!A&&i&&((H=C.get(i))!=null&&H.selected||I()),i&&s&&l&&Sd({id:i,store:o,nodeRef:e});const z=_(x);if(u.current=z,h.current=eR(C,N,z,i),B&&h.current){const[L,R]=Eh({nodeId:i,dragItems:h.current,nodeInternals:C});B(x.sourceEvent,L,R)}};if(t)v.on(".drag",null);else{const x=fT().on("start",C=>{const{domNode:A,nodeDragThreshold:N}=o.getState();N===0&&b(C),d.current=!1;const I=_(C);u.current=I,m.current=(A==null?void 0:A.getBoundingClientRect())||null,y.current=Xr(C.sourceEvent,m.current)}).on("drag",C=>{var F,D;const A=_(C),{autoPanOnNodeDrag:N,nodeDragThreshold:I}=o.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(d.current=!0),!d.current){if(!g.current&&f.current&&N&&(g.current=!0,k()),!f.current){const B=A.xSnapped-(((F=u==null?void 0:u.current)==null?void 0:F.x)??0),z=A.ySnapped-(((D=u==null?void 0:u.current)==null?void 0:D.y)??0);Math.sqrt(B*B+z*z)>I&&b(C)}(u.current.x!==A.xSnapped||u.current.y!==A.ySnapped)&&h.current&&f.current&&(w.current=C.sourceEvent,y.current=Xr(C.sourceEvent,m.current),S(A))}}).on("end",C=>{if(!(!f.current||d.current)&&(c(!1),g.current=!1,f.current=!1,cancelAnimationFrame(p.current),h.current)){const{updateNodePositions:A,nodeInternals:N,onNodeDragStop:I,onSelectionDragStop:F}=o.getState(),D=i?I:Ah(F);if(A(h.current,!1,!1),D){const[B,z]=Eh({nodeId:i,dragItems:h.current,nodeInternals:N});D(C.sourceEvent,B,z)}}}).filter(C=>{const A=C.target;return!C.button&&(!n||!P_(A,`.${n}`,e))&&(!r||P_(A,r,e))});return v.call(x),()=>{v.on(".drag",null)}}}},[e,t,n,r,s,o,i,l,_]),a}function AS(){const e=pt();return j.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:l,snapToGrid:o,snapGrid:a,onError:c,nodesDraggable:h}=e.getState(),u=l().filter(d=>d.selected&&(d.draggable||h&&typeof d.draggable>"u")),p=o?a[0]:5,m=o?a[1]:5,y=n.isShiftPressed?4:1,w=n.x*p*y,g=n.y*m*y,f=u.map(d=>{if(d.positionAbsolute){const _={x:d.positionAbsolute.x+w,y:d.positionAbsolute.y+g};o&&(_.x=a[0]*Math.round(_.x/a[0]),_.y=a[1]*Math.round(_.y/a[1]));const{positionAbsolute:v,position:S}=CS(d,_,r,i,void 0,c);d.position=S,d.positionAbsolute=v}return d});s(f,!0,!1)},[])}const ks={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var po=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:l,xPosOrigin:o,yPosOrigin:a,selected:c,onClick:h,onMouseEnter:u,onMouseMove:p,onMouseLeave:m,onContextMenu:y,onDoubleClick:w,style:g,className:f,isDraggable:d,isSelectable:_,isConnectable:v,isFocusable:S,selectNodesOnDrag:k,sourcePosition:b,targetPosition:x,hidden:C,resizeObserver:A,dragHandle:N,zIndex:I,isParent:F,noDragClassName:D,noPanClassName:B,initialized:z,disableKeyboardA11y:H,ariaLabel:L,rfId:R,hasHandleBounds:E})=>{const M=pt(),U=j.useRef(null),O=j.useRef(null),Y=j.useRef(b),K=j.useRef(x),ee=j.useRef(r),P=_||d||h||u||p||m,W=AS(),G=fo(n,M.getState,u),q=fo(n,M.getState,p),ce=fo(n,M.getState,m),ne=fo(n,M.getState,y),de=fo(n,M.getState,w),we=oe=>{const{nodeDragThreshold:le}=M.getState();if(_&&(!k||!d||le>0)&&Sd({id:n,store:M,nodeRef:U}),h){const Ne=M.getState().nodeInternals.get(n);Ne&&h(oe,{...Ne})}},ye=oe=>{if(!gd(oe)&&!H)if(Qw.includes(oe.key)&&_){const le=oe.key==="Escape";Sd({id:n,store:M,unselect:le,nodeRef:U})}else d&&c&&Object.prototype.hasOwnProperty.call(ks,oe.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~l}`}),W({x:ks[oe.key].x,y:ks[oe.key].y,isShiftPressed:oe.shiftKey}))};j.useEffect(()=>()=>{O.current&&(A==null||A.unobserve(O.current),O.current=null)},[]),j.useEffect(()=>{if(U.current&&!C){const oe=U.current;(!z||!E||O.current!==oe)&&(O.current&&(A==null||A.unobserve(O.current)),A==null||A.observe(oe),O.current=oe)}},[C,z,E]),j.useEffect(()=>{const oe=ee.current!==r,le=Y.current!==b,Ne=K.current!==x;U.current&&(oe||le||Ne)&&(oe&&(ee.current=r),le&&(Y.current=b),Ne&&(K.current=x),M.getState().updateNodeDimensions([{id:n,nodeElement:U.current,forceUpdate:!0}]))},[n,r,b,x]);const Re=ES({nodeRef:U,disabled:C||!d,noDragClassName:D,handleSelector:N,nodeId:n,isSelectable:_,selectNodesOnDrag:k});return C?null:Q.createElement("div",{className:bt(["react-flow__node",`react-flow__node-${r}`,{[B]:d},f,{selected:c,selectable:_,parent:F,dragging:Re}]),ref:U,style:{zIndex:I,transform:`translate(${o}px,${a}px)`,pointerEvents:P?"all":"none",visibility:z?"visible":"hidden",...g},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:G,onMouseMove:q,onMouseLeave:ce,onContextMenu:ne,onClick:we,onDoubleClick:de,onKeyDown:S?ye:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":H?void 0:`${vS}-${R}`,"aria-label":L},Q.createElement(mL,{value:n},Q.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:l,selected:c,isConnectable:v,sourcePosition:b,targetPosition:x,dragging:Re,dragHandle:N,zIndex:I})))};return t.displayName="NodeWrapper",j.memo(t)};const rR=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Tu(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function iR({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=pt(),{width:i,height:s,x:l,y:o,transformString:a,userSelectionActive:c}=$e(rR,yt),h=AS(),u=j.useRef(null);if(j.useEffect(()=>{var y;n||(y=u.current)==null||y.focus({preventScroll:!0})},[n]),ES({nodeRef:u}),c||!i||!s)return null;const p=e?y=>{const w=r.getState().getNodes().filter(g=>g.selected);e(y,w)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(ks,y.key)&&h({x:ks[y.key].x,y:ks[y.key].y,isShiftPressed:y.shiftKey})};return Q.createElement("div",{className:bt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},Q.createElement("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:s,top:o,left:l}}))}var sR=j.memo(iR);const oR=e=>e.nodesSelectionActive,TS=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:o,onMove:a,onMoveStart:c,onMoveEnd:h,selectionKeyCode:u,selectionOnDrag:p,selectionMode:m,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:g,panActivationKeyCode:f,zoomActivationKeyCode:d,elementsSelectable:_,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:k,panOnScrollSpeed:b,panOnScrollMode:x,zoomOnDoubleClick:C,panOnDrag:A,defaultViewport:N,translateExtent:I,minZoom:F,maxZoom:D,preventScrolling:B,onSelectionContextMenu:z,noWheelClassName:H,noPanClassName:L,disableKeyboardA11y:R})=>{const E=$e(oR),M=yl(u),U=yl(f),O=U||A,Y=U||k,K=M||p&&O!==!0;return WL({deleteKeyCode:o,multiSelectionKeyCode:g}),Q.createElement(qL,{onMove:a,onMoveStart:c,onMoveEnd:h,onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:Y,panOnScrollSpeed:b,panOnScrollMode:x,zoomOnDoubleClick:C,panOnDrag:!M&&O,defaultViewport:N,translateExtent:I,minZoom:F,maxZoom:D,zoomActivationKeyCode:d,preventScrolling:B,noWheelClassName:H,noPanClassName:L},Q.createElement(kS,{onSelectionStart:y,onSelectionEnd:w,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:O,isSelecting:!!K,selectionMode:m},e,E&&Q.createElement(sR,{onSelectionContextMenu:z,noPanClassName:L,disableKeyboardA11y:R})))};TS.displayName="FlowRenderer";var lR=j.memo(TS);function aR(e){return $e(j.useCallback(n=>e?sS(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function cR(e){const t={input:po(e.input||pS),default:po(e.default||wd),output:po(e.output||gS),group:po(e.group||lm)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=po(e[s]||wd),i),n);return{...t,...r}}const uR=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},hR=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),DS=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:l}=$e(hR,yt),o=aR(e.onlyRenderVisibleElements),a=j.useRef(),c=j.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(u=>{const p=u.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));s(p)});return a.current=h,h},[]);return j.useEffect(()=>()=>{var h;(h=a==null?void 0:a.current)==null||h.disconnect()},[]),Q.createElement("div",{className:"react-flow__nodes",style:cm},o.map(h=>{var S,k,b;let u=h.type||"default";e.nodeTypes[u]||(l==null||l("003",wr.error003(u)),u="default");const p=e.nodeTypes[u]||e.nodeTypes.default,m=!!(h.draggable||t&&typeof h.draggable>"u"),y=!!(h.selectable||i&&typeof h.selectable>"u"),w=!!(h.connectable||n&&typeof h.connectable>"u"),g=!!(h.focusable||r&&typeof h.focusable>"u"),f=e.nodeExtent?tm(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,d=(f==null?void 0:f.x)??0,_=(f==null?void 0:f.y)??0,v=uR({x:d,y:_,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return Q.createElement(p,{key:h.id,id:h.id,className:h.className,style:h.style,type:u,data:h.data,sourcePosition:h.sourcePosition||ge.Bottom,targetPosition:h.targetPosition||ge.Top,hidden:h.hidden,xPos:d,yPos:_,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:m,isSelectable:y,isConnectable:w,isFocusable:g,resizeObserver:c,dragHandle:h.dragHandle,zIndex:((S=h[et])==null?void 0:S.z)??0,isParent:!!((k=h[et])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!((b=h[et])!=null&&b.handleBounds)})}))};DS.displayName="NodeRenderer";var fR=j.memo(DS);const dR=(e,t,n)=>n===ge.Left?e-t:n===ge.Right?e+t:e,pR=(e,t,n)=>n===ge.Top?e-t:n===ge.Bottom?e+t:e,F_="react-flow__edgeupdater",z_=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:o})=>Q.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:bt([F_,`${F_}-${o}`]),cx:dR(t,r,e),cy:pR(n,r,e),r,stroke:"transparent",fill:"transparent"}),mR=()=>!0;var Yi=e=>{const t=({id:n,className:r,type:i,data:s,onClick:l,onEdgeDoubleClick:o,selected:a,animated:c,label:h,labelStyle:u,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,style:g,source:f,target:d,sourceX:_,sourceY:v,targetX:S,targetY:k,sourcePosition:b,targetPosition:x,elementsSelectable:C,hidden:A,sourceHandleId:N,targetHandleId:I,onContextMenu:F,onMouseEnter:D,onMouseMove:B,onMouseLeave:z,reconnectRadius:H,onReconnect:L,onReconnectStart:R,onReconnectEnd:E,markerEnd:M,markerStart:U,rfId:O,ariaLabel:Y,isFocusable:K,isReconnectable:ee,pathOptions:P,interactionWidth:W,disableKeyboardA11y:G})=>{const q=j.useRef(null),[ce,ne]=j.useState(!1),[de,we]=j.useState(!1),ye=pt(),Re=j.useMemo(()=>`url('#${vd(U,O)}')`,[U,O]),oe=j.useMemo(()=>`url('#${vd(M,O)}')`,[M,O]);if(A)return null;const le=X=>{var nt;const{edges:te,addSelectedEdges:fe,unselectNodesAndEdges:qe,multiSelectionActive:Ie}=ye.getState(),Te=te.find(ct=>ct.id===n);Te&&(C&&(ye.setState({nodesSelectionActive:!1}),Te.selected&&Ie?(qe({nodes:[],edges:[Te]}),(nt=q.current)==null||nt.blur()):fe([n])),l&&l(X,Te))},Ne=ho(n,ye.getState,o),Ue=ho(n,ye.getState,F),at=ho(n,ye.getState,D),tt=ho(n,ye.getState,B),Ae=ho(n,ye.getState,z),Fe=(X,te)=>{if(X.button!==0)return;const{edges:fe,isValidConnection:qe}=ye.getState(),Ie=te?d:f,Te=(te?I:N)||null,nt=te?"target":"source",ct=qe||mR,Zs=te,Hn=fe.find(en=>en.id===n);we(!0),R==null||R(X,Hn,nt);const br=en=>{we(!1),E==null||E(en,Hn,nt)};uS({event:X,handleId:Te,nodeId:Ie,onConnect:en=>L==null?void 0:L(Hn,en),isTarget:Zs,getState:ye.getState,setState:ye.setState,isValidConnection:ct,edgeUpdaterType:nt,onReconnectEnd:br})},Oe=X=>Fe(X,!0),Z=X=>Fe(X,!1),J=()=>ne(!0),ae=()=>ne(!1),_e=!C&&!l,$=X=>{var te;if(!G&&Qw.includes(X.key)&&C){const{unselectNodesAndEdges:fe,addSelectedEdges:qe,edges:Ie}=ye.getState();X.key==="Escape"?((te=q.current)==null||te.blur(),fe({edges:[Ie.find(nt=>nt.id===n)]})):qe([n])}};return Q.createElement("g",{className:bt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:a,animated:c,inactive:_e,updating:ce}]),onClick:le,onDoubleClick:Ne,onContextMenu:Ue,onMouseEnter:at,onMouseMove:tt,onMouseLeave:Ae,onKeyDown:K?$:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${f} to ${d}`,"aria-describedby":K?`${yS}-${O}`:void 0,ref:q},!de&&Q.createElement(e,{id:n,source:f,target:d,selected:a,animated:c,label:h,labelStyle:u,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:w,data:s,style:g,sourceX:_,sourceY:v,targetX:S,targetY:k,sourcePosition:b,targetPosition:x,sourceHandleId:N,targetHandleId:I,markerStart:Re,markerEnd:oe,pathOptions:P,interactionWidth:W}),ee&&Q.createElement(Q.Fragment,null,(ee==="source"||ee===!0)&&Q.createElement(z_,{position:b,centerX:_,centerY:v,radius:H,onMouseDown:Oe,onMouseEnter:J,onMouseOut:ae,type:"source"}),(ee==="target"||ee===!0)&&Q.createElement(z_,{position:x,centerX:S,centerY:k,radius:H,onMouseDown:Z,onMouseEnter:J,onMouseOut:ae,type:"target"})))};return t.displayName="EdgeWrapper",j.memo(t)};function gR(e){const t={default:Yi(e.default||Kc),straight:Yi(e.bezier||im),step:Yi(e.step||rm),smoothstep:Yi(e.step||Au),simplebezier:Yi(e.simplebezier||nm)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Yi(e[s]||Kc),i),n);return{...t,...r}}function j_(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,l=(n==null?void 0:n.height)||t.height;switch(e){case ge.Top:return{x:r+s/2,y:i};case ge.Right:return{x:r+s,y:i+l/2};case ge.Bottom:return{x:r+s/2,y:i+l};case ge.Left:return{x:r,y:i+l/2}}}function H_(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const _R=(e,t,n,r,i,s)=>{const l=j_(n,e,t),o=j_(s,r,i);return{sourceX:l.x,sourceY:l.y,targetX:o.x,targetY:o.y}};function vR({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:l,height:o,transform:a}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const h=gl({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:l/a[2],height:o/a[2]}),u=Math.max(0,Math.min(h.x2,c.x2)-Math.max(h.x,c.x)),p=Math.max(0,Math.min(h.y2,c.y2)-Math.max(h.y,c.y));return Math.ceil(u*p)>0}function $_(e){var r,i,s,l,o;const t=((r=e==null?void 0:e[et])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const yR=[{level:0,isMaxLevel:!0,edges:[]}];function wR(e,t,n=!1){let r=-1;const i=e.reduce((l,o)=>{var h,u;const a=Sn(o.zIndex);let c=a?o.zIndex:0;if(n){const p=t.get(o.target),m=t.get(o.source),y=o.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),w=Math.max(((h=m==null?void 0:m[et])==null?void 0:h.z)||0,((u=p==null?void 0:p[et])==null?void 0:u.z)||0,1e3);c=(a?o.zIndex:0)+(y?w:0)}return l[c]?l[c].push(o):l[c]=[o],r=c>r?c:r,l},{}),s=Object.entries(i).map(([l,o])=>{const a=+l;return{edges:o,level:a,isMaxLevel:a===r}});return s.length===0?yR:s}function SR(e,t,n){const r=$e(j.useCallback(i=>e?i.edges.filter(s=>{const l=t.get(s.source),o=t.get(s.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&vR({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:o.width,targetHeight:o.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return wR(r,t,n)}const xR=({color:e="none",strokeWidth:t=1})=>Q.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),kR=({color:e="none",strokeWidth:t=1})=>Q.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),U_={[vl.Arrow]:xR,[vl.ArrowClosed]:kR};function bR(e){const t=pt();return j.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(U_,e)?U_[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",wr.error009(e)),null)},[e])}const CR=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:o="auto-start-reverse"})=>{const a=bR(t);return a?Q.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0"},Q.createElement(a,{color:n,strokeWidth:l})):null},ER=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(l=>{if(l&&typeof l=="object"){const o=vd(l,t);r.includes(o)||(i.push({id:o,color:l.color||e,...l}),r.push(o))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},LS=({defaultColor:e,rfId:t})=>{const n=$e(j.useCallback(ER({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,l)=>s.id!==i[l].id)));return Q.createElement("defs",null,n.map(r=>Q.createElement(CR,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};LS.displayName="MarkerDefinitions";var AR=j.memo(LS);const TR=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),RS=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:o,onEdgeMouseMove:a,onEdgeMouseLeave:c,onEdgeClick:h,onEdgeDoubleClick:u,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,children:g,disableKeyboardA11y:f})=>{const{edgesFocusable:d,edgesUpdatable:_,elementsSelectable:v,width:S,height:k,connectionMode:b,nodeInternals:x,onError:C}=$e(TR,yt),A=SR(t,x,n);return S?Q.createElement(Q.Fragment,null,A.map(({level:N,edges:I,isMaxLevel:F})=>Q.createElement("svg",{key:N,style:{zIndex:N},width:S,height:k,className:"react-flow__edges react-flow__container"},F&&Q.createElement(AR,{defaultColor:e,rfId:r}),Q.createElement("g",null,I.map(D=>{const[B,z,H]=$_(x.get(D.source)),[L,R,E]=$_(x.get(D.target));if(!H||!E)return null;let M=D.type||"default";i[M]||(C==null||C("011",wr.error011(M)),M="default");const U=i[M]||i.default,O=b===ri.Strict?R.target:(R.target??[]).concat(R.source??[]),Y=H_(z.source,D.sourceHandle),K=H_(O,D.targetHandle),ee=(Y==null?void 0:Y.position)||ge.Bottom,P=(K==null?void 0:K.position)||ge.Top,W=!!(D.focusable||d&&typeof D.focusable>"u"),G=D.reconnectable||D.updatable,q=typeof p<"u"&&(G||_&&typeof G>"u");if(!Y||!K)return C==null||C("008",wr.error008(Y,D)),null;const{sourceX:ce,sourceY:ne,targetX:de,targetY:we}=_R(B,Y,ee,L,K,P);return Q.createElement(U,{key:D.id,id:D.id,className:bt([D.className,s]),type:M,data:D.data,selected:!!D.selected,animated:!!D.animated,hidden:!!D.hidden,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,style:D.style,source:D.source,target:D.target,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerEnd:D.markerEnd,markerStart:D.markerStart,sourceX:ce,sourceY:ne,targetX:de,targetY:we,sourcePosition:ee,targetPosition:P,elementsSelectable:v,onContextMenu:l,onMouseEnter:o,onMouseMove:a,onMouseLeave:c,onClick:h,onEdgeDoubleClick:u,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:w,rfId:r,ariaLabel:D.ariaLabel,isFocusable:W,isReconnectable:q,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth,disableKeyboardA11y:f})})))),g):null};RS.displayName="EdgeRenderer";var DR=j.memo(RS);const LR=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function RR({children:e}){const t=$e(LR);return Q.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function NR(e){const t=am(),n=j.useRef(!1);j.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const IR={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top},NS=({nodeId:e,handleType:t,style:n,type:r=Br.Bezier,CustomComponent:i,connectionStatus:s})=>{var k,b,x;const{fromNode:l,handleId:o,toX:a,toY:c,connectionMode:h}=$e(j.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),yt),u=(k=l==null?void 0:l[et])==null?void 0:k.handleBounds;let p=u==null?void 0:u[t];if(h===ri.Loose&&(p=p||(u==null?void 0:u[t==="source"?"target":"source"])),!l||!p)return null;const m=o?p.find(C=>C.id===o):p[0],y=m?m.x+m.width/2:(l.width??0)/2,w=m?m.y+m.height/2:l.height??0,g=(((b=l.positionAbsolute)==null?void 0:b.x)??0)+y,f=(((x=l.positionAbsolute)==null?void 0:x.y)??0)+w,d=m==null?void 0:m.position,_=d?IR[d]:null;if(!d||!_)return null;if(i)return Q.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:l,fromHandle:m,fromX:g,fromY:f,toX:a,toY:c,fromPosition:d,toPosition:_,connectionStatus:s});let v="";const S={sourceX:g,sourceY:f,sourcePosition:d,targetX:a,targetY:c,targetPosition:_};return r===Br.Bezier?[v]=rS(S):r===Br.Step?[v]=_d({...S,borderRadius:0}):r===Br.SmoothStep?[v]=_d(S):r===Br.SimpleBezier?[v]=nS(S):v=`M${g},${f} ${a},${c}`,Q.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};NS.displayName="ConnectionLine";const MR=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function OR({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:l,width:o,height:a,connectionStatus:c}=$e(MR,yt);return!(i&&s&&o&&l)?null:Q.createElement("svg",{style:e,width:o,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},Q.createElement("g",{className:bt(["react-flow__connection",c])},Q.createElement(NS,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:c})))}function W_(e,t){return j.useRef(null),pt(),j.useMemo(()=>t(e),[e])}const IS=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:l,onEdgeClick:o,onNodeDoubleClick:a,onEdgeDoubleClick:c,onNodeMouseEnter:h,onNodeMouseMove:u,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:w,onSelectionEnd:g,connectionLineType:f,connectionLineStyle:d,connectionLineComponent:_,connectionLineContainerStyle:v,selectionKeyCode:S,selectionOnDrag:k,selectionMode:b,multiSelectionKeyCode:x,panActivationKeyCode:C,zoomActivationKeyCode:A,deleteKeyCode:N,onlyRenderVisibleElements:I,elementsSelectable:F,selectNodesOnDrag:D,defaultViewport:B,translateExtent:z,minZoom:H,maxZoom:L,preventScrolling:R,defaultMarkerColor:E,zoomOnScroll:M,zoomOnPinch:U,panOnScroll:O,panOnScrollSpeed:Y,panOnScrollMode:K,zoomOnDoubleClick:ee,panOnDrag:P,onPaneClick:W,onPaneMouseEnter:G,onPaneMouseMove:q,onPaneMouseLeave:ce,onPaneScroll:ne,onPaneContextMenu:de,onEdgeContextMenu:we,onEdgeMouseEnter:ye,onEdgeMouseMove:Re,onEdgeMouseLeave:oe,onReconnect:le,onReconnectStart:Ne,onReconnectEnd:Ue,reconnectRadius:at,noDragClassName:tt,noWheelClassName:Ae,noPanClassName:Fe,elevateEdgesOnSelect:Oe,disableKeyboardA11y:Z,nodeOrigin:J,nodeExtent:ae,rfId:_e})=>{const $=W_(e,cR),X=W_(t,gR);return NR(s),Q.createElement(lR,{onPaneClick:W,onPaneMouseEnter:G,onPaneMouseMove:q,onPaneMouseLeave:ce,onPaneContextMenu:de,onPaneScroll:ne,deleteKeyCode:N,selectionKeyCode:S,selectionOnDrag:k,selectionMode:b,onSelectionStart:w,onSelectionEnd:g,multiSelectionKeyCode:x,panActivationKeyCode:C,zoomActivationKeyCode:A,elementsSelectable:F,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:M,zoomOnPinch:U,zoomOnDoubleClick:ee,panOnScroll:O,panOnScrollSpeed:Y,panOnScrollMode:K,panOnDrag:P,defaultViewport:B,translateExtent:z,minZoom:H,maxZoom:L,onSelectionContextMenu:y,preventScrolling:R,noDragClassName:tt,noWheelClassName:Ae,noPanClassName:Fe,disableKeyboardA11y:Z},Q.createElement(RR,null,Q.createElement(DR,{edgeTypes:X,onEdgeClick:o,onEdgeDoubleClick:c,onlyRenderVisibleElements:I,onEdgeContextMenu:we,onEdgeMouseEnter:ye,onEdgeMouseMove:Re,onEdgeMouseLeave:oe,onReconnect:le,onReconnectStart:Ne,onReconnectEnd:Ue,reconnectRadius:at,defaultMarkerColor:E,noPanClassName:Fe,elevateEdgesOnSelect:!!Oe,disableKeyboardA11y:Z,rfId:_e},Q.createElement(OR,{style:d,type:f,component:_,containerStyle:v})),Q.createElement("div",{className:"react-flow__edgelabel-renderer"}),Q.createElement(fR,{nodeTypes:$,onNodeClick:l,onNodeDoubleClick:a,onNodeMouseEnter:h,onNodeMouseMove:u,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:D,onlyRenderVisibleElements:I,noPanClassName:Fe,noDragClassName:tt,disableKeyboardA11y:Z,nodeOrigin:J,nodeExtent:ae,rfId:_e})))};IS.displayName="GraphView";var PR=j.memo(IS);const xd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Tr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:xd,nodeExtent:xd,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ri.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:cL,isValidConnection:void 0},BR=()=>b2((e,t)=>({...Tr,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:bh(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",l=i?bh(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:l,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:l,fitViewOnInitOptions:o,domNode:a,nodeOrigin:c}=t(),h=a==null?void 0:a.querySelector(".react-flow__viewport");if(!h)return;const u=window.getComputedStyle(h),{m22:p}=new window.DOMMatrixReadOnly(u.transform),m=n.reduce((w,g)=>{const f=i.get(g.id);if(f!=null&&f.hidden)i.set(f.id,{...f,[et]:{...f[et],handleBounds:void 0}});else if(f){const d=em(g.nodeElement);!!(d.width&&d.height&&(f.width!==d.width||f.height!==d.height||g.forceUpdate))&&(i.set(f.id,{...f,[et]:{...f[et],handleBounds:{source:B_(".source",g.nodeElement,p,c),target:B_(".target",g.nodeElement,p,c)}},...d}),w.push({id:f.id,type:"dimensions",dimensions:d}))}return w},[]);SS(i,c);const y=l||s&&!l&&xS(t,{initial:!0,...o});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),l=n.map(o=>{const a={id:o.id,type:"position",dragging:i};return r&&(a.positionAbsolute=o.positionAbsolute,a.position=o.position),a});s(l)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:l,getNodes:o,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(s){const c=QL(n,o()),h=bh(c,i,l,a);e({nodeInternals:h})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let l,o=null;r?l=n.map(a=>Mr(a,!0)):(l=fs(s(),n),o=fs(i,[])),Oa({changedNodes:l,changedEdges:o,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let l,o=null;r?l=n.map(a=>Mr(a,!0)):(l=fs(i,n),o=fs(s(),[])),Oa({changedNodes:o,changedEdges:l,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),l=n||s(),o=r||i,a=l.map(h=>(h.selected=!1,Mr(h.id,!1))),c=o.map(h=>Mr(h.id,!1));Oa({changedNodes:a,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(o=>o.selected).map(o=>Mr(o.id,!1)),l=n.filter(o=>o.selected).map(o=>Mr(o.id,!1));Oa({changedNodes:s,changedEdges:l,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=tm(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:l,d3Selection:o,translateExtent:a}=t();if(!l||!o||!n.x&&!n.y)return!1;const c=pr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),h=[[0,0],[i,s]],u=l==null?void 0:l.constrain()(c,h,a);return l.transform(o,u),r[0]!==u.x||r[1]!==u.y||r[2]!==u.k},cancelConnection:()=>e({connectionNodeId:Tr.connectionNodeId,connectionHandleId:Tr.connectionHandleId,connectionHandleType:Tr.connectionHandleType,connectionStatus:Tr.connectionStatus,connectionStartHandle:Tr.connectionStartHandle,connectionEndHandle:Tr.connectionEndHandle}),reset:()=>e({...Tr})}),Object.is),MS=({children:e})=>{const t=j.useRef(null);return t.current||(t.current=BR()),Q.createElement(nL,{value:t.current},e)};MS.displayName="ReactFlowProvider";const OS=({children:e})=>j.useContext(Eu)?Q.createElement(Q.Fragment,null,e):Q.createElement(MS,null,e);OS.displayName="ReactFlowWrapper";const FR={input:pS,default:wd,output:gS,group:lm},zR={default:Kc,straight:im,step:rm,smoothstep:Au,simplebezier:nm},jR=[0,0],HR=[15,15],$R={x:0,y:0,zoom:1},UR={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},PS=j.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=FR,edgeTypes:l=zR,onNodeClick:o,onEdgeClick:a,onInit:c,onMove:h,onMoveStart:u,onMoveEnd:p,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:g,onClickConnectEnd:f,onNodeMouseEnter:d,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:k,onNodeDragStart:b,onNodeDrag:x,onNodeDragStop:C,onNodesDelete:A,onEdgesDelete:N,onSelectionChange:I,onSelectionDragStart:F,onSelectionDrag:D,onSelectionDragStop:B,onSelectionContextMenu:z,onSelectionStart:H,onSelectionEnd:L,connectionMode:R=ri.Strict,connectionLineType:E=Br.Bezier,connectionLineStyle:M,connectionLineComponent:U,connectionLineContainerStyle:O,deleteKeyCode:Y="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:ee=!1,selectionMode:P=_l.Full,panActivationKeyCode:W="Space",multiSelectionKeyCode:G=Vc()?"Meta":"Control",zoomActivationKeyCode:q=Vc()?"Meta":"Control",snapToGrid:ce=!1,snapGrid:ne=HR,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:we=!0,nodesDraggable:ye,nodesConnectable:Re,nodesFocusable:oe,nodeOrigin:le=jR,edgesFocusable:Ne,edgesUpdatable:Ue,elementsSelectable:at,defaultViewport:tt=$R,minZoom:Ae=.5,maxZoom:Fe=2,translateExtent:Oe=xd,preventScrolling:Z=!0,nodeExtent:J,defaultMarkerColor:ae="#b1b1b7",zoomOnScroll:_e=!0,zoomOnPinch:$=!0,panOnScroll:X=!1,panOnScrollSpeed:te=.5,panOnScrollMode:fe=yi.Free,zoomOnDoubleClick:qe=!0,panOnDrag:Ie=!0,onPaneClick:Te,onPaneMouseEnter:nt,onPaneMouseMove:ct,onPaneMouseLeave:Zs,onPaneScroll:Hn,onPaneContextMenu:br,children:Zl,onEdgeContextMenu:en,onEdgeDoubleClick:zu,onEdgeMouseEnter:ju,onEdgeMouseMove:rt,onEdgeMouseLeave:Cr,onEdgeUpdate:Hu,onEdgeUpdateStart:Ql,onEdgeUpdateEnd:Qs,onReconnect:Jl,onReconnectStart:ea,onReconnectEnd:$u,reconnectRadius:dn=10,edgeUpdaterRadius:rr=10,onNodesChange:ta,onEdgesChange:na,noDragClassName:Js="nodrag",noWheelClassName:ra="nowheel",noPanClassName:pn="nopan",fitView:ia=!1,fitViewOptions:sa,connectOnClick:oa=!0,attributionPosition:la,proOptions:Uu,defaultEdgeOptions:pe,elevateNodesOnSelect:V=!0,elevateEdgesOnSelect:ie=!1,disableKeyboardA11y:he=!1,autoPanOnConnect:ze=!0,autoPanOnNodeDrag:mt=!0,connectionRadius:Qe=20,isValidConnection:Ct,onError:An,style:Er,id:$i,nodeDragThreshold:ut,...aa},ca)=>{const Wu=$i||"1";return Q.createElement("div",{...aa,style:{...Er,...UR},ref:ca,className:bt(["react-flow",i]),"data-testid":"rf__wrapper",id:$i},Q.createElement(OS,null,Q.createElement(PR,{onInit:c,onMove:h,onMoveStart:u,onMoveEnd:p,onNodeClick:o,onEdgeClick:a,onNodeMouseEnter:d,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:k,nodeTypes:s,edgeTypes:l,connectionLineType:E,connectionLineStyle:M,connectionLineComponent:U,connectionLineContainerStyle:O,selectionKeyCode:K,selectionOnDrag:ee,selectionMode:P,deleteKeyCode:Y,multiSelectionKeyCode:G,panActivationKeyCode:W,zoomActivationKeyCode:q,onlyRenderVisibleElements:de,selectNodesOnDrag:we,defaultViewport:tt,translateExtent:Oe,minZoom:Ae,maxZoom:Fe,preventScrolling:Z,zoomOnScroll:_e,zoomOnPinch:$,zoomOnDoubleClick:qe,panOnScroll:X,panOnScrollSpeed:te,panOnScrollMode:fe,panOnDrag:Ie,onPaneClick:Te,onPaneMouseEnter:nt,onPaneMouseMove:ct,onPaneMouseLeave:Zs,onPaneScroll:Hn,onPaneContextMenu:br,onSelectionContextMenu:z,onSelectionStart:H,onSelectionEnd:L,onEdgeContextMenu:en,onEdgeDoubleClick:zu,onEdgeMouseEnter:ju,onEdgeMouseMove:rt,onEdgeMouseLeave:Cr,onReconnect:Jl??Hu,onReconnectStart:ea??Ql,onReconnectEnd:$u??Qs,reconnectRadius:dn??rr,defaultMarkerColor:ae,noDragClassName:Js,noWheelClassName:ra,noPanClassName:pn,elevateEdgesOnSelect:ie,rfId:Wu,disableKeyboardA11y:he,nodeOrigin:le,nodeExtent:J}),Q.createElement(NL,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:w,onClickConnectStart:g,onClickConnectEnd:f,nodesDraggable:ye,nodesConnectable:Re,nodesFocusable:oe,edgesFocusable:Ne,edgesUpdatable:Ue,elementsSelectable:at,elevateNodesOnSelect:V,minZoom:Ae,maxZoom:Fe,nodeExtent:J,onNodesChange:ta,onEdgesChange:na,snapToGrid:ce,snapGrid:ne,connectionMode:R,translateExtent:Oe,connectOnClick:oa,defaultEdgeOptions:pe,fitView:ia,fitViewOptions:sa,onNodesDelete:A,onEdgesDelete:N,onNodeDragStart:b,onNodeDrag:x,onNodeDragStop:C,onSelectionDrag:D,onSelectionDragStart:F,onSelectionDragStop:B,noPanClassName:pn,nodeOrigin:le,rfId:Wu,autoPanOnConnect:ze,autoPanOnNodeDrag:mt,onError:An,connectionRadius:Qe,isValidConnection:Ct,nodeDragThreshold:ut}),Q.createElement(LL,{onSelectionChange:I}),Zl,Q.createElement(iL,{proOptions:Uu,position:la}),Q.createElement(BL,{rfId:Wu,disableKeyboardA11y:he})))});PS.displayName="ReactFlow";const BS=({id:e,x:t,y:n,width:r,height:i,style:s,color:l,strokeColor:o,strokeWidth:a,className:c,borderRadius:h,shapeRendering:u,onClick:p,selected:m})=>{const{background:y,backgroundColor:w}=s||{},g=l||y||w;return Q.createElement("rect",{className:bt(["react-flow__minimap-node",{selected:m},c]),x:t,y:n,rx:h,ry:h,width:r,height:i,fill:g,stroke:o,strokeWidth:a,shapeRendering:u,onClick:p?f=>p(f,e):void 0})};BS.displayName="MiniMapNode";var WR=j.memo(BS);const VR=e=>e.nodeOrigin,KR=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Th=e=>e instanceof Function?e:()=>e;function YR({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=WR,onClick:l}){const o=$e(KR,yt),a=$e(VR),c=Th(t),h=Th(e),u=Th(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Q.createElement(Q.Fragment,null,o.map(m=>{const{x:y,y:w}=Ei(m,a).positionAbsolute;return Q.createElement(s,{key:m.id,x:y,y:w,width:m.width,height:m.height,style:m.style,selected:m.selected,className:u(m),color:c(m),borderRadius:r,strokeColor:h(m),strokeWidth:i,shapeRendering:p,onClick:l,id:m.id})}))}var qR=j.memo(YR);const GR=200,XR=150,ZR=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?lL(Tu(t,e.nodeOrigin),n):n,rfId:e.rfId}},QR="react-flow__minimap-desc";function FS({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l=2,nodeComponent:o,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:h=1,position:u="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:w=!1,ariaLabel:g="React Flow mini map",inversePan:f=!1,zoomStep:d=10,offsetScale:_=5}){const v=pt(),S=j.useRef(null),{boundingRect:k,viewBB:b,rfId:x}=$e(ZR,yt),C=(e==null?void 0:e.width)??GR,A=(e==null?void 0:e.height)??XR,N=k.width/C,I=k.height/A,F=Math.max(N,I),D=F*C,B=F*A,z=_*F,H=k.x-(D-k.width)/2-z,L=k.y-(B-k.height)/2-z,R=D+z*2,E=B+z*2,M=`${QR}-${x}`,U=j.useRef(0);U.current=F,j.useEffect(()=>{if(S.current){const K=vn(S.current),ee=G=>{const{transform:q,d3Selection:ce,d3Zoom:ne}=v.getState();if(G.sourceEvent.type!=="wheel"||!ce||!ne)return;const de=-G.sourceEvent.deltaY*(G.sourceEvent.deltaMode===1?.05:G.sourceEvent.deltaMode?1:.002)*d,we=q[2]*Math.pow(2,de);ne.scaleTo(ce,we)},P=G=>{const{transform:q,d3Selection:ce,d3Zoom:ne,translateExtent:de,width:we,height:ye}=v.getState();if(G.sourceEvent.type!=="mousemove"||!ce||!ne)return;const Re=U.current*Math.max(1,q[2])*(f?-1:1),oe={x:q[0]-G.sourceEvent.movementX*Re,y:q[1]-G.sourceEvent.movementY*Re},le=[[0,0],[we,ye]],Ne=pr.translate(oe.x,oe.y).scale(q[2]),Ue=ne.constrain()(Ne,le,de);ne.transform(ce,Ue)},W=Kw().on("zoom",y?P:null).on("zoom.wheel",w?ee:null);return K.call(W),()=>{K.on("zoom",null)}}},[y,w,f,d]);const O=p?K=>{const ee=Nn(K);p(K,{x:ee[0],y:ee[1]})}:void 0,Y=m?(K,ee)=>{const P=v.getState().nodeInternals.get(ee);m(K,P)}:void 0;return Q.createElement(Jp,{position:u,style:e,className:bt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},Q.createElement("svg",{width:C,height:A,viewBox:`${H} ${L} ${R} ${E}`,role:"img","aria-labelledby":M,ref:S,onClick:O},g&&Q.createElement("title",{id:M},g),Q.createElement(qR,{onClick:Y,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:o}),Q.createElement("path",{className:"react-flow__minimap-mask",d:`M${H-z},${L-z}h${R+z*2}v${E+z*2}h${-R-z*2}z
        M${b.x},${b.y}h${b.width}v${b.height}h${-b.width}z`,fill:a,fillRule:"evenodd",stroke:c,strokeWidth:h,pointerEvents:"none"})))}FS.displayName="MiniMap";var JR=j.memo(FS);function e3(){return Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Q.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function t3(){return Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Q.createElement("path",{d:"M0 0h32v4.2H0z"}))}function n3(){return Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Q.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function r3(){return Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function i3(){return Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Do=({children:e,className:t,...n})=>Q.createElement("button",{type:"button",className:bt(["react-flow__controls-button",t]),...n},e);Do.displayName="ControlButton";const s3=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),zS=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:o,onInteractiveChange:a,className:c,children:h,position:u="bottom-left"})=>{const p=pt(),[m,y]=j.useState(!1),{isInteractive:w,minZoomReached:g,maxZoomReached:f}=$e(s3,yt),{zoomIn:d,zoomOut:_,fitView:v}=am();if(j.useEffect(()=>{y(!0)},[]),!m)return null;const S=()=>{d(),s==null||s()},k=()=>{_(),l==null||l()},b=()=>{v(i),o==null||o()},x=()=>{p.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),a==null||a(!w)};return Q.createElement(Jp,{className:bt(["react-flow__controls",c]),position:u,style:e,"data-testid":"rf__controls"},t&&Q.createElement(Q.Fragment,null,Q.createElement(Do,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:f},Q.createElement(e3,null)),Q.createElement(Do,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:g},Q.createElement(t3,null))),n&&Q.createElement(Do,{className:"react-flow__controls-fitview",onClick:b,title:"fit view","aria-label":"fit view"},Q.createElement(n3,null)),r&&Q.createElement(Do,{className:"react-flow__controls-interactive",onClick:x,title:"toggle interactivity","aria-label":"toggle interactivity"},w?Q.createElement(i3,null):Q.createElement(r3,null)),h)};zS.displayName="Controls";var o3=j.memo(zS),Bn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Bn||(Bn={}));function l3({color:e,dimensions:t,lineWidth:n}){return Q.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function a3({color:e,radius:t}){return Q.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const c3={[Bn.Dots]:"#91919a",[Bn.Lines]:"#eee",[Bn.Cross]:"#e2e2e2"},u3={[Bn.Dots]:1,[Bn.Lines]:1,[Bn.Cross]:6},h3=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function jS({id:e,variant:t=Bn.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:l,style:o,className:a}){const c=j.useRef(null),{transform:h,patternId:u}=$e(h3,yt),p=l||c3[t],m=r||u3[t],y=t===Bn.Dots,w=t===Bn.Cross,g=Array.isArray(n)?n:[n,n],f=[g[0]*h[2]||1,g[1]*h[2]||1],d=m*h[2],_=w?[d,d]:f,v=y?[d/s,d/s]:[_[0]/s,_[1]/s];return Q.createElement("svg",{className:bt(["react-flow__background",a]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},Q.createElement("pattern",{id:u+e,x:h[0]%f[0],y:h[1]%f[1],width:f[0],height:f[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},y?Q.createElement(a3,{color:p,radius:d/s}):Q.createElement(l3,{dimensions:_,color:p,lineWidth:i})),Q.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${u+e})`}))}jS.displayName="Background";var f3=j.memo(jS);const HS=j.memo(({data:e})=>{const{agent:t,isHighlighted:n,onClick:r}=e,i=l=>{switch(l){case"running":return"status-running";case"completed":return"status-completed";case"failed":return"status-failed";default:return"status-pending"}},s=l=>{switch(l){case"running":return"";case"completed":return"";case"failed":return"";default:return""}};return T.jsxs("div",{className:`agent-node ${i(t.status)} ${n?"highlighted":""}`,onClick:r,children:[T.jsx(Bs,{type:"target",position:ge.Left,className:"agent-handle"}),T.jsxs("div",{className:"agent-node-header",children:[T.jsx("span",{className:"agent-status-icon",children:s(t.status)}),T.jsx("span",{className:"agent-name",children:t.name})]}),T.jsxs("div",{className:"agent-node-body",children:[T.jsxs("div",{className:"agent-workdir",children:[" ",t.workDir]}),t.tasks&&t.tasks.length>0&&T.jsxs("div",{className:"agent-tasks",children:[t.tasks.slice(0,2).map((l,o)=>T.jsxs("div",{className:"agent-task",children:[" ",l]},o)),t.tasks.length>2&&T.jsxs("div",{className:"agent-task more",children:["+",t.tasks.length-2," more"]})]})]}),T.jsx(Bs,{type:"source",position:ge.Right,className:"agent-handle"})]})});HS.displayName="AgentNode";const d3={agent:HS};function p3({agents:e,dependencies:t,highlightedAgent:n,onAgentClick:r,readonly:i=!0}){const s=j.useMemo(()=>{const a=m3(e,t),c={};return e.map(h=>{const u=a[h.id]||0;c[u]=(c[u]||0)+1;const p=c[u]-1;return{id:h.id,type:"agent",position:{x:u*250+50,y:p*150+50},data:{agent:h,isHighlighted:n===h.id,onClick:()=>r==null?void 0:r(h.id)},draggable:!1}})},[e,t,n,r]),l=j.useMemo(()=>t.map((a,c)=>({id:`edge-${c}`,source:a.from,target:a.to,type:"smoothstep",animated:!0,markerEnd:{type:vl.ArrowClosed,width:20,height:20,color:"#3d5a80"},style:{strokeWidth:2,stroke:"#3d5a80"}})),[t]),o=j.useCallback((a,c)=>{r==null||r(c.id)},[r]);return e.length===0?T.jsx("div",{className:"flow-graph empty",children:T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-icon",children:""}),T.jsx("p",{children:" Agent "}),T.jsx("p",{className:"hint",children:"  Agent "})]})}):T.jsxs("div",{className:"flow-graph",children:[T.jsxs(PS,{nodes:s,edges:l,nodeTypes:d3,onNodeClick:o,connectionMode:ri.Loose,fitView:!0,fitViewOptions:{padding:.2},nodesDraggable:!i,nodesConnectable:!i,elementsSelectable:!i,panOnDrag:!0,zoomOnScroll:!0,preventScrolling:!0,children:[T.jsx(f3,{color:"#0f3460",gap:20}),T.jsx(o3,{showInteractive:!1}),T.jsx(JR,{nodeColor:a=>{var h,u;switch((u=(h=a.data)==null?void 0:h.agent)==null?void 0:u.status){case"running":return"#e76f51";case"completed":return"#52b788";case"failed":return"#d62839";default:return"#3d5a80"}},maskColor:"rgba(0, 0, 0, 0.8)",style:{background:"#1a1a2e"}})]}),T.jsx(g3,{})]})}function m3(e,t){const n={},r={},i={};e.forEach(l=>{n[l.id]=0,r[l.id]=0,i[l.id]=[]}),t.forEach(l=>{i[l.from]&&i[l.from].push(l.to),r[l.to]!==void 0&&r[l.to]++});const s=e.filter(l=>r[l.id]===0).map(l=>l.id);for(;s.length>0;){const l=s.shift();(i[l]||[]).forEach(a=>{n[a]=Math.max(n[a],n[l]+1),r[a]--,r[a]===0&&s.push(a)})}return n}function g3(){return T.jsxs("div",{className:"graph-legend",children:[T.jsxs("div",{className:"legend-item",children:[T.jsx("span",{className:"legend-dot pending"}),T.jsx("span",{children:""})]}),T.jsxs("div",{className:"legend-item",children:[T.jsx("span",{className:"legend-dot running"}),T.jsx("span",{children:" "})]}),T.jsxs("div",{className:"legend-item",children:[T.jsx("span",{className:"legend-dot completed"}),T.jsx("span",{children:""})]}),T.jsxs("div",{className:"legend-item",children:[T.jsx("span",{className:"legend-dot failed"}),T.jsx("span",{children:""})]})]})}function _3({decisions:e,onRespond:t}){const[n,r]=j.useState({}),[i,s]=j.useState(new Set),l=j.useCallback((h,u)=>{r(p=>({...p,[h]:u}))},[]),o=j.useCallback(h=>{const u=n[h];u!=null&&u.trim()&&(s(p=>new Set(p).add(h)),t(h,u),setTimeout(()=>{s(p=>{const m=new Set(p);return m.delete(h),m}),r(p=>{const m={...p};return delete m[h],m})},500))},[n,t]),a=j.useCallback((h,u)=>{s(p=>new Set(p).add(h)),t(h,u),setTimeout(()=>{s(p=>{const m=new Set(p);return m.delete(h),m})},500)},[t]),c=j.useCallback((h,u)=>{s(p=>new Set(p).add(h)),t(h,u?"yes":"no"),setTimeout(()=>{s(p=>{const m=new Set(p);return m.delete(h),m})},500)},[t]);return e.length===0?null:T.jsxs("div",{className:"decision-panel",children:[T.jsxs("div",{className:"decision-header",children:[T.jsx("span",{className:"decision-icon",children:""}),T.jsxs("h3",{children:["  (",e.length,")"]})]}),T.jsx("div",{className:"decision-list",children:e.map(h=>{var u;return T.jsxs("div",{className:`decision-card ${i.has(h.id)?"submitting":""}`,children:[T.jsxs("div",{className:"decision-meta",children:[T.jsx("span",{className:"agent-badge",children:h.agentId}),T.jsx("span",{className:"decision-time",children:new Date(h.timestamp).toLocaleTimeString()})]}),T.jsx("h4",{className:"decision-title",children:h.title}),T.jsx("p",{className:"decision-desc",children:h.description}),h.decisionType==="choice"&&h.options&&T.jsx("div",{className:"decision-options",children:h.options.map((p,m)=>T.jsx("button",{className:"option-btn",onClick:()=>a(h.id,p),disabled:i.has(h.id),children:p},m))}),h.decisionType==="input"&&T.jsxs("div",{className:"decision-input",children:[T.jsx("input",{type:"text",placeholder:" ...",value:n[h.id]||"",onChange:p=>l(h.id,p.target.value),onKeyDown:p=>{p.key==="Enter"&&o(h.id)},disabled:i.has(h.id)}),T.jsx("button",{className:"submit-btn",onClick:()=>o(h.id),disabled:!((u=n[h.id])!=null&&u.trim())||i.has(h.id),children:""})]}),h.decisionType==="confirm"&&T.jsxs("div",{className:"decision-confirm",children:[T.jsx("button",{className:"confirm-btn yes",onClick:()=>c(h.id,!0),disabled:i.has(h.id),children:""}),T.jsx("button",{className:"confirm-btn no",onClick:()=>c(h.id,!1),disabled:i.has(h.id),children:""})]})]},h.id)})})]})}const Dr=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],v3=/(https?:\/\/(?:[A-Za-z0-9#;/?:@=+$',_.!~*()[\]-]|&amp;|%[A-Fa-f0-9]{2})+)/gm;class di{static escapeForHtml(t){return new di().escapeForHtml(t)}static linkify(t){return new di().linkify(t)}static ansiToHtml(t,n){return new di().ansiToHtml(t,n)}static ansiToJson(t,n){return new di().ansiToJson(t,n)}static ansiToText(t){return new di().ansiToText(t)}constructor(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}setupPalette(){this.PALETTE_COLORS=[];for(let i=0;i<2;++i)for(let s=0;s<8;++s)this.PALETTE_COLORS.push(Dr[i][s].color);let t=[0,95,135,175,215,255],n=(i,s,l)=>t[i]+", "+t[s]+", "+t[l];for(let i=0;i<6;++i)for(let s=0;s<6;++s)for(let l=0;l<6;++l)this.PALETTE_COLORS.push(n(i,s,l));let r=8;for(let i=0;i<24;++i,r+=10)this.PALETTE_COLORS.push(r+", "+r+", "+r)}escapeForHtml(t){return t.replace(/[&<>\"]/gm,n=>n=="&"?"&amp;":n=='"'?"&quot;":n=="<"?"&lt;":n==">"?"&gt;":"")}linkify(t){return t.replace(v3,n=>`<a href="${n}">${n}</a>`)}ansiToHtml(t,n){return this.process(t,n,!0)}ansiToJson(t,n){return n=n||{},n.json=!0,n.clearLine=!1,this.process(t,n,!0)}ansiToText(t){return this.process(t,{},!1)}process(t,n,r){let i=this,s=t.split(/\033\[/),l=s.shift();n==null&&(n={}),n.clearLine=/\r/.test(t);let o=s.map(a=>this.processChunk(a,n,r));if(n&&n.json){let a=i.processChunkJson("");return a.content=l,a.clearLine=n.clearLine,o.unshift(a),n.remove_empty&&(o=o.filter(c=>!c.isEmpty())),o}else o.unshift(l);return o.join("")}processChunkJson(t,n,r){n=typeof n>"u"?{}:n;let i=n.use_classes=typeof n.use_classes<"u"&&n.use_classes,s=n.key=i?"class":"color",l={content:t,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:n.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:()=>!l.content},o=t.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!o)return l;l.content=o[4];let a=o[2].split(";");if(o[1]!==""||o[3]!=="m"||!r)return l;let c=this;for(;a.length>0;){let h=a.shift(),u=parseInt(h);if(isNaN(u)||u===0)c.fg=c.bg=null,c.decorations=[];else if(u===1)c.decorations.push("bold");else if(u===2)c.decorations.push("dim");else if(u===3)c.decorations.push("italic");else if(u===4)c.decorations.push("underline");else if(u===5)c.decorations.push("blink");else if(u===7)c.decorations.push("reverse");else if(u===8)c.decorations.push("hidden");else if(u===9)c.decorations.push("strikethrough");else if(u===21)c.removeDecoration("bold");else if(u===22)c.removeDecoration("bold"),c.removeDecoration("dim");else if(u===23)c.removeDecoration("italic");else if(u===24)c.removeDecoration("underline");else if(u===25)c.removeDecoration("blink");else if(u===27)c.removeDecoration("reverse");else if(u===28)c.removeDecoration("hidden");else if(u===29)c.removeDecoration("strikethrough");else if(u===39)c.fg=null;else if(u===49)c.bg=null;else if(u>=30&&u<38)c.fg=Dr[0][u%10][s];else if(u>=90&&u<98)c.fg=Dr[1][u%10][s];else if(u>=40&&u<48)c.bg=Dr[0][u%10][s];else if(u>=100&&u<108)c.bg=Dr[1][u%10][s];else if(u===38||u===48){let p=u===38;if(a.length>=1){let m=a.shift();if(m==="5"&&a.length>=1){let y=parseInt(a.shift());if(y>=0&&y<=255)if(!i)this.PALETTE_COLORS||c.setupPalette(),p?c.fg=this.PALETTE_COLORS[y]:c.bg=this.PALETTE_COLORS[y];else{let w=y>=16?"ansi-palette-"+y:Dr[y>7?1:0][y%8].class;p?c.fg=w:c.bg=w}}else if(m==="2"&&a.length>=3){let y=parseInt(a.shift()),w=parseInt(a.shift()),g=parseInt(a.shift());if(y>=0&&y<=255&&w>=0&&w<=255&&g>=0&&g<=255){let f=y+", "+w+", "+g;i?p?(c.fg="ansi-truecolor",c.fg_truecolor=f):(c.bg="ansi-truecolor",c.bg_truecolor=f):p?c.fg=f:c.bg=f}}}}}return c.fg===null&&c.bg===null&&c.decorations.length===0||(l.fg=c.fg,l.bg=c.bg,l.fg_truecolor=c.fg_truecolor,l.bg_truecolor=c.bg_truecolor,l.decorations=c.decorations,l.decoration=c.decorations.slice(-1).pop()||null,l.was_processed=!0),l}processChunk(t,n,r){n=n||{};let i=this.processChunkJson(t,n,r),s=n.use_classes;if(i.decorations=i.decorations.filter(u=>{if(u==="reverse"){i.fg||(i.fg=Dr[0][7][s?"class":"color"]),i.bg||(i.bg=Dr[0][0][s?"class":"color"]);let p=i.fg;i.fg=i.bg,i.bg=p;let m=i.fg_truecolor;return i.fg_truecolor=i.bg_truecolor,i.bg_truecolor=m,i.isInverted=!0,!1}return!0}),n.json)return i;if(i.isEmpty())return"";if(!i.was_processed)return i.content;let l=[],o=[],a=[],c={},h=u=>{let p=[],m;for(m in u)u.hasOwnProperty(m)&&p.push("data-"+m+'="'+this.escapeForHtml(u[m])+'"');return p.length>0?" "+p.join(" "):""};return i.isInverted&&(c["ansi-is-inverted"]="true"),i.fg&&(s?(l.push(i.fg+"-fg"),i.fg_truecolor!==null&&(c["ansi-truecolor-fg"]=i.fg_truecolor,i.fg_truecolor=null)):l.push("color:rgb("+i.fg+")")),i.bg&&(s?(l.push(i.bg+"-bg"),i.bg_truecolor!==null&&(c["ansi-truecolor-bg"]=i.bg_truecolor,i.bg_truecolor=null)):l.push("background-color:rgb("+i.bg+")")),i.decorations.forEach(u=>{if(s){o.push("ansi-"+u);return}u==="bold"?o.push("font-weight:bold"):u==="dim"?o.push("opacity:0.5"):u==="italic"?o.push("font-style:italic"):u==="hidden"?o.push("visibility:hidden"):u==="strikethrough"?a.push("line-through"):a.push(u)}),a.length&&o.push("text-decoration:"+a.join(" ")),s?'<span class="'+l.concat(o).join(" ")+'"'+h(c)+">"+i.content+"</span>":'<span style="'+l.concat(o).join(";")+'"'+h(c)+">"+i.content+"</span>"}removeDecoration(t){const n=this.decorations.indexOf(t);n>=0&&this.decorations.splice(n,1)}}var y3=di;const w3=Ml(y3),S3=window.location.hostname==="localhost"?"ws://localhost:8080/ws/workflow":`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/workflow`;function x3({projectId:e,token:t}){const[n,r]=j.useState(!1),[i,s]=j.useState(new Map),[l,o]=j.useState(null),[a,c]=j.useState([]),[h,u]=j.useState("split"),[p,m]=j.useState([]),[y,w]=j.useState([]),g=j.useRef(null),f=j.useRef(null),d=j.useRef(null);j.useEffect(()=>{const b=()=>{const x=`${S3}?token=${encodeURIComponent(t)}`,C=new WebSocket(x);g.current=C,C.onopen=()=>{console.log("[WorkflowDashboard] Connected"),r(!0),C.send(JSON.stringify({type:"watchWorkflow",projectId:e}))},C.onmessage=A=>{try{const N=JSON.parse(A.data);_(N)}catch(N){console.error("[WorkflowDashboard] Parse error:",N)}},C.onclose=()=>{console.log("[WorkflowDashboard] Disconnected"),r(!1),d.current=window.setTimeout(b,3e3)},C.onerror=A=>{console.error("[WorkflowDashboard] Error:",A)}};return b(),()=>{d.current&&clearTimeout(d.current),g.current&&g.current.close()}},[e,t]);const _=j.useCallback(b=>{const x=b.agentId;switch(b.type){case"workflowOutput":x&&b.diffs&&s(C=>{const A=new Map(C),I=[...(A.get(x)||{lines:[]}).lines];for(const F of b.diffs)if(F.action==="add"&&F.content!==void 0)I.push(F.content);else if(F.action==="modify"&&F.lineNum!==void 0&&F.content!==void 0){for(;I.length<=F.lineNum;)I.push("");I[F.lineNum]=F.content}for(;I.length>500;)I.shift();return A.set(x,{lines:I,lastUpdate:Date.now()}),!l&&A.size>0&&o(x),A});break;case"workflowSync":x&&b.diffs&&s(C=>{const A=new Map(C),N=b.diffs.map(I=>I.content||"");return A.set(x,{lines:N,lastUpdate:Date.now()}),A});break;case"workflowEvent":b.event==="agentStatus"&&x&&m(C=>C.find(N=>N.id===x)?C.map(N=>N.id===x?{...N,status:b.status}:N):[...C,{id:x,name:b.name||x,workDir:b.workDir||"",tasks:b.tasks||[],status:b.status||"pending"}]);break;case"workflowDecision":b.decision&&c(C=>[...C,{id:b.decision.id,projectId:b.projectId,agentId:b.agentId,decisionType:b.decision.type||"choice",title:b.decision.title,description:b.decision.description,options:b.decision.options,timestamp:Date.now()}]);break}},[l]),v=j.useCallback((b,x)=>{!g.current||g.current.readyState!==WebSocket.OPEN||(g.current.send(JSON.stringify({type:"workflowDecisionResponse",projectId:e,decisionId:b,response:x})),c(C=>C.filter(A=>A.id!==b)))},[e]);j.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[i,l]);const S=l?i.get(l):null,k=Array.from(i.keys());return j.useEffect(()=>{if(i.size>0){const b=Array.from(i.keys()),x=b[0],C=x.substring(0,x.lastIndexOf("_")+1),A=["pm","dev"],N=new Set(b);A.forEach(D=>{const B=C+D;N.add(B)});const I=Array.from(N).map(D=>{const B=D.split("_").pop()||D,z=i.has(D);return{id:D,name:B.toUpperCase(),workDir:"",tasks:[],status:z?"running":"pending"}});m(I);const F=I.find(D=>D.id.includes("_pm"));if(F){const D=I.filter(B=>B.id!==F.id).map(B=>({from:F.id,to:B.id}));w(D)}}},[i]),T.jsxs("div",{className:"workflow-dashboard",children:[T.jsxs("div",{className:"dashboard-header",children:[T.jsxs("div",{className:"header-left",children:[T.jsx("h2",{children:e}),T.jsx("span",{className:`connection-status ${n?"connected":"disconnected"}`,children:n?" ":"  ..."})]}),T.jsxs("div",{className:"view-mode-toggle",children:[T.jsx("button",{className:h==="split"?"active":"",onClick:()=>u("split"),title:"Split View",children:""}),T.jsx("button",{className:h==="terminal"?"active":"",onClick:()=>u("terminal"),title:"Terminal Only",children:""}),T.jsx("button",{className:h==="graph"?"active":"",onClick:()=>u("graph"),title:"Graph Only",children:""})]})]}),a.length>0&&T.jsx(_3,{decisions:a,onRespond:v}),T.jsxs("div",{className:`dashboard-content view-${h}`,children:[(h==="split"||h==="terminal")&&T.jsxs("div",{className:"terminal-panel",children:[T.jsxs("div",{className:"agent-tabs",children:[k.map(b=>{const x=i.get(b),C=b.split("_").pop()||b;return T.jsxs("button",{className:`agent-tab ${l===b?"active":""}`,onClick:()=>o(b),children:[T.jsx("span",{className:"tab-label",children:C}),T.jsxs("span",{className:"tab-lines",children:[(x==null?void 0:x.lines.length)||0," lines"]})]},b)}),k.length===0&&T.jsx("div",{className:"no-agents",children:"  ..."})]}),T.jsx("div",{className:"terminal-output",ref:f,children:S?S.lines.map((b,x)=>T.jsxs("div",{className:"output-line",children:[T.jsx("span",{className:"line-num",children:x+1}),T.jsx("span",{className:"line-content",dangerouslySetInnerHTML:{__html:w3.ansiToHtml(b,{use_classes:!1,fg:"#e8e6e3",bg:"#1e1e1e"})}})]},x)):T.jsxs("div",{className:"empty-terminal",children:[T.jsx("p",{children:"   "}),T.jsx("p",{className:"hint",children:"      "})]})})]}),(h==="split"||h==="graph")&&T.jsx("div",{className:"graph-panel",children:T.jsx(p3,{agents:p,dependencies:y,highlightedAgent:l||void 0,onAgentClick:b=>o(b)})})]})]})}/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function $S(e){return typeof e>"u"||e===null}function k3(e){return typeof e=="object"&&e!==null}function b3(e){return Array.isArray(e)?e:$S(e)?[]:[e]}function C3(e,t){var n,r,i,s;if(t)for(s=Object.keys(t),n=0,r=s.length;n<r;n+=1)i=s[n],e[i]=t[i];return e}function E3(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function A3(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var T3=$S,D3=k3,L3=b3,R3=E3,N3=A3,I3=C3,ft={isNothing:T3,isObject:D3,toArray:L3,repeat:R3,isNegativeZero:N3,extend:I3};function US(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function wl(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=US(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}wl.prototype=Object.create(Error.prototype);wl.prototype.constructor=wl;wl.prototype.toString=function(t){return this.name+": "+US(this,t)};var Vt=wl;function Dh(e,t,n,r,i){var s="",l="",o=Math.floor(i/2)-1;return r-t>o&&(s=" ... ",t=r-o+s.length),n-r>o&&(l=" ...",n=r+o-l.length),{str:s+e.slice(t,n).replace(/\t/g,"")+l,pos:r-t+s.length}}function Lh(e,t){return ft.repeat(" ",t-e.length)+e}function M3(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,l=-1;s=n.exec(e.buffer);)i.push(s.index),r.push(s.index+s[0].length),e.position<=s.index&&l<0&&(l=r.length-2);l<0&&(l=r.length-1);var o="",a,c,h=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+h+3);for(a=1;a<=t.linesBefore&&!(l-a<0);a++)c=Dh(e.buffer,r[l-a],i[l-a],e.position-(r[l]-r[l-a]),u),o=ft.repeat(" ",t.indent)+Lh((e.line-a+1).toString(),h)+" | "+c.str+`
`+o;for(c=Dh(e.buffer,r[l],i[l],e.position,u),o+=ft.repeat(" ",t.indent)+Lh((e.line+1).toString(),h)+" | "+c.str+`
`,o+=ft.repeat("-",t.indent+h+3+c.pos)+`^
`,a=1;a<=t.linesAfter&&!(l+a>=i.length);a++)c=Dh(e.buffer,r[l+a],i[l+a],e.position-(r[l]-r[l+a]),u),o+=ft.repeat(" ",t.indent)+Lh((e.line+a+1).toString(),h)+" | "+c.str+`
`;return o.replace(/\n$/,"")}var O3=M3,P3=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],B3=["scalar","sequence","mapping"];function F3(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function z3(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(P3.indexOf(n)===-1)throw new Vt('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=F3(t.styleAliases||null),B3.indexOf(this.kind)===-1)throw new Vt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Lt=z3;function V_(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(s,l){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=l)}),n[i]=r}),n}function j3(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function kd(e){return this.extend(e)}kd.prototype.extend=function(t){var n=[],r=[];if(t instanceof Lt)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Vt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Lt))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Vt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Vt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Lt))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(kd.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=V_(i,"implicit"),i.compiledExplicit=V_(i,"explicit"),i.compiledTypeMap=j3(i.compiledImplicit,i.compiledExplicit),i};var H3=kd,$3=new Lt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),U3=new Lt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),W3=new Lt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),V3=new H3({explicit:[$3,U3,W3]});function K3(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Y3(){return null}function q3(e){return e===null}var G3=new Lt("tag:yaml.org,2002:null",{kind:"scalar",resolve:K3,construct:Y3,predicate:q3,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function X3(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Z3(e){return e==="true"||e==="True"||e==="TRUE"}function Q3(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var J3=new Lt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:X3,construct:Z3,predicate:Q3,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function eN(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function tN(e){return 48<=e&&e<=55}function nN(e){return 48<=e&&e<=57}function rN(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!eN(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!tN(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!nN(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function iN(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function sN(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ft.isNegativeZero(e)}var oN=new Lt("tag:yaml.org,2002:int",{kind:"scalar",resolve:rN,construct:iN,predicate:sN,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),lN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function aN(e){return!(e===null||!lN.test(e)||e[e.length-1]==="_")}function cN(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var uN=/^[-+]?[0-9]+e/;function hN(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ft.isNegativeZero(e))return"-0.0";return n=e.toString(10),uN.test(n)?n.replace("e",".e"):n}function fN(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ft.isNegativeZero(e))}var dN=new Lt("tag:yaml.org,2002:float",{kind:"scalar",resolve:aN,construct:cN,predicate:fN,represent:hN,defaultStyle:"lowercase"}),pN=V3.extend({implicit:[G3,J3,oN,dN]}),mN=pN,WS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),VS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function gN(e){return e===null?!1:WS.exec(e)!==null||VS.exec(e)!==null}function _N(e){var t,n,r,i,s,l,o,a=0,c=null,h,u,p;if(t=WS.exec(e),t===null&&(t=VS.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(s=+t[4],l=+t[5],o=+t[6],t[7]){for(a=t[7].slice(0,3);a.length<3;)a+="0";a=+a}return t[9]&&(h=+t[10],u=+(t[11]||0),c=(h*60+u)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(n,r,i,s,l,o,a)),c&&p.setTime(p.getTime()-c),p}function vN(e){return e.toISOString()}var yN=new Lt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:gN,construct:_N,instanceOf:Date,represent:vN});function wN(e){return e==="<<"||e===null}var SN=new Lt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:wN}),um=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function xN(e){if(e===null)return!1;var t,n,r=0,i=e.length,s=um;for(n=0;n<i;n++)if(t=s.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function kN(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,s=um,l=0,o=[];for(t=0;t<i;t++)t%4===0&&t&&(o.push(l>>16&255),o.push(l>>8&255),o.push(l&255)),l=l<<6|s.indexOf(r.charAt(t));return n=i%4*6,n===0?(o.push(l>>16&255),o.push(l>>8&255),o.push(l&255)):n===18?(o.push(l>>10&255),o.push(l>>2&255)):n===12&&o.push(l>>4&255),new Uint8Array(o)}function bN(e){var t="",n=0,r,i,s=e.length,l=um;for(r=0;r<s;r++)r%3===0&&r&&(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]),n=(n<<8)+e[r];return i=s%3,i===0?(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]):i===2?(t+=l[n>>10&63],t+=l[n>>4&63],t+=l[n<<2&63],t+=l[64]):i===1&&(t+=l[n>>2&63],t+=l[n<<4&63],t+=l[64],t+=l[64]),t}function CN(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var EN=new Lt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:xN,construct:kN,predicate:CN,represent:bN}),AN=Object.prototype.hasOwnProperty,TN=Object.prototype.toString;function DN(e){if(e===null)return!0;var t=[],n,r,i,s,l,o=e;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],l=!1,TN.call(i)!=="[object Object]")return!1;for(s in i)if(AN.call(i,s))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function LN(e){return e!==null?e:[]}var RN=new Lt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:DN,construct:LN}),NN=Object.prototype.toString;function IN(e){if(e===null)return!0;var t,n,r,i,s,l=e;for(s=new Array(l.length),t=0,n=l.length;t<n;t+=1){if(r=l[t],NN.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[t]=[i[0],r[i[0]]]}return!0}function MN(e){if(e===null)return[];var t,n,r,i,s,l=e;for(s=new Array(l.length),t=0,n=l.length;t<n;t+=1)r=l[t],i=Object.keys(r),s[t]=[i[0],r[i[0]]];return s}var ON=new Lt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:IN,construct:MN}),PN=Object.prototype.hasOwnProperty;function BN(e){if(e===null)return!0;var t,n=e;for(t in n)if(PN.call(n,t)&&n[t]!==null)return!1;return!0}function FN(e){return e!==null?e:{}}var zN=new Lt("tag:yaml.org,2002:set",{kind:"mapping",resolve:BN,construct:FN}),KS=mN.extend({implicit:[yN,SN],explicit:[EN,RN,ON,zN]}),ii=Object.prototype.hasOwnProperty,Yc=1,YS=2,qS=3,qc=4,Rh=1,jN=2,K_=3,HN=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$N=/[\x85\u2028\u2029]/,UN=/[,\[\]\{\}]/,GS=/^(?:!|!!|![a-z\-]+!)$/i,XS=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Y_(e){return Object.prototype.toString.call(e)}function Qn(e){return e===10||e===13}function Ai(e){return e===9||e===32}function qt(e){return e===9||e===32||e===10||e===13}function ds(e){return e===44||e===91||e===93||e===123||e===125}function WN(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function VN(e){return e===120?2:e===117?4:e===85?8:0}function KN(e){return 48<=e&&e<=57?e-48:-1}function q_(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function YN(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function ZS(e,t,n){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}var QS=new Array(256),JS=new Array(256);for(var qi=0;qi<256;qi++)QS[qi]=q_(qi)?1:0,JS[qi]=q_(qi);function qN(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||KS,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ex(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=O3(n),new Vt(t,n)}function me(e,t){throw ex(e,t)}function Gc(e,t){e.onWarning&&e.onWarning.call(null,ex(e,t))}var G_={YAML:function(t,n,r){var i,s,l;t.version!==null&&me(t,"duplication of %YAML directive"),r.length!==1&&me(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&me(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),l=parseInt(i[2],10),s!==1&&me(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&Gc(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,s;r.length!==2&&me(t,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],GS.test(i)||me(t,"ill-formed tag handle (first argument) of the TAG directive"),ii.call(t.tagMap,i)&&me(t,'there is a previously declared suffix for "'+i+'" tag handle'),XS.test(s)||me(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{me(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Zr(e,t,n,r){var i,s,l,o;if(t<n){if(o=e.input.slice(t,n),r)for(i=0,s=o.length;i<s;i+=1)l=o.charCodeAt(i),l===9||32<=l&&l<=1114111||me(e,"expected valid JSON character");else HN.test(o)&&me(e,"the stream contains non-printable characters");e.result+=o}}function X_(e,t,n,r){var i,s,l,o;for(ft.isObject(n)||me(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),l=0,o=i.length;l<o;l+=1)s=i[l],ii.call(t,s)||(ZS(t,s,n[s]),r[s]=!0)}function ps(e,t,n,r,i,s,l,o,a){var c,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,h=i.length;c<h;c+=1)Array.isArray(i[c])&&me(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Y_(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Y_(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,h=s.length;c<h;c+=1)X_(e,t,s[c],n);else X_(e,t,s,n);else!e.json&&!ii.call(n,i)&&ii.call(t,i)&&(e.line=l||e.line,e.lineStart=o||e.lineStart,e.position=a||e.position,me(e,"duplicated mapping key")),ZS(t,i,s),delete n[i];return t}function hm(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):me(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function lt(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ai(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Qn(i))for(hm(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&Gc(e,"deficient indentation"),r}function Du(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||qt(n)))}function fm(e,t){t===1?e.result+=" ":t>1&&(e.result+=ft.repeat(`
`,t-1))}function GN(e,t,n){var r,i,s,l,o,a,c,h,u=e.kind,p=e.result,m;if(m=e.input.charCodeAt(e.position),qt(m)||ds(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),qt(i)||n&&ds(i)))return!1;for(e.kind="scalar",e.result="",s=l=e.position,o=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),qt(i)||n&&ds(i))break}else if(m===35){if(r=e.input.charCodeAt(e.position-1),qt(r))break}else{if(e.position===e.lineStart&&Du(e)||n&&ds(m))break;if(Qn(m))if(a=e.line,c=e.lineStart,h=e.lineIndent,lt(e,!1,-1),e.lineIndent>=t){o=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=a,e.lineStart=c,e.lineIndent=h;break}}o&&(Zr(e,s,l,!1),fm(e,e.line-a),s=l=e.position,o=!1),Ai(m)||(l=e.position+1),m=e.input.charCodeAt(++e.position)}return Zr(e,s,l,!1),e.result?!0:(e.kind=u,e.result=p,!1)}function XN(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Zr(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else Qn(n)?(Zr(e,r,i,!0),fm(e,lt(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Du(e)?me(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);me(e,"unexpected end of the stream within a single quoted scalar")}function ZN(e,t){var n,r,i,s,l,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return Zr(e,n,e.position,!0),e.position++,!0;if(o===92){if(Zr(e,n,e.position,!0),o=e.input.charCodeAt(++e.position),Qn(o))lt(e,!1,t);else if(o<256&&QS[o])e.result+=JS[o],e.position++;else if((l=VN(o))>0){for(i=l,s=0;i>0;i--)o=e.input.charCodeAt(++e.position),(l=WN(o))>=0?s=(s<<4)+l:me(e,"expected hexadecimal character");e.result+=YN(s),e.position++}else me(e,"unknown escape sequence");n=r=e.position}else Qn(o)?(Zr(e,n,r,!0),fm(e,lt(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Du(e)?me(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}me(e,"unexpected end of the stream within a double quoted scalar")}function QN(e,t){var n=!0,r,i,s,l=e.tag,o,a=e.anchor,c,h,u,p,m,y=Object.create(null),w,g,f,d;if(d=e.input.charCodeAt(e.position),d===91)h=93,m=!1,o=[];else if(d===123)h=125,m=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),d=e.input.charCodeAt(++e.position);d!==0;){if(lt(e,!0,t),d=e.input.charCodeAt(e.position),d===h)return e.position++,e.tag=l,e.anchor=a,e.kind=m?"mapping":"sequence",e.result=o,!0;n?d===44&&me(e,"expected the node content, but found ','"):me(e,"missed comma between flow collection entries"),g=w=f=null,u=p=!1,d===63&&(c=e.input.charCodeAt(e.position+1),qt(c)&&(u=p=!0,e.position++,lt(e,!0,t))),r=e.line,i=e.lineStart,s=e.position,Fs(e,t,Yc,!1,!0),g=e.tag,w=e.result,lt(e,!0,t),d=e.input.charCodeAt(e.position),(p||e.line===r)&&d===58&&(u=!0,d=e.input.charCodeAt(++e.position),lt(e,!0,t),Fs(e,t,Yc,!1,!0),f=e.result),m?ps(e,o,y,g,w,f,r,i,s):u?o.push(ps(e,null,y,g,w,f,r,i,s)):o.push(w),lt(e,!0,t),d=e.input.charCodeAt(e.position),d===44?(n=!0,d=e.input.charCodeAt(++e.position)):n=!1}me(e,"unexpected end of the stream within a flow collection")}function JN(e,t){var n,r,i=Rh,s=!1,l=!1,o=t,a=0,c=!1,h,u;if(u=e.input.charCodeAt(e.position),u===124)r=!1;else if(u===62)r=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)Rh===i?i=u===43?K_:jN:me(e,"repeat of a chomping mode identifier");else if((h=KN(u))>=0)h===0?me(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?me(e,"repeat of an indentation width identifier"):(o=t+h-1,l=!0);else break;if(Ai(u)){do u=e.input.charCodeAt(++e.position);while(Ai(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!Qn(u)&&u!==0)}for(;u!==0;){for(hm(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!l||e.lineIndent<o)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>o&&(o=e.lineIndent),Qn(u)){a++;continue}if(e.lineIndent<o){i===K_?e.result+=ft.repeat(`
`,s?1+a:a):i===Rh&&s&&(e.result+=`
`);break}for(r?Ai(u)?(c=!0,e.result+=ft.repeat(`
`,s?1+a:a)):c?(c=!1,e.result+=ft.repeat(`
`,a+1)):a===0?s&&(e.result+=" "):e.result+=ft.repeat(`
`,a):e.result+=ft.repeat(`
`,s?1+a:a),s=!0,l=!0,a=0,n=e.position;!Qn(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Zr(e,n,e.position,!1)}return!0}function Z_(e,t){var n,r=e.tag,i=e.anchor,s=[],l,o=!1,a;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),a=e.input.charCodeAt(e.position);a!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,me(e,"tab characters must not be used in indentation")),!(a!==45||(l=e.input.charCodeAt(e.position+1),!qt(l))));){if(o=!0,e.position++,lt(e,!0,-1)&&e.lineIndent<=t){s.push(null),a=e.input.charCodeAt(e.position);continue}if(n=e.line,Fs(e,t,qS,!1,!0),s.push(e.result),lt(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&a!==0)me(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function eI(e,t,n){var r,i,s,l,o,a,c=e.tag,h=e.anchor,u={},p=Object.create(null),m=null,y=null,w=null,g=!1,f=!1,d;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),d=e.input.charCodeAt(e.position);d!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,me(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),s=e.line,(d===63||d===58)&&qt(r))d===63?(g&&(ps(e,u,p,m,y,null,l,o,a),m=y=w=null),f=!0,g=!0,i=!0):g?(g=!1,i=!0):me(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,d=r;else{if(l=e.line,o=e.lineStart,a=e.position,!Fs(e,n,YS,!1,!0))break;if(e.line===s){for(d=e.input.charCodeAt(e.position);Ai(d);)d=e.input.charCodeAt(++e.position);if(d===58)d=e.input.charCodeAt(++e.position),qt(d)||me(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(ps(e,u,p,m,y,null,l,o,a),m=y=w=null),f=!0,g=!1,i=!1,m=e.tag,y=e.result;else if(f)me(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=h,!0}else if(f)me(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=h,!0}if((e.line===s||e.lineIndent>t)&&(g&&(l=e.line,o=e.lineStart,a=e.position),Fs(e,t,qc,!0,i)&&(g?y=e.result:w=e.result),g||(ps(e,u,p,m,y,w,l,o,a),m=y=w=null),lt(e,!0,-1),d=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&d!==0)me(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&ps(e,u,p,m,y,null,l,o,a),f&&(e.tag=c,e.anchor=h,e.kind="mapping",e.result=u),f}function tI(e){var t,n=!1,r=!1,i,s,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&me(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(n=!0,l=e.input.charCodeAt(++e.position)):l===33?(r=!0,i="!!",l=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(s=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):me(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!qt(l);)l===33&&(r?me(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),GS.test(i)||me(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),UN.test(s)&&me(e,"tag suffix cannot contain flow indicator characters")}s&&!XS.test(s)&&me(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{me(e,"tag name is malformed: "+s)}return n?e.tag=s:ii.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:me(e,'undeclared tag handle "'+i+'"'),!0}function nI(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&me(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!qt(n)&&!ds(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&me(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function rI(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!qt(r)&&!ds(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&me(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ii.call(e.anchorMap,n)||me(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],lt(e,!0,-1),!0}function Fs(e,t,n,r,i){var s,l,o,a=1,c=!1,h=!1,u,p,m,y,w,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=l=o=qc===n||qS===n,r&&lt(e,!0,-1)&&(c=!0,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)),a===1)for(;tI(e)||nI(e);)lt(e,!0,-1)?(c=!0,o=s,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)):o=!1;if(o&&(o=c||i),(a===1||qc===n)&&(Yc===n||YS===n?w=t:w=t+1,g=e.position-e.lineStart,a===1?o&&(Z_(e,g)||eI(e,g,w))||QN(e,w)?h=!0:(l&&JN(e,w)||XN(e,w)||ZN(e,w)?h=!0:rI(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&me(e,"alias node should not have any properties")):GN(e,w,Yc===n)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):a===0&&(h=o&&Z_(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&me(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,p=e.implicitTypes.length;u<p;u+=1)if(y=e.implicitTypes[u],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ii.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,m=e.typeMap.multi[e.kind||"fallback"],u=0,p=m.length;u<p;u+=1)if(e.tag.slice(0,m[u].tag.length)===m[u].tag){y=m[u];break}y||me(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&me(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):me(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function iI(e){var t=e.position,n,r,i,s=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(lt(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(s=!0,l=e.input.charCodeAt(++e.position),n=e.position;l!==0&&!qt(l);)l=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&me(e,"directive name must not be less than one character in length");l!==0;){for(;Ai(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!Qn(l));break}if(Qn(l))break;for(n=e.position;l!==0&&!qt(l);)l=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}l!==0&&hm(e),ii.call(G_,r)?G_[r](e,r,i):Gc(e,'unknown document directive "'+r+'"')}if(lt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,lt(e,!0,-1)):s&&me(e,"directives end mark is expected"),Fs(e,e.lineIndent-1,qc,!1,!0),lt(e,!0,-1),e.checkLineBreaks&&$N.test(e.input.slice(t,e.position))&&Gc(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Du(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,lt(e,!0,-1));return}if(e.position<e.length-1)me(e,"end of the stream or a document separator is expected");else return}function sI(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new qN(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,me(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)iI(n);return n.documents}function oI(e,t){var n=sI(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Vt("expected a single document in the stream, but found more")}}var lI=oI,aI={load:lI},tx=Object.prototype.toString,nx=Object.prototype.hasOwnProperty,dm=65279,cI=9,Sl=10,uI=13,hI=32,fI=33,dI=34,bd=35,pI=37,mI=38,gI=39,_I=42,rx=44,vI=45,Xc=58,yI=61,wI=62,SI=63,xI=64,ix=91,sx=93,kI=96,ox=123,bI=124,lx=125,Nt={};Nt[0]="\\0";Nt[7]="\\a";Nt[8]="\\b";Nt[9]="\\t";Nt[10]="\\n";Nt[11]="\\v";Nt[12]="\\f";Nt[13]="\\r";Nt[27]="\\e";Nt[34]='\\"';Nt[92]="\\\\";Nt[133]="\\N";Nt[160]="\\_";Nt[8232]="\\L";Nt[8233]="\\P";var CI=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],EI=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function AI(e,t){var n,r,i,s,l,o,a;if(t===null)return{};for(n={},r=Object.keys(t),i=0,s=r.length;i<s;i+=1)l=r[i],o=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),a=e.compiledTypeMap.fallback[l],a&&nx.call(a.styleAliases,o)&&(o=a.styleAliases[o]),n[l]=o;return n}function TI(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Vt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ft.repeat("0",r-t.length)+t}var DI=1,xl=2;function LI(e){this.schema=e.schema||KS,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ft.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=AI(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?xl:DI,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Q_(e,t){for(var n=ft.repeat(" ",t),r=0,i=-1,s="",l,o=e.length;r<o;)i=e.indexOf(`
`,r),i===-1?(l=e.slice(r),r=o):(l=e.slice(r,i+1),r=i+1),l.length&&l!==`
`&&(s+=n),s+=l;return s}function Cd(e,t){return`
`+ft.repeat(" ",e.indent*t)}function RI(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function Zc(e){return e===hI||e===cI}function kl(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==dm||65536<=e&&e<=1114111}function J_(e){return kl(e)&&e!==dm&&e!==uI&&e!==Sl}function e0(e,t,n){var r=J_(e),i=r&&!Zc(e);return(n?r:r&&e!==rx&&e!==ix&&e!==sx&&e!==ox&&e!==lx)&&e!==bd&&!(t===Xc&&!i)||J_(t)&&!Zc(t)&&e===bd||t===Xc&&i}function NI(e){return kl(e)&&e!==dm&&!Zc(e)&&e!==vI&&e!==SI&&e!==Xc&&e!==rx&&e!==ix&&e!==sx&&e!==ox&&e!==lx&&e!==bd&&e!==mI&&e!==_I&&e!==fI&&e!==bI&&e!==yI&&e!==wI&&e!==gI&&e!==dI&&e!==pI&&e!==xI&&e!==kI}function II(e){return!Zc(e)&&e!==Xc}function Lo(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function ax(e){var t=/^\n* /;return t.test(e)}var cx=1,Ed=2,ux=3,hx=4,Qi=5;function MI(e,t,n,r,i,s,l,o){var a,c=0,h=null,u=!1,p=!1,m=r!==-1,y=-1,w=NI(Lo(e,0))&&II(Lo(e,e.length-1));if(t||l)for(a=0;a<e.length;c>=65536?a+=2:a++){if(c=Lo(e,a),!kl(c))return Qi;w=w&&e0(c,h,o),h=c}else{for(a=0;a<e.length;c>=65536?a+=2:a++){if(c=Lo(e,a),c===Sl)u=!0,m&&(p=p||a-y-1>r&&e[y+1]!==" ",y=a);else if(!kl(c))return Qi;w=w&&e0(c,h,o),h=c}p=p||m&&a-y-1>r&&e[y+1]!==" "}return!u&&!p?w&&!l&&!i(e)?cx:s===xl?Qi:Ed:n>9&&ax(e)?Qi:l?s===xl?Qi:Ed:p?hx:ux}function OI(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===xl?'""':"''";if(!e.noCompatMode&&(CI.indexOf(t)!==-1||EI.test(t)))return e.quotingType===xl?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,n),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),o=r||e.flowLevel>-1&&n>=e.flowLevel;function a(c){return RI(e,c)}switch(MI(t,o,e.indent,l,a,e.quotingType,e.forceQuotes&&!r,i)){case cx:return t;case Ed:return"'"+t.replace(/'/g,"''")+"'";case ux:return"|"+t0(t,e.indent)+n0(Q_(t,s));case hx:return">"+t0(t,e.indent)+n0(Q_(PI(t,l),s));case Qi:return'"'+BI(t)+'"';default:throw new Vt("impossible error: invalid scalar style")}}()}function t0(e,t){var n=ax(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),s=i?"+":r?"":"-";return n+s+`
`}function n0(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function PI(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,n.lastIndex=c,r0(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,l;l=n.exec(e);){var o=l[1],a=l[2];s=a[0]===" ",r+=o+(!i&&!s&&a!==""?`
`:"")+r0(a,t),i=s}return r}function r0(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,s,l=0,o=0,a="";r=n.exec(e);)o=r.index,o-i>t&&(s=l>i?l:o,a+=`
`+e.slice(i,s),i=s+1),l=o;return a+=`
`,e.length-i>t&&l>i?a+=e.slice(i,l)+`
`+e.slice(l+1):a+=e.slice(i),a.slice(1)}function BI(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=Lo(e,i),r=Nt[n],!r&&kl(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||TI(n);return t}function FI(e,t,n){var r="",i=e.tag,s,l,o;for(s=0,l=n.length;s<l;s+=1)o=n[s],e.replacer&&(o=e.replacer.call(n,String(s),o)),(Sr(e,t,o,!1,!1)||typeof o>"u"&&Sr(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function i0(e,t,n,r){var i="",s=e.tag,l,o,a;for(l=0,o=n.length;l<o;l+=1)a=n[l],e.replacer&&(a=e.replacer.call(n,String(l),a)),(Sr(e,t+1,a,!0,!0,!1,!0)||typeof a>"u"&&Sr(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Cd(e,t)),e.dump&&Sl===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function zI(e,t,n){var r="",i=e.tag,s=Object.keys(n),l,o,a,c,h;for(l=0,o=s.length;l<o;l+=1)h="",r!==""&&(h+=", "),e.condenseFlow&&(h+='"'),a=s[l],c=n[a],e.replacer&&(c=e.replacer.call(n,a,c)),Sr(e,t,a,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Sr(e,t,c,!1,!1)&&(h+=e.dump,r+=h));e.tag=i,e.dump="{"+r+"}"}function jI(e,t,n,r){var i="",s=e.tag,l=Object.keys(n),o,a,c,h,u,p;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new Vt("sortKeys must be a boolean or a function");for(o=0,a=l.length;o<a;o+=1)p="",(!r||i!=="")&&(p+=Cd(e,t)),c=l[o],h=n[c],e.replacer&&(h=e.replacer.call(n,c,h)),Sr(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&Sl===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,u&&(p+=Cd(e,t)),Sr(e,t+1,h,!0,u)&&(e.dump&&Sl===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=s,e.dump=i||"{}"}function s0(e,t,n){var r,i,s,l,o,a;for(i=n?e.explicitTypes:e.implicitTypes,s=0,l=i.length;s<l;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(n?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(a=e.styleMap[o.tag]||o.defaultStyle,tx.call(o.represent)==="[object Function]")r=o.represent(t,a);else if(nx.call(o.represent,a))r=o.represent[a](t,a);else throw new Vt("!<"+o.tag+'> tag resolver accepts not "'+a+'" style');e.dump=r}return!0}return!1}function Sr(e,t,n,r,i,s,l){e.tag=null,e.dump=n,s0(e,n,!1)||s0(e,n,!0);var o=tx.call(e.dump),a=r,c;r&&(r=e.flowLevel<0||e.flowLevel>t);var h=o==="[object Object]"||o==="[object Array]",u,p;if(h&&(u=e.duplicates.indexOf(n),p=u!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&p&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),o==="[object Object]")r&&Object.keys(e.dump).length!==0?(jI(e,t,e.dump,i),p&&(e.dump="&ref_"+u+e.dump)):(zI(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if(o==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?i0(e,t-1,e.dump,i):i0(e,t,e.dump,i),p&&(e.dump="&ref_"+u+e.dump)):(FI(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&OI(e,e.dump,t,s,a);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Vt("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function HI(e,t){var n=[],r=[],i,s;for(Ad(e,n,r),i=0,s=r.length;i<s;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(s)}function Ad(e,t,n){var r,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Ad(e[i],t,n);else for(r=Object.keys(e),i=0,s=r.length;i<s;i+=1)Ad(e[r[i]],t,n)}function $I(e,t){t=t||{};var n=new LI(t);n.noRefs||HI(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Sr(n,0,r,!0,!0)?n.dump+`
`:""}var UI=$I,WI={dump:UI},o0=aI.load,VI=WI.dump;const KI=[{id:"pm",name:"PM",workDir:"tools/pm-agent",tasks:[" "," "],dependsOn:[]}],YI=async(e,t,n)=>{await new Promise(s=>setTimeout(s,1500));const r=[{id:"step-1",title:" ",description:"    ",agent:"pm",dependsOn:[]}],i=[];return(e.includes("React")||e.includes("")||e.includes("UI"))&&(r.push({id:"step-2",title:"UI ",description:"    ",agent:"pm",dependsOn:["step-1"]}),r.push({id:"step-3",title:" ",description:"React  ",agent:"dev",dependsOn:["step-2"]})),(e.includes("API")||e.includes("")||e.includes(""))&&(r.push({id:"step-api",title:"API ",description:"REST API  ",agent:"pm",dependsOn:["step-1"]}),r.push({id:"step-api-impl",title:"API ",description:" API ",agent:"dev",dependsOn:["step-api"]})),(e.includes("")||e.includes("test"))&&r.push({id:"step-test",title:" ",description:"/  ",agent:"dev",dependsOn:r.filter(s=>s.agent==="dev").map(s=>s.id)}),r.length===1&&(r.push({id:"step-2",title:" ",description:"   ",agent:"pm",dependsOn:["step-1"]}),r.push({id:"step-3",title:"",description:" ",agent:"dev",dependsOn:["step-2"]})),r.push({id:"step-final",title:"  ",description:"   ",agent:"pm",dependsOn:r.filter(s=>s.id!=="step-1").map(s=>s.id)}),{steps:r,decisions:i}};function qI({project:e,onStart:t,onAnalyze:n,onAddSource:r}){const[i,s]=j.useState(e.mission||""),[l,o]=j.useState(KI),[a,c]=j.useState("table"),[h,u]=j.useState(""),[p,m]=j.useState(null),[y,w]=j.useState(!1),[g,f]=j.useState(null),[d,_]=j.useState(null),[v,S]=j.useState("input"),[k,b]=j.useState([]),[x,C]=j.useState([]),[A,N]=j.useState(!1),[I,F]=j.useState(null),[D,B]=j.useState(e.sources||[]),[z,H]=j.useState(!1),[L,R]=j.useState("git"),[E,M]=j.useState(""),[U,O]=j.useState(""),[Y,K]=j.useState(!1),[ee,P]=j.useState(null),W=j.useCallback(async $=>{if(i.trim()){S("analyzing"),N(!1),F(null);try{const X=n||YI,te=D.map(Ie=>`work/${Ie.folder}`),fe=await X(i,te,$);b(fe.steps),C(fe.decisions),fe.steps.some(Ie=>Ie.agent==="dev")&&!l.some(Ie=>Ie.id==="dev")&&o(Ie=>[...Ie,{id:"dev",name:"Developer",workDir:"work/dev",tasks:fe.steps.filter(Te=>Te.agent==="dev").map(Te=>Te.title),dependsOn:["pm"]}]),S("review")}catch(X){console.error("Analysis failed:",X),F((X==null?void 0:X.message)||"   "),S("input")}}},[i,n,l,D]),G=$=>{s($),v==="review"&&N(!0)},[q,ce]=j.useState(!1),ne=j.useCallback(async()=>{if(!(!E.trim()||!r)){K(!0),P(null);try{const $=await r(L,E.trim(),U.trim()||void 0);B(X=>[...X,{folder:$.folder,fileCount:$.fileCount}]),M(""),O(""),H(!1),(v==="review"||v==="input")&&ce(!0)}catch($){console.error("Add source failed:",$),P(($==null?void 0:$.message)||"    ")}finally{K(!1)}}},[L,E,U,r,v]),de=()=>{S("input"),b([]),C([])},we=($,X)=>{C(te=>te.map(fe=>fe.id===$?{...fe,selected:X}:fe))},ye=()=>{const $=x.filter(X=>X.selected);W($)},Re=x.every($=>!$.required||$.selected);j.useEffect(()=>{if(a!=="yaml"){const $={name:e.name||e.projectId,mission:i,agents:l.map(X=>({id:X.id,name:X.name,workDir:X.workDir,tasks:X.tasks,dependsOn:X.dependsOn.length>0?X.dependsOn:void 0}))};u(VI($,{indent:2,lineWidth:-1}))}},[l,i,e,a]),j.useEffect(()=>{e.sources&&B(e.sources)},[e.sources]),j.useEffect(()=>{q&&i.trim()&&(ce(!1),W())},[q,i,W]);const oe=$=>{try{const X=o0($);if(X&&X.agents&&Array.isArray(X.agents)){const te=X.agents.map(fe=>({id:fe.id||"",name:fe.name||fe.id||"",workDir:fe.workDir||`work/${fe.id}`,tasks:Array.isArray(fe.tasks)?fe.tasks:[],dependsOn:Array.isArray(fe.dependsOn)?fe.dependsOn:[]}));o(te),X.mission&&s(X.mission)}return m(null),!0}catch(X){return m(X.message),!1}},le=$=>{a==="yaml"&&$!=="yaml"&&!oe(h)||c($)},Ne=$=>{u($);try{o0($),m(null)}catch(X){m(X.message)}},Ue=()=>{i.trim()&&(a==="yaml"&&!oe(h)||(w(!0),t(i.trim(),l)))},at=()=>{_({id:"",name:"",workDir:"",tasks:[],dependsOn:[]})},tt=()=>{if(!d||!d.id.trim())return;const $={...d,id:d.id.trim(),name:d.name.trim()||d.id.trim(),workDir:d.workDir.trim()||`work/${d.id.trim()}`};o([...l,$]),_(null)},Ae=($,X)=>{o(l.map(te=>te.id===$?{...te,...X}:te))},Fe=$=>{$!=="pm"&&(o(l.filter(X=>X.id!==$)),o(X=>X.map(te=>({...te,dependsOn:te.dependsOn.filter(fe=>fe!==$)}))))},Oe=()=>T.jsxs("div",{className:"agents-table-container",children:[T.jsxs("table",{className:"agents-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"ID"}),T.jsx("th",{children:""}),T.jsx("th",{children:""}),T.jsx("th",{children:""}),T.jsx("th",{children:""}),T.jsx("th",{})]})}),T.jsxs("tbody",{children:[l.map($=>T.jsxs("tr",{className:g===$.id?"editing":"",children:[T.jsx("td",{children:T.jsx("code",{children:$.id})}),T.jsx("td",{children:g===$.id?T.jsx("input",{type:"text",value:$.name,onChange:X=>Ae($.id,{name:X.target.value})}):$.name}),T.jsx("td",{children:g===$.id?T.jsx("input",{type:"text",value:$.workDir,onChange:X=>Ae($.id,{workDir:X.target.value})}):T.jsx("code",{children:$.workDir})}),T.jsx("td",{children:g===$.id?T.jsx("input",{type:"text",value:$.tasks.join(", "),onChange:X=>Ae($.id,{tasks:X.target.value.split(",").map(te=>te.trim()).filter(Boolean)}),placeholder:" "}):T.jsx("span",{className:"tasks-list",children:$.tasks.join(", ")||"-"})}),T.jsx("td",{children:g===$.id?T.jsx("select",{multiple:!0,value:$.dependsOn,onChange:X=>Ae($.id,{dependsOn:Array.from(X.target.selectedOptions,te=>te.value)}),children:l.filter(X=>X.id!==$.id).map(X=>T.jsx("option",{value:X.id,children:X.name},X.id))}):T.jsx("span",{children:$.dependsOn.join(", ")||"-"})}),T.jsx("td",{className:"actions",children:g===$.id?T.jsx("button",{className:"btn-save",onClick:()=>f(null),children:""}):T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn-edit",onClick:()=>f($.id),children:""}),$.id!=="pm"&&T.jsx("button",{className:"btn-delete",onClick:()=>Fe($.id),children:""})]})})]},$.id)),d&&T.jsxs("tr",{className:"new-agent-row",children:[T.jsx("td",{children:T.jsx("input",{type:"text",value:d.id,onChange:$=>_({...d,id:$.target.value}),placeholder:"agent-id",autoFocus:!0})}),T.jsx("td",{children:T.jsx("input",{type:"text",value:d.name,onChange:$=>_({...d,name:$.target.value}),placeholder:" "})}),T.jsx("td",{children:T.jsx("input",{type:"text",value:d.workDir,onChange:$=>_({...d,workDir:$.target.value}),placeholder:"work/agent-id"})}),T.jsx("td",{children:T.jsx("input",{type:"text",value:d.tasks.join(", "),onChange:$=>_({...d,tasks:$.target.value.split(",").map(X=>X.trim()).filter(Boolean)}),placeholder:"1, 2"})}),T.jsx("td",{children:T.jsx("select",{multiple:!0,value:d.dependsOn,onChange:$=>_({...d,dependsOn:Array.from($.target.selectedOptions,X=>X.value)}),children:l.map($=>T.jsx("option",{value:$.id,children:$.name},$.id))})}),T.jsxs("td",{className:"actions",children:[T.jsx("button",{className:"btn-save",onClick:tt,children:""}),T.jsx("button",{className:"btn-cancel",onClick:()=>_(null),children:""})]})]})]})]}),!d&&T.jsx("button",{className:"btn-add-agent",onClick:at,children:"+  "})]}),Z=()=>T.jsx("div",{className:"agents-ui-container",children:T.jsxs("div",{className:"agents-list",children:[l.map($=>T.jsxs("div",{className:`agent-card ${g===$.id?"editing":""}`,children:[T.jsxs("div",{className:"agent-card-header",children:[T.jsx("span",{className:"agent-icon",children:$.id==="pm"?"":""}),g===$.id?T.jsx("input",{type:"text",className:"agent-name-input",value:$.name,onChange:X=>Ae($.id,{name:X.target.value})}):T.jsx("span",{className:"agent-name",children:$.name}),T.jsxs("span",{className:"agent-id",children:["(",$.id,")"]})]}),T.jsxs("div",{className:"agent-card-body",children:[T.jsxs("div",{className:"agent-field",children:[T.jsx("label",{children:":"}),g===$.id?T.jsx("input",{type:"text",value:$.workDir,onChange:X=>Ae($.id,{workDir:X.target.value})}):T.jsx("code",{children:$.workDir})]}),T.jsxs("div",{className:"agent-field",children:[T.jsx("label",{children:":"}),g===$.id?T.jsx("input",{type:"text",value:$.tasks.join(", "),onChange:X=>Ae($.id,{tasks:X.target.value.split(",").map(te=>te.trim()).filter(Boolean)}),placeholder:" "}):T.jsxs("ul",{className:"tasks-list",children:[$.tasks.map((X,te)=>T.jsx("li",{children:X},te)),$.tasks.length===0&&T.jsx("li",{className:"empty",children:"-"})]})]}),T.jsxs("div",{className:"agent-field",children:[T.jsx("label",{children:":"}),g===$.id?T.jsx("div",{className:"dependency-checkboxes",children:l.filter(X=>X.id!==$.id).map(X=>T.jsxs("label",{className:"checkbox-label",children:[T.jsx("input",{type:"checkbox",checked:$.dependsOn.includes(X.id),onChange:te=>{const fe=te.target.checked?[...$.dependsOn,X.id]:$.dependsOn.filter(qe=>qe!==X.id);Ae($.id,{dependsOn:fe})}}),X.name]},X.id))}):T.jsx("span",{className:"dependencies",children:$.dependsOn.length>0?$.dependsOn.map(X=>{var te;return((te=l.find(fe=>fe.id===X))==null?void 0:te.name)||X}).join("  "):"-"})]})]}),T.jsx("div",{className:"agent-card-actions",children:g===$.id?T.jsx("button",{className:"btn-save",onClick:()=>f(null),children:""}):T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn-edit",onClick:()=>f($.id),children:""}),$.id!=="pm"&&T.jsx("button",{className:"btn-delete",onClick:()=>Fe($.id),children:""})]})})]},$.id)),d?T.jsxs("div",{className:"agent-card new-agent",children:[T.jsxs("div",{className:"agent-card-header",children:[T.jsx("span",{className:"agent-icon",children:""}),T.jsx("input",{type:"text",className:"agent-name-input",value:d.id,onChange:$=>_({...d,id:$.target.value}),placeholder:"agent-id",autoFocus:!0})]}),T.jsxs("div",{className:"agent-card-body",children:[T.jsxs("div",{className:"agent-field",children:[T.jsx("label",{children:":"}),T.jsx("input",{type:"text",value:d.name,onChange:$=>_({...d,name:$.target.value}),placeholder:" "})]}),T.jsxs("div",{className:"agent-field",children:[T.jsx("label",{children:":"}),T.jsx("input",{type:"text",value:d.workDir,onChange:$=>_({...d,workDir:$.target.value}),placeholder:"work/agent-id"})]}),T.jsxs("div",{className:"agent-field",children:[T.jsx("label",{children:":"}),T.jsx("input",{type:"text",value:d.tasks.join(", "),onChange:$=>_({...d,tasks:$.target.value.split(",").map(X=>X.trim()).filter(Boolean)}),placeholder:"1, 2"})]}),T.jsxs("div",{className:"agent-field",children:[T.jsx("label",{children:":"}),T.jsx("div",{className:"dependency-checkboxes",children:l.map($=>T.jsxs("label",{className:"checkbox-label",children:[T.jsx("input",{type:"checkbox",checked:d.dependsOn.includes($.id),onChange:X=>{const te=X.target.checked?[...d.dependsOn,$.id]:d.dependsOn.filter(fe=>fe!==$.id);_({...d,dependsOn:te})}}),$.name]},$.id))})]})]}),T.jsxs("div",{className:"agent-card-actions",children:[T.jsx("button",{className:"btn-save",onClick:tt,children:""}),T.jsx("button",{className:"btn-cancel",onClick:()=>_(null),children:""})]})]}):T.jsxs("button",{className:"add-agent-card",onClick:at,children:[T.jsx("span",{className:"add-icon",children:"+"}),T.jsx("span",{children:" "})]})]})}),J=()=>T.jsxs("div",{className:"yaml-editor-container",children:[T.jsx("textarea",{className:`yaml-editor ${p?"has-error":""}`,value:h,onChange:$=>Ne($.target.value),spellCheck:!1}),p&&T.jsxs("div",{className:"yaml-error",children:[T.jsx("span",{className:"error-icon",children:""}),T.jsx("span",{children:p})]})]}),ae=()=>x.length===0?null:T.jsxs("div",{className:"decisions-section",children:[T.jsx("div",{className:"decisions-header",children:T.jsx("h3",{children:"  "})}),T.jsx("div",{className:"decisions-list",children:x.map($=>T.jsxs("div",{className:`decision-card ${$.selected?"answered":""}`,children:[T.jsxs("div",{className:"decision-question",children:[$.question,$.required&&T.jsx("span",{className:"required-badge",children:""})]}),T.jsx("div",{className:"decision-options",children:$.options.map(X=>T.jsxs("button",{className:`decision-option ${$.selected===X?"selected":""}`,onClick:()=>we($.id,X),children:[$.selected===X&&T.jsx("span",{className:"check-icon",children:""}),X]},X))})]},$.id))}),T.jsx("div",{className:"decisions-actions",children:T.jsx("button",{className:"submit-decisions-btn",onClick:ye,disabled:!Re,children:"   "})})]}),_e=()=>T.jsxs("div",{className:"steps-section",children:[T.jsxs("div",{className:"steps-header",children:[T.jsx("h3",{children:"  "}),A&&T.jsx("span",{className:"reanalyze-badge",children:" -  "})]}),T.jsx("div",{className:"steps-list",children:k.map(($,X)=>T.jsxs("div",{className:`step-item agent-${$.agent}`,children:[T.jsx("div",{className:"step-number",children:X+1}),T.jsxs("div",{className:"step-content",children:[T.jsx("div",{className:"step-title",children:$.title}),T.jsx("div",{className:"step-description",children:$.description}),T.jsxs("div",{className:"step-meta",children:[T.jsx("span",{className:`step-agent agent-${$.agent}`,children:$.agent==="pm"?" PM":" DEV"}),$.dependsOn.length>0&&T.jsxs("span",{className:"step-deps",children:[": ",$.dependsOn.map(te=>{const fe=k.find(qe=>qe.id===te);return fe?fe.title:te}).join(", ")]})]})]})]},$.id))})]});return T.jsx("div",{className:"project-setup",children:T.jsxs("div",{className:"setup-container",children:[T.jsxs("div",{className:"setup-header",children:[T.jsx("h1",{children:e.name||e.projectId}),T.jsx("span",{className:`project-status status-${e.status}`,children:e.status==="pending"?" ":e.status==="running"?"":e.status}),v!=="input"&&T.jsx("span",{className:`phase-badge phase-${v}`,children:v==="analyzing"?" ...":""})]}),T.jsxs("div",{className:"setup-content",children:[T.jsxs("div",{className:"mission-section",children:[T.jsxs("label",{htmlFor:"mission",children:[" (Mission)",A&&T.jsx("span",{className:"changed-indicator",children:"*"})]}),T.jsx("textarea",{id:"mission",value:i,onChange:$=>G($.target.value),placeholder:":     /    /   ",rows:4,disabled:y||v==="analyzing"})]}),v!=="analyzing"&&T.jsxs("div",{className:"agents-section",children:[T.jsxs("div",{className:"agents-header",children:[T.jsx("h3",{children:"  "}),T.jsxs("div",{className:"agents-header-actions",children:[r&&T.jsx("button",{className:"btn-add-source",onClick:()=>H(!z),disabled:Y,children:"+  "}),v==="review"&&T.jsxs("div",{className:"view-mode-toggle",children:[T.jsx("button",{className:a==="table"?"active":"",onClick:()=>le("table"),children:""}),T.jsx("button",{className:a==="ui"?"active":"",onClick:()=>le("ui"),children:"UI"}),T.jsx("button",{className:a==="yaml"?"active":"",onClick:()=>le("yaml"),children:"YAML"})]})]})]}),D.length>0&&T.jsx("div",{className:"sources-list",children:D.map(($,X)=>T.jsxs("div",{className:"source-item",children:[T.jsxs("span",{className:"source-folder",children:[" work/",$.folder]}),T.jsxs("span",{className:"source-files",children:[$.fileCount," files"]})]},X))}),z&&r&&T.jsxs("div",{className:"add-source-form",children:[T.jsxs("div",{className:"source-type-select",children:[T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"sourceType",value:"git",checked:L==="git",onChange:()=>R("git")}),"git clone"]}),T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"sourceType",value:"gh",checked:L==="gh",onChange:()=>R("gh")}),"gh repo clone"]}),T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"sourceType",value:"cp",checked:L==="cp",onChange:()=>R("cp")}),"cp -r"]}),T.jsxs("label",{children:[T.jsx("input",{type:"radio",name:"sourceType",value:"prompt",checked:L==="prompt",onChange:()=>R("prompt")})," AI "]})]}),T.jsx("input",{type:"text",className:"source-url-input",value:E,onChange:$=>M($.target.value),placeholder:L==="git"?"https://github.com/user/repo.git":L==="gh"?"user/repo":L==="cp"?"/path/to/source":"anthropics/claude-code  ",disabled:Y}),T.jsx("input",{type:"text",className:"target-folder-input",value:U,onChange:$=>O($.target.value),placeholder:"  ( )",disabled:Y}),ee&&T.jsxs("div",{className:"add-source-error",children:[T.jsx("span",{className:"error-icon",children:""}),T.jsx("span",{children:ee})]}),T.jsxs("div",{className:"add-source-actions",children:[T.jsx("button",{className:"btn-cancel",onClick:()=>{H(!1),P(null)},disabled:Y,children:""}),T.jsx("button",{className:"btn-add",onClick:ne,disabled:!E.trim()||Y,children:Y?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"spinner"})," ..."]}):""})]})]}),D.length===0&&!z&&T.jsx("p",{className:"source-empty-hint",children:"    "}),v==="review"&&T.jsxs(T.Fragment,{children:[a==="table"&&Oe(),a==="ui"&&Z(),a==="yaml"&&J()]})]}),v==="input"&&T.jsxs(T.Fragment,{children:[I&&T.jsxs("div",{className:"analysis-error",children:[T.jsx("span",{className:"error-icon",children:""}),T.jsx("span",{children:I})]}),T.jsx("div",{className:"setup-actions",children:T.jsxs("button",{className:"analyze-btn",onClick:()=>W(),disabled:!i.trim(),children:[T.jsx("span",{className:"analyze-icon",children:""})," "]})})]}),v==="analyzing"&&T.jsxs("div",{className:"analyzing-section",children:[T.jsx("div",{className:"analyzing-spinner",children:T.jsx("span",{className:"spinner large"})}),T.jsx("p",{children:"     ..."})]}),v==="review"&&T.jsxs(T.Fragment,{children:[ae(),_e(),A&&T.jsx("div",{className:"reanalyze-actions",children:T.jsxs("button",{className:"reanalyze-btn",onClick:()=>W(),children:[T.jsx("span",{className:"analyze-icon",children:""}),""]})}),T.jsxs("div",{className:"setup-actions",children:[T.jsx("button",{className:"back-btn",onClick:de,disabled:y,children:" "}),T.jsx("button",{className:"start-btn",onClick:Ue,disabled:!i.trim()||y||A||a==="yaml"&&!!p,children:y?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"spinner"})," ..."]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"play-icon",children:""})," "]})})]})]})]})]})})}function GI(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const XI=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZI=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QI={};function l0(e,t){return(QI.jsx?ZI:XI).test(e)}const JI=/[ \t\n\f\r]/g;function eM(e){return typeof e=="object"?e.type==="text"?a0(e.value):!1:a0(e)}function a0(e){return e.replace(JI,"")===""}class Ul{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ul.prototype.normal={};Ul.prototype.property={};Ul.prototype.space=void 0;function fx(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ul(n,r,t)}function Td(e){return e.toLowerCase()}class Jt{constructor(t,n){this.attribute=n,this.property=t}}Jt.prototype.attribute="";Jt.prototype.booleanish=!1;Jt.prototype.boolean=!1;Jt.prototype.commaOrSpaceSeparated=!1;Jt.prototype.commaSeparated=!1;Jt.prototype.defined=!1;Jt.prototype.mustUseProperty=!1;Jt.prototype.number=!1;Jt.prototype.overloadedBoolean=!1;Jt.prototype.property="";Jt.prototype.spaceSeparated=!1;Jt.prototype.space=void 0;let tM=0;const Se=ji(),st=ji(),Dd=ji(),se=ji(),je=ji(),bs=ji(),tn=ji();function ji(){return 2**++tM}const Ld=Object.freeze(Object.defineProperty({__proto__:null,boolean:Se,booleanish:st,commaOrSpaceSeparated:tn,commaSeparated:bs,number:se,overloadedBoolean:Dd,spaceSeparated:je},Symbol.toStringTag,{value:"Module"})),Nh=Object.keys(Ld);class pm extends Jt{constructor(t,n,r,i){let s=-1;if(super(t,n),c0(this,"space",i),typeof r=="number")for(;++s<Nh.length;){const l=Nh[s];c0(this,Nh[s],(r&Ld[l])===Ld[l])}}}pm.prototype.defined=!0;function c0(e,t,n){n&&(e[t]=n)}function Ks(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new pm(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Td(r)]=r,n[Td(s.attribute)]=r}return new Ul(t,n,e.space)}const dx=Ks({properties:{ariaActiveDescendant:null,ariaAtomic:st,ariaAutoComplete:null,ariaBusy:st,ariaChecked:st,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:je,ariaCurrent:null,ariaDescribedBy:je,ariaDetails:null,ariaDisabled:st,ariaDropEffect:je,ariaErrorMessage:null,ariaExpanded:st,ariaFlowTo:je,ariaGrabbed:st,ariaHasPopup:null,ariaHidden:st,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:je,ariaLevel:se,ariaLive:null,ariaModal:st,ariaMultiLine:st,ariaMultiSelectable:st,ariaOrientation:null,ariaOwns:je,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:st,ariaReadOnly:st,ariaRelevant:null,ariaRequired:st,ariaRoleDescription:je,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:st,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function px(e,t){return t in e?e[t]:t}function mx(e,t){return px(e,t.toLowerCase())}const nM=Ks({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bs,acceptCharset:je,accessKey:je,action:null,allow:null,allowFullScreen:Se,allowPaymentRequest:Se,allowUserMedia:Se,alt:null,as:null,async:Se,autoCapitalize:null,autoComplete:je,autoFocus:Se,autoPlay:Se,blocking:je,capture:null,charSet:null,checked:Se,cite:null,className:je,cols:se,colSpan:null,content:null,contentEditable:st,controls:Se,controlsList:je,coords:se|bs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Se,defer:Se,dir:null,dirName:null,disabled:Se,download:Dd,draggable:st,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Se,formTarget:null,headers:je,height:se,hidden:Dd,high:se,href:null,hrefLang:null,htmlFor:je,httpEquiv:je,id:null,imageSizes:null,imageSrcSet:null,inert:Se,inputMode:null,integrity:null,is:null,isMap:Se,itemId:null,itemProp:je,itemRef:je,itemScope:Se,itemType:je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Se,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:Se,muted:Se,name:null,nonce:null,noModule:Se,noValidate:Se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Se,optimum:se,pattern:null,ping:je,placeholder:null,playsInline:Se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Se,referrerPolicy:null,rel:je,required:Se,reversed:Se,rows:se,rowSpan:se,sandbox:je,scope:null,scoped:Se,seamless:Se,selected:Se,shadowRootClonable:Se,shadowRootDelegatesFocus:Se,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:st,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:Se,useMap:null,value:st,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:je,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Se,declare:Se,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:Se,noHref:Se,noShade:Se,noWrap:Se,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:st,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Se,disableRemotePlayback:Se,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:mx}),rM=Ks({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:tn,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:Se,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bs,g2:bs,glyphName:bs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:tn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:tn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:tn,rev:tn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:tn,requiredFeatures:tn,requiredFonts:tn,requiredFormats:tn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:tn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:tn,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:tn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:px}),gx=Ks({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_x=Ks({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mx}),vx=Ks({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),iM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sM=/[A-Z]/g,u0=/-[a-z]/g,oM=/^data[-\w.:]+$/i;function lM(e,t){const n=Td(t);let r=t,i=Jt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oM.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(u0,cM);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!u0.test(s)){let l=s.replace(sM,aM);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=pm}return new i(r,t)}function aM(e){return"-"+e.toLowerCase()}function cM(e){return e.charAt(1).toUpperCase()}const uM=fx([dx,nM,gx,_x,vx],"html"),mm=fx([dx,rM,gx,_x,vx],"svg");function hM(e){return e.join(" ").trim()}var gm={},h0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fM=/\n/g,dM=/^\s*/,pM=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,mM=/^:\s*/,gM=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,_M=/^[;\s]*/,vM=/^\s+|\s+$/g,yM=`
`,f0="/",d0="*",pi="",wM="comment",SM="declaration";function xM(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(y){var w=y.match(fM);w&&(n+=w.length);var g=y.lastIndexOf(yM);r=~g?y.length-g:r+y.length}function s(){var y={line:n,column:r};return function(w){return w.position=new l(y),c(),w}}function l(y){this.start=y,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function o(y){var w=new Error(t.source+":"+n+":"+r+": "+y);if(w.reason=y,w.filename=t.source,w.line=n,w.column=r,w.source=e,!t.silent)throw w}function a(y){var w=y.exec(e);if(w){var g=w[0];return i(g),e=e.slice(g.length),w}}function c(){a(dM)}function h(y){var w;for(y=y||[];w=u();)w!==!1&&y.push(w);return y}function u(){var y=s();if(!(f0!=e.charAt(0)||d0!=e.charAt(1))){for(var w=2;pi!=e.charAt(w)&&(d0!=e.charAt(w)||f0!=e.charAt(w+1));)++w;if(w+=2,pi===e.charAt(w-1))return o("End of comment missing");var g=e.slice(2,w-2);return r+=2,i(g),e=e.slice(w),r+=2,y({type:wM,comment:g})}}function p(){var y=s(),w=a(pM);if(w){if(u(),!a(mM))return o("property missing ':'");var g=a(gM),f=y({type:SM,property:p0(w[0].replace(h0,pi)),value:g?p0(g[0].replace(h0,pi)):pi});return a(_M),f}}function m(){var y=[];h(y);for(var w;w=p();)w!==!1&&(y.push(w),h(y));return y}return c(),m()}function p0(e){return e?e.replace(vM,pi):pi}var kM=xM,bM=pc&&pc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gm,"__esModule",{value:!0});gm.default=EM;const CM=bM(kM);function EM(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,CM.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:l,value:o}=s;i?t(l,o,s):o&&(n=n||{},n[l]=o)}),n}var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.camelCase=void 0;var AM=/^--[a-zA-Z0-9_-]+$/,TM=/-([a-z])/g,DM=/^[^-]+$/,LM=/^-(webkit|moz|ms|o|khtml)-/,RM=/^-(ms)-/,NM=function(e){return!e||DM.test(e)||AM.test(e)},IM=function(e,t){return t.toUpperCase()},m0=function(e,t){return"".concat(t,"-")},MM=function(e,t){return t===void 0&&(t={}),NM(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(RM,m0):e=e.replace(LM,m0),e.replace(TM,IM))};Lu.camelCase=MM;var OM=pc&&pc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},PM=OM(gm),BM=Lu;function Rd(e,t){var n={};return!e||typeof e!="string"||(0,PM.default)(e,function(r,i){r&&i&&(n[(0,BM.camelCase)(r,t)]=i)}),n}Rd.default=Rd;var FM=Rd;const zM=Ml(FM),yx=wx("end"),_m=wx("start");function wx(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jM(e){const t=_m(e),n=yx(e);if(t&&n)return{start:t,end:n}}function $o(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?g0(e.position):"start"in e||"end"in e?g0(e):"line"in e||"column"in e?Nd(e):""}function Nd(e){return _0(e&&e.line)+":"+_0(e&&e.column)}function g0(e){return Nd(e&&e.start)+"-"+Nd(e&&e.end)}function _0(e){return e&&typeof e=="number"?e:1}class It extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(l=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=$o(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}It.prototype.file="";It.prototype.name="";It.prototype.reason="";It.prototype.message="";It.prototype.stack="";It.prototype.column=void 0;It.prototype.line=void 0;It.prototype.ancestors=void 0;It.prototype.cause=void 0;It.prototype.fatal=void 0;It.prototype.place=void 0;It.prototype.ruleId=void 0;It.prototype.source=void 0;const vm={}.hasOwnProperty,HM=new Map,$M=/[A-Z]/g,UM=new Set(["table","tbody","thead","tfoot","tr"]),WM=new Set(["td","th"]),Sx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function VM(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=JM(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=QM(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?mm:uM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=xx(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function xx(e,t,n){if(t.type==="element")return KM(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return YM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return GM(e,t,n);if(t.type==="mdxjsEsm")return qM(e,t);if(t.type==="root")return XM(e,t,n);if(t.type==="text")return ZM(e,t)}function KM(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=mm,e.schema=i),e.ancestors.push(t);const s=bx(e,t.tagName,!1),l=eO(e,t);let o=wm(e,t);return UM.has(t.tagName)&&(o=o.filter(function(a){return typeof a=="string"?!eM(a):!0})),kx(e,l,s,t),ym(l,o),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function YM(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}bl(e,t.position)}function qM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);bl(e,t.position)}function GM(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=mm,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:bx(e,t.name,!0),l=tO(e,t),o=wm(e,t);return kx(e,l,s,t),ym(l,o),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function XM(e,t,n){const r={};return ym(r,wm(e,t)),e.create(t,e.Fragment,r,n)}function ZM(e,t){return t.value}function kx(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ym(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function QM(e,t,n){return r;function r(i,s,l,o){const c=Array.isArray(l.children)?n:t;return o?c(s,l,o):c(s,l)}}function JM(e,t){return n;function n(r,i,s,l){const o=Array.isArray(s.children),a=_m(r);return t(i,s,l,o,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function eO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&vm.call(t.properties,i)){const s=nO(e,i,t.properties[i]);if(s){const[l,o]=s;e.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&WM.has(t.tagName)?r=o:n[l]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function tO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const l=s.expression;l.type;const o=l.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else bl(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else bl(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function wm(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:HM;for(;++r<t.children.length;){const s=t.children[r];let l;if(e.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const c=i.get(a)||0;l=a+"-"+c,i.set(a,c+1)}}const o=xx(e,s,l);o!==void 0&&n.push(o)}return n}function nO(e,t,n){const r=lM(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?GI(n):hM(n)),r.property==="style"){let i=typeof n=="object"?n:rO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=iO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?iM[r.property]||r.property:r.attribute,n]}}function rO(e,t){try{return zM(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new It("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Sx+"#cannot-parse-style-attribute",i}}function bx(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,l;for(;++s<i.length;){const o=l0(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=l}else r=l0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return vm.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);bl(e)}function bl(e,t){const n=new It("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Sx+"#cannot-handle-mdx-estrees-without-createevaluater",n}function iO(e){const t={};let n;for(n in e)vm.call(e,n)&&(t[sO(n)]=e[n]);return t}function sO(e){let t=e.replace($M,oO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function oO(e){return"-"+e.toLowerCase()}const Ih={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lO={};function Sm(e,t){const n=lO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Cx(e,r,i)}function Cx(e,t,n){if(aO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return v0(e.children,t,n)}return Array.isArray(e)?v0(e,t,n):""}function v0(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Cx(e[i],t,n);return r.join("")}function aO(e){return!!(e&&typeof e=="object")}const y0=document.createElement("i");function xm(e){const t="&"+e+";";y0.innerHTML=t;const n=y0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function an(e,t,n,r){const i=e.length;let s=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);s<r.length;)l=r.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function _n(e,t){return e.length>0?(an(e,e.length,0,t),e):t}const w0={}.hasOwnProperty;function Ex(e){const t={};let n=-1;for(;++n<e.length;)cO(t,e[n]);return t}function cO(e,t){let n;for(n in t){const i=(w0.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let l;if(s)for(l in s){w0.call(i,l)||(i[l]=[]);const o=s[l];uO(i[l],Array.isArray(o)?o:o?[o]:[])}}}function uO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);an(e,0,0,r)}function Ax(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Fn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pt=ai(/[A-Za-z]/),Dt=ai(/[\dA-Za-z]/),hO=ai(/[#-'*+\--9=?A-Z^-~]/);function Qc(e){return e!==null&&(e<32||e===127)}const Id=ai(/\d/),fO=ai(/[\dA-Fa-f]/),dO=ai(/[!-/:-@[-`{-~]/);function ve(e){return e!==null&&e<-2}function Be(e){return e!==null&&(e<0||e===32)}function be(e){return e===-2||e===-1||e===32}const Ru=ai(new RegExp("\\p{P}|\\p{S}","u")),Mi=ai(/\s/);function ai(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ys(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let l="";if(s===37&&Dt(e.charCodeAt(n+1))&&Dt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(l=String.fromCharCode(s,o),i=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function De(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(a){return be(a)?(e.enter(n),o(a)):t(a)}function o(a){return be(a)&&s++<i?(e.consume(a),o):(e.exit(n),t(a))}}const pO={tokenize:mO};function mO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),De(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,l(o)}function l(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ve(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),l)}}const gO={tokenize:_O},S0={tokenize:vO};function _O(e){const t=this,n=[];let r=0,i,s,l;return o;function o(_){if(r<n.length){const v=n[r];return t.containerState=v[1],e.attempt(v[0].continuation,a,c)(_)}return c(_)}function a(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&d();const v=t.events.length;let S=v,k;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){k=t.events[S][1].end;break}f(r);let b=v;for(;b<t.events.length;)t.events[b][1].end={...k},b++;return an(t.events,S+1,0,t.events.slice(v)),t.events.length=b,c(_)}return o(_)}function c(_){if(r===n.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return y(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(S0,h,u)(_)}function h(_){return i&&d(),f(r),p(_)}function u(_){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,y(_)}function p(_){return t.containerState={},e.attempt(S0,m,y)(_)}function m(_){return r++,n.push([t.currentConstruct,t.containerState]),p(_)}function y(_){if(_===null){i&&d(),f(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),w(_)}function w(_){if(_===null){g(e.exit("chunkFlow"),!0),f(0),e.consume(_);return}return ve(_)?(e.consume(_),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(_),w)}function g(_,v){const S=t.sliceStream(_);if(v&&S.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(S),t.parser.lazy[_.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<l&&(!i.events[k][1].end||i.events[k][1].end.offset>l))return;const b=t.events.length;let x=b,C,A;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){if(C){A=t.events[x][1].end;break}C=!0}for(f(r),k=b;k<t.events.length;)t.events[k][1].end={...A},k++;an(t.events,x+1,0,t.events.slice(b)),t.events.length=k}}function f(_){let v=n.length;for(;v-- >_;){const S=n[v];t.containerState=S[1],S[0].exit.call(t,e)}n.length=_}function d(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function vO(e,t,n){return De(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zs(e){if(e===null||Be(e)||Mi(e))return 1;if(Ru(e))return 2}function Nu(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Md={name:"attention",resolveAll:yO,tokenize:wO};function yO(e,t){let n=-1,r,i,s,l,o,a,c,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const u={...e[r][1].end},p={...e[n][1].start};x0(u,-a),x0(p,a),l={type:a>1?"strongSequence":"emphasisSequence",start:u,end:{...e[r][1].end}},o={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},e[r][1].end={...l.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=_n(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=_n(c,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",s,t]]),c=_n(c,Nu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=_n(c,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,c=_n(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,an(e,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zs(r);let s;return l;function l(a){return s=a,e.enter("attentionSequence"),o(a)}function o(a){if(a===s)return e.consume(a),o;const c=e.exit("attentionSequence"),h=zs(a),u=!h||h===2&&i||n.includes(a),p=!i||i===2&&h||n.includes(r);return c._open=!!(s===42?u:u&&(i||!p)),c._close=!!(s===42?p:p&&(h||!u)),t(a)}}function x0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const SO={name:"autolink",tokenize:xO};function xO(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Pt(m)?(e.consume(m),l):m===64?n(m):c(m)}function l(m){return m===43||m===45||m===46||Dt(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,a):(m===43||m===45||m===46||Dt(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function a(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Qc(m)?n(m):(e.consume(m),a)}function c(m){return m===64?(e.consume(m),h):hO(m)?(e.consume(m),c):n(m)}function h(m){return Dt(m)?u(m):n(m)}function u(m){return m===46?(e.consume(m),r=0,h):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Dt(m))&&r++<63){const y=m===45?p:u;return e.consume(m),y}return n(m)}}const Wl={partial:!0,tokenize:kO};function kO(e,t,n){return r;function r(s){return be(s)?De(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ve(s)?t(s):n(s)}}const Tx={continuation:{tokenize:CO},exit:EO,name:"blockQuote",tokenize:bO};function bO(e,t,n){const r=this;return i;function i(l){if(l===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return n(l)}function s(l){return be(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function CO(e,t,n){const r=this;return i;function i(l){return be(l)?De(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(Tx,t,n)(l)}}function EO(e){e.exit("blockQuote")}const Dx={name:"characterEscape",tokenize:AO};function AO(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return dO(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Lx={name:"characterReference",tokenize:TO};function TO(e,t,n){const r=this;let i=0,s,l;return o;function o(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),a}function a(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,l=Dt,h(u))}function c(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=fO,h):(e.enter("characterReferenceValue"),s=7,l=Id,h(u))}function h(u){if(u===59&&i){const p=e.exit("characterReferenceValue");return l===Dt&&!xm(r.sliceSerialize(p))?n(u):(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(u)&&i++<s?(e.consume(u),h):n(u)}}const k0={partial:!0,tokenize:LO},b0={concrete:!0,name:"codeFenced",tokenize:DO};function DO(e,t,n){const r=this,i={partial:!0,tokenize:S};let s=0,l=0,o;return a;function a(k){return c(k)}function c(k){const b=r.events[r.events.length-1];return s=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,o=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(k)}function h(k){return k===o?(l++,e.consume(k),h):l<3?n(k):(e.exit("codeFencedFenceSequence"),be(k)?De(e,u,"whitespace")(k):u(k))}function u(k){return k===null||ve(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(k0,w,v)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(k)):be(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,m,"whitespace")(k)):k===96&&k===o?n(k):(e.consume(k),p)}function m(k){return k===null||ve(k)?u(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===null||ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(k)):k===96&&k===o?n(k):(e.consume(k),y)}function w(k){return e.attempt(i,v,g)(k)}function g(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),f}function f(k){return s>0&&be(k)?De(e,d,"linePrefix",s+1)(k):d(k)}function d(k){return k===null||ve(k)?e.check(k0,w,v)(k):(e.enter("codeFlowValue"),_(k))}function _(k){return k===null||ve(k)?(e.exit("codeFlowValue"),d(k)):(e.consume(k),_)}function v(k){return e.exit("codeFenced"),t(k)}function S(k,b,x){let C=0;return A;function A(B){return k.enter("lineEnding"),k.consume(B),k.exit("lineEnding"),N}function N(B){return k.enter("codeFencedFence"),be(B)?De(k,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):I(B)}function I(B){return B===o?(k.enter("codeFencedFenceSequence"),F(B)):x(B)}function F(B){return B===o?(C++,k.consume(B),F):C>=l?(k.exit("codeFencedFenceSequence"),be(B)?De(k,D,"whitespace")(B):D(B)):x(B)}function D(B){return B===null||ve(B)?(k.exit("codeFencedFence"),b(B)):x(B)}}}function LO(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Mh={name:"codeIndented",tokenize:NO},RO={partial:!0,tokenize:IO};function NO(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),De(e,s,"linePrefix",5)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(c):n(c)}function l(c){return c===null?a(c):ve(c)?e.attempt(RO,l,a)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||ve(c)?(e.exit("codeFlowValue"),l(c)):(e.consume(c),o)}function a(c){return e.exit("codeIndented"),t(c)}}function IO(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):ve(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):De(e,s,"linePrefix",5)(l)}function s(l){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):ve(l)?i(l):n(l)}}const MO={name:"codeText",previous:PO,resolve:OO,tokenize:BO};function OO(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function PO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BO(e,t,n){let r=0,i,s;return l;function l(u){return e.enter("codeText"),e.enter("codeTextSequence"),o(u)}function o(u){return u===96?(e.consume(u),r++,o):(e.exit("codeTextSequence"),a(u))}function a(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),a):u===96?(s=e.enter("codeTextSequence"),i=0,h(u)):ve(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||ve(u)?(e.exit("codeTextData"),a(u)):(e.consume(u),c)}function h(u){return u===96?(e.consume(u),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(s.type="codeTextData",c(u))}}class FO{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&mo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),mo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),mo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);mo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);mo(this.left,n.reverse())}}}function mo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Rx(e){const t={};let n=-1,r,i,s,l,o,a,c;const h=new FO(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zO(h,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(l=h.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},o=h.slice(i,n),o.unshift(r),h.splice(i,n-i+1,o))}}return an(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function zO(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,a=[],c={};let h,u,p=-1,m=n,y=0,w=0;const g=[w];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),u&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),u=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(w=p+1,g.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):g.pop(),p=g.length;p--;){const f=o.slice(g[p],g[p+1]),d=s.pop();a.push([d,d+f.length-1]),e.splice(d,2,f)}for(a.reverse(),p=-1;++p<a.length;)c[y+a[p][0]]=y+a[p][1],y+=a[p][1]-a[p][0]-1;return c}const jO={resolve:$O,tokenize:UO},HO={partial:!0,tokenize:WO};function $O(e){return Rx(e),e}function UO(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ve(o)?e.check(HO,l,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function l(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function WO(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),De(e,s,"linePrefix")}function s(l){if(l===null||ve(l))return n(l);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Nx(e,t,n,r,i,s,l,o,a){const c=a||Number.POSITIVE_INFINITY;let h=0;return u;function u(f){return f===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(f),e.exit(s),p):f===null||f===32||f===41||Qc(f)?n(f):(e.enter(r),e.enter(l),e.enter(o),e.enter("chunkString",{contentType:"string"}),w(f))}function p(f){return f===62?(e.enter(s),e.consume(f),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(f))}function m(f){return f===62?(e.exit("chunkString"),e.exit(o),p(f)):f===null||f===60||ve(f)?n(f):(e.consume(f),f===92?y:m)}function y(f){return f===60||f===62||f===92?(e.consume(f),m):m(f)}function w(f){return!h&&(f===null||f===41||Be(f))?(e.exit("chunkString"),e.exit(o),e.exit(l),e.exit(r),t(f)):h<c&&f===40?(e.consume(f),h++,w):f===41?(e.consume(f),h--,w):f===null||f===32||f===40||Qc(f)?n(f):(e.consume(f),f===92?g:w)}function g(f){return f===40||f===41||f===92?(e.consume(f),w):w(f)}}function Ix(e,t,n,r,i,s){const l=this;let o=0,a;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),h}function h(m){return o>999||m===null||m===91||m===93&&!a||m===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):ve(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),u(m))}function u(m){return m===null||m===91||m===93||ve(m)||o++>999?(e.exit("chunkString"),h(m)):(e.consume(m),a||(a=!be(m)),m===92?p:u)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,u):u(m)}}function Mx(e,t,n,r,i,s){let l;return o;function o(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),l=p===40?41:p,a):n(p)}function a(p){return p===l?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===l?(e.exit(s),a(l)):p===null?n(p):ve(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),De(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===l||p===null||ve(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?u:h)}function u(p){return p===l||p===92?(e.consume(p),h):h(p)}}function Uo(e,t){let n;return r;function r(i){return ve(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):be(i)?De(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const VO={name:"definition",tokenize:YO},KO={partial:!0,tokenize:qO};function YO(e,t,n){const r=this;let i;return s;function s(m){return e.enter("definition"),l(m)}function l(m){return Ix.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=Fn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a):n(m)}function a(m){return Be(m)?Uo(e,c)(m):c(m)}function c(m){return Nx(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return e.attempt(KO,u,u)(m)}function u(m){return be(m)?De(e,p,"whitespace")(m):p(m)}function p(m){return m===null||ve(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function qO(e,t,n){return r;function r(o){return Be(o)?Uo(e,i)(o):n(o)}function i(o){return Mx(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return be(o)?De(e,l,"whitespace")(o):l(o)}function l(o){return o===null||ve(o)?t(o):n(o)}}const GO={name:"hardBreakEscape",tokenize:XO};function XO(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ve(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const ZO={name:"headingAtx",resolve:QO,tokenize:JO};function QO(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},an(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function JO(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||Be(h)?(e.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(e.enter("atxHeadingSequence"),a(h)):h===null||ve(h)?(e.exit("atxHeading"),t(h)):be(h)?De(e,o,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function a(h){return h===35?(e.consume(h),a):(e.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||Be(h)?(e.exit("atxHeadingText"),o(h)):(e.consume(h),c)}}const e5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],C0=["pre","script","style","textarea"],t5={concrete:!0,name:"htmlFlow",resolveTo:i5,tokenize:s5},n5={partial:!0,tokenize:l5},r5={partial:!0,tokenize:o5};function i5(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function s5(e,t,n){const r=this;let i,s,l,o,a;return c;function c(O){return h(O)}function h(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),u}function u(O){return O===33?(e.consume(O),p):O===47?(e.consume(O),s=!0,w):O===63?(e.consume(O),i=3,r.interrupt?t:E):Pt(O)?(e.consume(O),l=String.fromCharCode(O),g):n(O)}function p(O){return O===45?(e.consume(O),i=2,m):O===91?(e.consume(O),i=5,o=0,y):Pt(O)?(e.consume(O),i=4,r.interrupt?t:E):n(O)}function m(O){return O===45?(e.consume(O),r.interrupt?t:E):n(O)}function y(O){const Y="CDATA[";return O===Y.charCodeAt(o++)?(e.consume(O),o===Y.length?r.interrupt?t:I:y):n(O)}function w(O){return Pt(O)?(e.consume(O),l=String.fromCharCode(O),g):n(O)}function g(O){if(O===null||O===47||O===62||Be(O)){const Y=O===47,K=l.toLowerCase();return!Y&&!s&&C0.includes(K)?(i=1,r.interrupt?t(O):I(O)):e5.includes(l.toLowerCase())?(i=6,Y?(e.consume(O),f):r.interrupt?t(O):I(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?d(O):_(O))}return O===45||Dt(O)?(e.consume(O),l+=String.fromCharCode(O),g):n(O)}function f(O){return O===62?(e.consume(O),r.interrupt?t:I):n(O)}function d(O){return be(O)?(e.consume(O),d):A(O)}function _(O){return O===47?(e.consume(O),A):O===58||O===95||Pt(O)?(e.consume(O),v):be(O)?(e.consume(O),_):A(O)}function v(O){return O===45||O===46||O===58||O===95||Dt(O)?(e.consume(O),v):S(O)}function S(O){return O===61?(e.consume(O),k):be(O)?(e.consume(O),S):_(O)}function k(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),a=O,b):be(O)?(e.consume(O),k):x(O)}function b(O){return O===a?(e.consume(O),a=null,C):O===null||ve(O)?n(O):(e.consume(O),b)}function x(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Be(O)?S(O):(e.consume(O),x)}function C(O){return O===47||O===62||be(O)?_(O):n(O)}function A(O){return O===62?(e.consume(O),N):n(O)}function N(O){return O===null||ve(O)?I(O):be(O)?(e.consume(O),N):n(O)}function I(O){return O===45&&i===2?(e.consume(O),z):O===60&&i===1?(e.consume(O),H):O===62&&i===4?(e.consume(O),M):O===63&&i===3?(e.consume(O),E):O===93&&i===5?(e.consume(O),R):ve(O)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(n5,U,F)(O)):O===null||ve(O)?(e.exit("htmlFlowData"),F(O)):(e.consume(O),I)}function F(O){return e.check(r5,D,U)(O)}function D(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),B}function B(O){return O===null||ve(O)?F(O):(e.enter("htmlFlowData"),I(O))}function z(O){return O===45?(e.consume(O),E):I(O)}function H(O){return O===47?(e.consume(O),l="",L):I(O)}function L(O){if(O===62){const Y=l.toLowerCase();return C0.includes(Y)?(e.consume(O),M):I(O)}return Pt(O)&&l.length<8?(e.consume(O),l+=String.fromCharCode(O),L):I(O)}function R(O){return O===93?(e.consume(O),E):I(O)}function E(O){return O===62?(e.consume(O),M):O===45&&i===2?(e.consume(O),E):I(O)}function M(O){return O===null||ve(O)?(e.exit("htmlFlowData"),U(O)):(e.consume(O),M)}function U(O){return e.exit("htmlFlow"),t(O)}}function o5(e,t,n){const r=this;return i;function i(l){return ve(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):n(l)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function l5(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Wl,t,n)}}const a5={name:"htmlText",tokenize:c5};function c5(e,t,n){const r=this;let i,s,l;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),a}function a(E){return E===33?(e.consume(E),c):E===47?(e.consume(E),S):E===63?(e.consume(E),_):Pt(E)?(e.consume(E),x):n(E)}function c(E){return E===45?(e.consume(E),h):E===91?(e.consume(E),s=0,y):Pt(E)?(e.consume(E),d):n(E)}function h(E){return E===45?(e.consume(E),m):n(E)}function u(E){return E===null?n(E):E===45?(e.consume(E),p):ve(E)?(l=u,H(E)):(e.consume(E),u)}function p(E){return E===45?(e.consume(E),m):u(E)}function m(E){return E===62?z(E):E===45?p(E):u(E)}function y(E){const M="CDATA[";return E===M.charCodeAt(s++)?(e.consume(E),s===M.length?w:y):n(E)}function w(E){return E===null?n(E):E===93?(e.consume(E),g):ve(E)?(l=w,H(E)):(e.consume(E),w)}function g(E){return E===93?(e.consume(E),f):w(E)}function f(E){return E===62?z(E):E===93?(e.consume(E),f):w(E)}function d(E){return E===null||E===62?z(E):ve(E)?(l=d,H(E)):(e.consume(E),d)}function _(E){return E===null?n(E):E===63?(e.consume(E),v):ve(E)?(l=_,H(E)):(e.consume(E),_)}function v(E){return E===62?z(E):_(E)}function S(E){return Pt(E)?(e.consume(E),k):n(E)}function k(E){return E===45||Dt(E)?(e.consume(E),k):b(E)}function b(E){return ve(E)?(l=b,H(E)):be(E)?(e.consume(E),b):z(E)}function x(E){return E===45||Dt(E)?(e.consume(E),x):E===47||E===62||Be(E)?C(E):n(E)}function C(E){return E===47?(e.consume(E),z):E===58||E===95||Pt(E)?(e.consume(E),A):ve(E)?(l=C,H(E)):be(E)?(e.consume(E),C):z(E)}function A(E){return E===45||E===46||E===58||E===95||Dt(E)?(e.consume(E),A):N(E)}function N(E){return E===61?(e.consume(E),I):ve(E)?(l=N,H(E)):be(E)?(e.consume(E),N):C(E)}function I(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,F):ve(E)?(l=I,H(E)):be(E)?(e.consume(E),I):(e.consume(E),D)}function F(E){return E===i?(e.consume(E),i=void 0,B):E===null?n(E):ve(E)?(l=F,H(E)):(e.consume(E),F)}function D(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Be(E)?C(E):(e.consume(E),D)}function B(E){return E===47||E===62||Be(E)?C(E):n(E)}function z(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function H(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),L}function L(E){return be(E)?De(e,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):R(E)}function R(E){return e.enter("htmlTextData"),l(E)}}const km={name:"labelEnd",resolveAll:d5,resolveTo:p5,tokenize:m5},u5={tokenize:g5},h5={tokenize:_5},f5={tokenize:v5};function d5(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&an(e,0,e.length,n),e}function p5(e,t){let n=e.length,r=0,i,s,l,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const a={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[l-2][1].start}};return o=[["enter",a,t],["enter",c,t]],o=_n(o,e.slice(s+1,s+r+3)),o=_n(o,[["enter",h,t]]),o=_n(o,Nu(t.parser.constructs.insideSpan.null,e.slice(s+r+4,l-3),t)),o=_n(o,[["exit",h,t],e[l-2],e[l-1],["exit",c,t]]),o=_n(o,e.slice(l+1)),o=_n(o,[["exit",a,t]]),an(e,s,e.length,o),e}function m5(e,t,n){const r=this;let i=r.events.length,s,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(p){return s?s._inactive?u(p):(l=r.parser.defined.includes(Fn(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),a):n(p)}function a(p){return p===40?e.attempt(u5,h,l?h:u)(p):p===91?e.attempt(h5,h,l?c:u)(p):l?h(p):u(p)}function c(p){return e.attempt(f5,h,u)(p)}function h(p){return t(p)}function u(p){return s._balanced=!0,n(p)}}function g5(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),i}function i(u){return Be(u)?Uo(e,s)(u):s(u)}function s(u){return u===41?h(u):Nx(e,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function l(u){return Be(u)?Uo(e,a)(u):h(u)}function o(u){return n(u)}function a(u){return u===34||u===39||u===40?Mx(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):h(u)}function c(u){return Be(u)?Uo(e,h)(u):h(u)}function h(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function _5(e,t,n){const r=this;return i;function i(o){return Ix.call(r,e,s,l,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Fn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function l(o){return n(o)}}function v5(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const y5={name:"labelStartImage",resolveAll:km.resolveAll,tokenize:w5};function w5(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),l):n(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const S5={name:"labelStartLink",resolveAll:km.resolveAll,tokenize:x5};function x5(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Oh={name:"lineEnding",tokenize:k5};function k5(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),De(e,t,"linePrefix")}}const uc={name:"thematicBreak",tokenize:b5};function b5(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),l(c)}function l(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),a(c)):r>=3&&(c===null||ve(c))?(e.exit("thematicBreak"),t(c)):n(c)}function a(c){return c===i?(e.consume(c),r++,a):(e.exit("thematicBreakSequence"),be(c)?De(e,o,"whitespace")(c):o(c))}}const Ut={continuation:{tokenize:T5},exit:L5,name:"list",tokenize:A5},C5={partial:!0,tokenize:R5},E5={partial:!0,tokenize:D5};function A5(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return o;function o(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Id(m)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(uc,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(m)}return n(m)}function a(m){return Id(m)&&++l<10?(e.consume(m),a):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Wl,r.interrupt?n:h,e.attempt(C5,p,u))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function u(m){return be(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function T5(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Wl,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!be(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(E5,t,l)(o))}function l(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(e,e.attempt(Ut,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function D5(e,t,n){const r=this;return De(e,i,"listItemIndent",r.containerState.size+1);function i(s){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(s):n(s)}}function L5(e){e.exit(this.containerState.type)}function R5(e,t,n){const r=this;return De(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const l=r.events[r.events.length-1];return!be(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const E0={name:"setextUnderline",resolveTo:N5,tokenize:I5};function N5(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",l,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function I5(e,t,n){const r=this;let i;return s;function s(c){let h=r.events.length,u;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){u=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||u)?(e.enter("setextHeadingLine"),i=c,l(c)):n(c)}function l(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),be(c)?De(e,a,"lineSuffix")(c):a(c))}function a(c){return c===null||ve(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const M5={tokenize:O5};function O5(e){const t=this,n=e.attempt(Wl,r,e.attempt(this.parser.constructs.flowInitial,i,De(e,e.attempt(this.parser.constructs.flow,i,e.attempt(jO,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const P5={resolveAll:Px()},B5=Ox("string"),F5=Ox("text");function Ox(e){return{resolveAll:Px(e==="text"?z5:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,l,o);return l;function l(h){return c(h)?s(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),a}function a(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),a)}function c(h){if(h===null)return!0;const u=i[h];let p=-1;if(u)for(;++p<u.length;){const m=u[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Px(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function z5(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,l=-1,o=0,a;for(;s--;){const c=i[s];if(typeof c=="string"){for(l=c.length;c.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(c===-2)a=!0,o++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||a||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:r.start._bufferIndex+l,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const j5={42:Ut,43:Ut,45:Ut,48:Ut,49:Ut,50:Ut,51:Ut,52:Ut,53:Ut,54:Ut,55:Ut,56:Ut,57:Ut,62:Tx},H5={91:VO},$5={[-2]:Mh,[-1]:Mh,32:Mh},U5={35:ZO,42:uc,45:[E0,uc],60:t5,61:E0,95:uc,96:b0,126:b0},W5={38:Lx,92:Dx},V5={[-5]:Oh,[-4]:Oh,[-3]:Oh,33:y5,38:Lx,42:Md,60:[SO,a5],91:S5,92:[GO,Dx],93:km,95:Md,96:MO},K5={null:[Md,P5]},Y5={null:[42,95]},q5={null:[]},G5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Y5,contentInitial:H5,disable:q5,document:j5,flow:U5,flowInitial:$5,insideSpan:K5,string:W5,text:V5},Symbol.toStringTag,{value:"Module"}));function X5(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let l=[],o=[];const a={attempt:b(S),check:b(k),consume:d,enter:_,exit:v,interrupt:b(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:u};let h=t.tokenize.call(c,a);return t.resolveAll&&s.push(t),c;function u(N){return l=_n(l,N),g(),l[l.length-1]!==null?[]:(x(t,0),c.events=Nu(s,c.events,c),c.events)}function p(N,I){return Q5(m(N),I)}function m(N){return Z5(l,N)}function y(){const{_bufferIndex:N,_index:I,line:F,column:D,offset:B}=r;return{_bufferIndex:N,_index:I,line:F,column:D,offset:B}}function w(N){i[N.line]=N.column,A()}function g(){let N;for(;r._index<l.length;){const I=l[r._index];if(typeof I=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<I.length;)f(I.charCodeAt(r._bufferIndex));else f(I)}}function f(N){h=h(N)}function d(N){ve(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,A()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=N}function _(N,I){const F=I||{};return F.type=N,F.start=y(),c.events.push(["enter",F,c]),o.push(F),F}function v(N){const I=o.pop();return I.end=y(),c.events.push(["exit",I,c]),I}function S(N,I){x(N,I.from)}function k(N,I){I.restore()}function b(N,I){return F;function F(D,B,z){let H,L,R,E;return Array.isArray(D)?U(D):"tokenize"in D?U([D]):M(D);function M(ee){return P;function P(W){const G=W!==null&&ee[W],q=W!==null&&ee.null,ce=[...Array.isArray(G)?G:G?[G]:[],...Array.isArray(q)?q:q?[q]:[]];return U(ce)(W)}}function U(ee){return H=ee,L=0,ee.length===0?z:O(ee[L])}function O(ee){return P;function P(W){return E=C(),R=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?K():ee.tokenize.call(I?Object.assign(Object.create(c),I):c,a,Y,K)(W)}}function Y(ee){return N(R,E),B}function K(ee){return E.restore(),++L<H.length?O(H[L]):z}}}function x(N,I){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&an(c.events,I,c.events.length-I,N.resolve(c.events.slice(I),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function C(){const N=y(),I=c.previous,F=c.currentConstruct,D=c.events.length,B=Array.from(o);return{from:D,restore:z};function z(){r=N,c.previous=I,c.currentConstruct=F,c.events.length=D,o=B,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Z5(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,s)];else{if(l=e.slice(n,i),r>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(r):l.shift()}s>0&&l.push(e[i].slice(0,s))}return l}function Q5(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(s)}i=s===-2,r.push(l)}return r.join("")}function J5(e){const r={constructs:Ex([G5,...(e||{}).extensions||[]]),content:i(pO),defined:[],document:i(gO),flow:i(M5),lazy:{},string:i(B5),text:i(F5)};return r;function i(s){return l;function l(o){return X5(r,s,o)}}}function eP(e){for(;!Rx(e););return e}const A0=/[\0\t\n\r]/g;function tP(){let e=1,t="",n=!0,r;return i;function i(s,l,o){const a=[];let c,h,u,p,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),u=0,t="",n&&(s.charCodeAt(0)===65279&&u++,n=void 0);u<s.length;){if(A0.lastIndex=u,c=A0.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){t=s.slice(u);break}if(m===10&&u===p&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),u<p&&(a.push(s.slice(u,p)),e+=p-u),m){case 0:{a.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,a.push(-2);e++<h;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}u=p+1}return o&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const nP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rP(e){return e.replace(nP,iP)}function iP(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Ax(n.slice(s?2:1),s?16:10)}return xm(n)||e}const Bx={}.hasOwnProperty;function sP(e,t,n){return typeof t!="string"&&(n=t,t=void 0),oP(n)(eP(J5(n).document().write(tP()(e,t,!0))))}function oP(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ne),autolinkProtocol:C,autolinkEmail:C,atxHeading:s(ye),blockQuote:s(q),characterEscape:C,characterReference:C,codeFenced:s(ce),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(ce,l),codeText:s(ne,l),codeTextData:C,data:C,codeFlowValue:C,definition:s(de),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(we),hardBreakEscape:s(Re),hardBreakTrailing:s(Re),htmlFlow:s(oe,l),htmlFlowData:C,htmlText:s(oe,l),htmlTextData:C,image:s(le),label:l,link:s(Ne),listItem:s(at),listItemValue:p,listOrdered:s(Ue,u),listUnordered:s(Ue),paragraph:s(tt),reference:O,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(ye),strong:s(Ae),thematicBreak:s(Oe)},exit:{atxHeading:a(),atxHeadingSequence:S,autolink:a(),autolinkEmail:G,autolinkProtocol:W,blockQuote:a(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:ee,characterReference:P,codeFenced:a(g),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:A,codeIndented:a(f),codeText:a(B),codeTextData:A,data:A,definition:a(),definitionDestinationString:v,definitionLabelString:d,definitionTitleString:_,emphasis:a(),hardBreakEscape:a(I),hardBreakTrailing:a(I),htmlFlow:a(F),htmlFlowData:A,htmlText:a(D),htmlTextData:A,image:a(H),label:R,labelText:L,lineEnding:N,link:a(z),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Y,resourceDestinationString:E,resourceTitleString:M,resource:U,setextHeading:a(x),setextHeadingLineSequence:b,setextHeadingText:k,strong:a(),thematicBreak:a()}};Fx(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let J={type:"root",children:[]};const ae={stack:[J],tokenStack:[],config:t,enter:o,exit:c,buffer:l,resume:h,data:n},_e=[];let $=-1;for(;++$<Z.length;)if(Z[$][1].type==="listOrdered"||Z[$][1].type==="listUnordered")if(Z[$][0]==="enter")_e.push($);else{const X=_e.pop();$=i(Z,X,$)}for($=-1;++$<Z.length;){const X=t[Z[$][0]];Bx.call(X,Z[$][1].type)&&X[Z[$][1].type].call(Object.assign({sliceSerialize:Z[$][2].sliceSerialize},ae),Z[$][1])}if(ae.tokenStack.length>0){const X=ae.tokenStack[ae.tokenStack.length-1];(X[1]||T0).call(ae,void 0,X[0])}for(J.position={start:Lr(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:Lr(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},$=-1;++$<t.transforms.length;)J=t.transforms[$](J)||J;return J}function i(Z,J,ae){let _e=J-1,$=-1,X=!1,te,fe,qe,Ie;for(;++_e<=ae;){const Te=Z[_e];switch(Te[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Te[0]==="enter"?$++:$--,Ie=void 0;break}case"lineEndingBlank":{Te[0]==="enter"&&(te&&!Ie&&!$&&!qe&&(qe=_e),Ie=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ie=void 0}if(!$&&Te[0]==="enter"&&Te[1].type==="listItemPrefix"||$===-1&&Te[0]==="exit"&&(Te[1].type==="listUnordered"||Te[1].type==="listOrdered")){if(te){let nt=_e;for(fe=void 0;nt--;){const ct=Z[nt];if(ct[1].type==="lineEnding"||ct[1].type==="lineEndingBlank"){if(ct[0]==="exit")continue;fe&&(Z[fe][1].type="lineEndingBlank",X=!0),ct[1].type="lineEnding",fe=nt}else if(!(ct[1].type==="linePrefix"||ct[1].type==="blockQuotePrefix"||ct[1].type==="blockQuotePrefixWhitespace"||ct[1].type==="blockQuoteMarker"||ct[1].type==="listItemIndent"))break}qe&&(!fe||qe<fe)&&(te._spread=!0),te.end=Object.assign({},fe?Z[fe][1].start:Te[1].end),Z.splice(fe||_e,0,["exit",te,Te[2]]),_e++,ae++}if(Te[1].type==="listItemPrefix"){const nt={type:"listItem",_spread:!1,start:Object.assign({},Te[1].start),end:void 0};te=nt,Z.splice(_e,0,["enter",nt,Te[2]]),_e++,ae++,qe=void 0,Ie=!0}}}return Z[J][1]._spread=X,ae}function s(Z,J){return ae;function ae(_e){o.call(this,Z(_e),_e),J&&J.call(this,_e)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(Z,J,ae){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([J,ae||void 0]),Z.position={start:Lr(J.start),end:void 0}}function a(Z){return J;function J(ae){Z&&Z.call(this,ae),c.call(this,ae)}}function c(Z,J){const ae=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==Z.type&&(J?J.call(this,Z,_e[0]):(_e[1]||T0).call(this,Z,_e[0]));else throw new Error("Cannot close `"+Z.type+"` ("+$o({start:Z.start,end:Z.end})+"): its not open");ae.position.end=Lr(Z.end)}function h(){return Sm(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function p(Z){if(this.data.expectingFirstListItemValue){const J=this.stack[this.stack.length-2];J.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.lang=Z}function y(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.meta=Z}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function f(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.value=Z.replace(/(\r?\n|\r)$/g,"")}function d(Z){const J=this.resume(),ae=this.stack[this.stack.length-1];ae.label=J,ae.identifier=Fn(this.sliceSerialize(Z)).toLowerCase()}function _(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.title=Z}function v(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.url=Z}function S(Z){const J=this.stack[this.stack.length-1];if(!J.depth){const ae=this.sliceSerialize(Z).length;J.depth=ae}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function b(Z){const J=this.stack[this.stack.length-1];J.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function C(Z){const ae=this.stack[this.stack.length-1].children;let _e=ae[ae.length-1];(!_e||_e.type!=="text")&&(_e=Fe(),_e.position={start:Lr(Z.start),end:void 0},ae.push(_e)),this.stack.push(_e)}function A(Z){const J=this.stack.pop();J.value+=this.sliceSerialize(Z),J.position.end=Lr(Z.end)}function N(Z){const J=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=J.children[J.children.length-1];ae.position.end=Lr(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(J.type)&&(C.call(this,Z),A.call(this,Z))}function I(){this.data.atHardBreak=!0}function F(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.value=Z}function D(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.value=Z}function B(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.value=Z}function z(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=J,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function H(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=J,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function L(Z){const J=this.sliceSerialize(Z),ae=this.stack[this.stack.length-2];ae.label=rP(J),ae.identifier=Fn(J).toLowerCase()}function R(){const Z=this.stack[this.stack.length-1],J=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const _e=Z.children;ae.children=_e}else ae.alt=J}function E(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.url=Z}function M(){const Z=this.resume(),J=this.stack[this.stack.length-1];J.title=Z}function U(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Y(Z){const J=this.resume(),ae=this.stack[this.stack.length-1];ae.label=J,ae.identifier=Fn(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function K(Z){this.data.characterReferenceType=Z.type}function ee(Z){const J=this.sliceSerialize(Z),ae=this.data.characterReferenceType;let _e;ae?(_e=Ax(J,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=xm(J);const $=this.stack[this.stack.length-1];$.value+=_e}function P(Z){const J=this.stack.pop();J.position.end=Lr(Z.end)}function W(Z){A.call(this,Z);const J=this.stack[this.stack.length-1];J.url=this.sliceSerialize(Z)}function G(Z){A.call(this,Z);const J=this.stack[this.stack.length-1];J.url="mailto:"+this.sliceSerialize(Z)}function q(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function de(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function ye(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function oe(){return{type:"html",value:""}}function le(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function Ue(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function at(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function Ae(){return{type:"strong",children:[]}}function Fe(){return{type:"text",value:""}}function Oe(){return{type:"thematicBreak"}}}function Lr(e){return{line:e.line,column:e.column,offset:e.offset}}function Fx(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Fx(e,r):lP(e,r)}}function lP(e,t){let n;for(n in t)if(Bx.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function T0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+$o({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+$o({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+$o({start:t.start,end:t.end})+") is still open")}function aP(e){const t=this;t.parser=n;function n(r){return sP(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function cP(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function uP(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function hP(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function fP(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dP(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pP(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ys(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let l,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=s+1,o+=1,e.footnoteCounts.set(r,o);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,a);const c={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,c),e.applyData(t,c)}function mP(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gP(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function zx(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function _P(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return zx(e,t);const i={src:Ys(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function vP(e,t){const n={src:Ys(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function yP(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wP(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return zx(e,t);const i={href:Ys(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function SP(e,t){const n={href:Ys(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xP(e,t,n){const r=e.all(t),i=n?kP(n):jx(t),s={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let u;h&&h.type==="element"&&h.tagName==="p"?u=h:(u={type:"element",tagName:"p",properties:{},children:[]},r.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?l.push(...h.children):l.push(h)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,c),e.applyData(t,c)}function kP(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=jx(n[r])}return t}function jx(e){const t=e.spread;return t??e.children.length>1}function bP(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function CP(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function EP(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function AP(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TP(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=_m(t.children[1]),a=yx(t.children[t.children.length-1]);o&&a&&(l.position={start:o,end:a}),i.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function DP(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,o=l?l.length:t.children.length;let a=-1;const c=[];for(;++a<o;){const u=t.children[a],p={},m=l?l[a]:void 0;m&&(p.align=m);let y={type:"element",tagName:s,properties:p,children:[]};u&&(y.children=e.all(u),e.patch(u,y),y=e.applyData(u,y)),c.push(y)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,h),e.applyData(t,h)}function LP(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const D0=9,L0=32;function RP(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(R0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(R0(t.slice(i),i>0,!1)),s.join("")}function R0(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===D0||s===L0;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===D0||s===L0;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function NP(e,t){const n={type:"text",value:RP(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function IP(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const MP={blockquote:cP,break:uP,code:hP,delete:fP,emphasis:dP,footnoteReference:pP,heading:mP,html:gP,imageReference:_P,image:vP,inlineCode:yP,linkReference:wP,link:SP,listItem:xP,list:bP,paragraph:CP,root:EP,strong:AP,table:TP,tableCell:LP,tableRow:DP,text:NP,thematicBreak:IP,toml:Ba,yaml:Ba,definition:Ba,footnoteDefinition:Ba};function Ba(){}const Hx=-1,Iu=0,Wo=1,Jc=2,bm=3,Cm=4,Em=5,Am=6,$x=7,Ux=8,N0=typeof self=="object"?self:globalThis,OP=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,l]=t[i];switch(s){case Iu:case Hx:return n(l,i);case Wo:{const o=n([],i);for(const a of l)o.push(r(a));return o}case Jc:{const o=n({},i);for(const[a,c]of l)o[r(a)]=r(c);return o}case bm:return n(new Date(l),i);case Cm:{const{source:o,flags:a}=l;return n(new RegExp(o,a),i)}case Em:{const o=n(new Map,i);for(const[a,c]of l)o.set(r(a),r(c));return o}case Am:{const o=n(new Set,i);for(const a of l)o.add(r(a));return o}case $x:{const{name:o,message:a}=l;return n(new N0[o](a),i)}case Ux:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return n(new DataView(o),l)}}return n(new N0[s](l),i)};return r},I0=e=>OP(new Map,e)(0),Gi="",{toString:PP}={},{keys:BP}=Object,go=e=>{const t=typeof e;if(t!=="object"||!e)return[Iu,t];const n=PP.call(e).slice(8,-1);switch(n){case"Array":return[Wo,Gi];case"Object":return[Jc,Gi];case"Date":return[bm,Gi];case"RegExp":return[Cm,Gi];case"Map":return[Em,Gi];case"Set":return[Am,Gi];case"DataView":return[Wo,n]}return n.includes("Array")?[Wo,n]:n.includes("Error")?[$x,n]:[Jc,n]},Fa=([e,t])=>e===Iu&&(t==="function"||t==="symbol"),FP=(e,t,n,r)=>{const i=(l,o)=>{const a=r.push(l)-1;return n.set(o,a),a},s=l=>{if(n.has(l))return n.get(l);let[o,a]=go(l);switch(o){case Iu:{let h=l;switch(a){case"bigint":o=Ux,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);h=null;break;case"undefined":return i([Hx],l)}return i([o,h],l)}case Wo:{if(a){let p=l;return a==="DataView"?p=new Uint8Array(l.buffer):a==="ArrayBuffer"&&(p=new Uint8Array(l)),i([a,[...p]],l)}const h=[],u=i([o,h],l);for(const p of l)h.push(s(p));return u}case Jc:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const h=[],u=i([o,h],l);for(const p of BP(l))(e||!Fa(go(l[p])))&&h.push([s(p),s(l[p])]);return u}case bm:return i([o,l.toISOString()],l);case Cm:{const{source:h,flags:u}=l;return i([o,{source:h,flags:u}],l)}case Em:{const h=[],u=i([o,h],l);for(const[p,m]of l)(e||!(Fa(go(p))||Fa(go(m))))&&h.push([s(p),s(m)]);return u}case Am:{const h=[],u=i([o,h],l);for(const p of l)(e||!Fa(go(p)))&&h.push(s(p));return u}}const{message:c}=l;return i([o,{name:a,message:c}],l)};return s},M0=(e,{json:t,lossy:n}={})=>{const r=[];return FP(!(t||n),!!t,new Map,r)(e),r},eu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?I0(M0(e,t)):structuredClone(e):(e,t)=>I0(M0(e,t));function zP(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function jP(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function HP(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||zP,r=e.options.footnoteBackLabel||jP,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let a=-1;for(;++a<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[a]);if(!c)continue;const h=e.all(c),u=String(c.identifier).toUpperCase(),p=Ys(u.toLowerCase());let m=0;const y=[],w=e.footnoteCounts.get(u);for(;w!==void 0&&++m<=w;){y.length>0&&y.push({type:"text",value:" "});let d=typeof n=="string"?n:n(a,m);typeof d=="string"&&(d={type:"text",value:d}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(d)?d:[d]})}const g=h[h.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const d=g.children[g.children.length-1];d&&d.type==="text"?d.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...y)}else h.push(...y);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(h,!0)};e.patch(c,f),o.push(f)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...eu(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Mu=function(e){if(e==null)return VP;if(typeof e=="function")return Ou(e);if(typeof e=="object")return Array.isArray(e)?$P(e):UP(e);if(typeof e=="string")return WP(e);throw new Error("Expected function, string, or object as test")};function $P(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Mu(e[n]);return Ou(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function UP(e){const t=e;return Ou(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function WP(e){return Ou(t);function t(n){return n&&n.type===e}}function Ou(e){return t;function t(n,r,i){return!!(KP(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function VP(){return!0}function KP(e){return e!==null&&typeof e=="object"&&"type"in e}const Wx=[],YP=!0,Od=!1,qP="skip";function Vx(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Mu(i),l=r?-1:1;o(e,void 0,[])();function o(a,c,h){const u=a&&typeof a=="object"?a:{};if(typeof u.type=="string"){const m=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=Wx,y,w,g;if((!t||s(a,c,h[h.length-1]||void 0))&&(m=GP(n(a,h)),m[0]===Od))return m;if("children"in a&&a.children){const f=a;if(f.children&&m[0]!==qP)for(w=(r?f.children.length:-1)+l,g=h.concat(f);w>-1&&w<f.children.length;){const d=f.children[w];if(y=o(d,w,g)(),y[0]===Od)return y;w=typeof y[1]=="number"?y[1]:w+l}}return m}}}function GP(e){return Array.isArray(e)?e:typeof e=="number"?[YP,e]:e==null?Wx:[e]}function Tm(e,t,n,r){let i,s,l;typeof t=="function"&&typeof n!="function"?(s=void 0,l=t,i=n):(s=t,l=n,i=r),Vx(e,s,o,i);function o(a,c){const h=c[c.length-1],u=h?h.children.indexOf(a):void 0;return l(a,u,h)}}const Pd={}.hasOwnProperty,XP={};function ZP(e,t){const n=t||XP,r=new Map,i=new Map,s=new Map,l={...MP,...n.handlers},o={all:c,applyData:JP,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:l,one:a,options:n,patch:QP,wrap:t4};return Tm(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const u=h.type==="definition"?r:i,p=String(h.identifier).toUpperCase();u.has(p)||u.set(p,h)}}),o;function a(h,u){const p=h.type,m=o.handlers[p];if(Pd.call(o.handlers,p)&&m)return m(o,h,u);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in h){const{children:w,...g}=h,f=eu(g);return f.children=o.all(h),f}return eu(h)}return(o.options.unknownHandler||e4)(o,h,u)}function c(h){const u=[];if("children"in h){const p=h.children;let m=-1;for(;++m<p.length;){const y=o.one(p[m],h);if(y){if(m&&p[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=O0(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=O0(w.value))}Array.isArray(y)?u.push(...y):u.push(y)}}}return u}}function QP(e,t){e.position&&(t.position=jM(e))}function JP(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&s&&Object.assign(n.properties,eu(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function e4(e,t){const n=t.data||{},r="value"in t&&!(Pd.call(n,"hProperties")||Pd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function t4(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function O0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function P0(e,t){const n=ZP(e,t),r=n.one(e,void 0),i=HP(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function n4(e,t){return e&&"run"in e?async function(n,r){const i=P0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return P0(n,{file:r,...e||t})}}function B0(e){if(e)throw e}var hc=Object.prototype.hasOwnProperty,Kx=Object.prototype.toString,F0=Object.defineProperty,z0=Object.getOwnPropertyDescriptor,j0=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Kx.call(t)==="[object Array]"},H0=function(t){if(!t||Kx.call(t)!=="[object Object]")return!1;var n=hc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&hc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||hc.call(t,i)},$0=function(t,n){F0&&n.name==="__proto__"?F0(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},U0=function(t,n){if(n==="__proto__")if(hc.call(t,n)){if(z0)return z0(t,n).value}else return;return t[n]},r4=function e(){var t,n,r,i,s,l,o=arguments[0],a=1,c=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},a=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});a<c;++a)if(t=arguments[a],t!=null)for(n in t)r=U0(o,n),i=U0(t,n),o!==i&&(h&&i&&(H0(i)||(s=j0(i)))?(s?(s=!1,l=r&&j0(r)?r:[]):l=r&&H0(r)?r:{},$0(o,{name:n,newValue:e(h,l,i)})):typeof i<"u"&&$0(o,{name:n,newValue:i}));return o};const Ph=Ml(r4);function Bd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i4(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...i);function o(a,...c){const h=e[++s];let u=-1;if(a){l(a);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,h?s4(h,o)(...c):l(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function s4(e,t){let n;return r;function r(...l){const o=e.length>l.length;let a;o&&l.push(i);try{a=e.apply(this,l)}catch(c){const h=c;if(o&&n)throw h;return i(h)}o||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(l,...o){n||(n=!0,t(l,...o))}function s(l){i(null,l)}}const Kn={basename:o4,dirname:l4,extname:a4,join:c4,sep:"/"};function o4(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Vl(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else l<0&&(s=!0,l=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function l4(e){if(Vl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function a4(e){Vl(e);let t=e.length,n=-1,r=0,i=-1,s=0,l;for(;t--;){const o=e.codePointAt(t);if(o===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function c4(...e){let t=-1,n;for(;++t<e.length;)Vl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":u4(n)}function u4(e){Vl(e);const t=e.codePointAt(0)===47;let n=h4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function h4(e,t){let n="",r=0,i=-1,s=0,l=-1,o,a;for(;++l<=e.length;){if(l<e.length)o=e.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=l,s=0;continue}}else if(n.length>0){n="",r=0,i=l,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,s=0}else o===46&&s>-1?s++:s=-1}return n}function Vl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const f4={cwd:d4};function d4(){return"/"}function Fd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function p4(e){if(typeof e=="string")e=new URL(e);else if(!Fd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return m4(e)}function m4(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Bh=["history","path","basename","stem","extname","dirname"];class Yx{constructor(t){let n;t?Fd(t)?n={path:t}:typeof t=="string"||g4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":f4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Bh.length;){const s=Bh[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Bh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Kn.basename(this.path):void 0}set basename(t){zh(t,"basename"),Fh(t,"basename"),this.path=Kn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Kn.dirname(this.path):void 0}set dirname(t){W0(this.basename,"dirname"),this.path=Kn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Kn.extname(this.path):void 0}set extname(t){if(Fh(t,"extname"),W0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Fd(t)&&(t=p4(t)),zh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Kn.basename(this.path,this.extname):void 0}set stem(t){zh(t,"stem"),Fh(t,"stem"),this.path=Kn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new It(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Fh(e,t){if(e&&e.includes(Kn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Kn.sep+"`")}function zh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function W0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function g4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _4=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},v4={}.hasOwnProperty;class Dm extends _4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i4()}copy(){const t=new Dm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ph(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?($h("data",this.frozen),this.namespace[t]=n,this):v4.call(this.namespace,t)&&this.namespace[t]||void 0:t?($h("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=za(t),r=this.parser||this.Parser;return jh("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),jh("process",this.parser||this.Parser),Hh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,l){const o=za(t),a=r.parse(o);r.run(a,o,function(h,u,p){if(h||!u||!p)return c(h);const m=u,y=r.stringify(m,p);S4(y)?p.value=y:p.result=y,c(h,p)});function c(h,u){h||!u?l(h):s?s(u):n(void 0,u)}}}processSync(t){let n=!1,r;return this.freeze(),jh("processSync",this.parser||this.Parser),Hh("processSync",this.compiler||this.Compiler),this.process(t,i),K0("processSync","process",n),r;function i(s,l){n=!0,B0(s),r=l}}run(t,n,r){V0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(l,o){const a=za(n);i.run(t,a,c);function c(h,u,p){const m=u||t;h?o(h):l?l(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),K0("runSync","run",r),i;function s(l,o){B0(l),i=o,r=!0}}stringify(t,n){this.freeze();const r=za(n),i=this.compiler||this.Compiler;return Hh("stringify",i),V0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if($h("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")a(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...u]=c;a(h,u)}else l(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function l(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Ph(!0,i.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const u=c[h];s(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function a(c,h){let u=-1,p=-1;for(;++u<r.length;)if(r[u][0]===c){p=u;break}if(p===-1)r.push([c,...h]);else if(h.length>0){let[m,...y]=h;const w=r[p][1];Bd(w)&&Bd(m)&&(m=Ph(!0,w,m)),r[p]=[c,m,...y]}}}}const y4=new Dm().freeze();function jh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Hh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function $h(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function V0(e){if(!Bd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function K0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function za(e){return w4(e)?e:new Yx(e)}function w4(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function S4(e){return typeof e=="string"||x4(e)}function x4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const k4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Y0=[],q0={allowDangerousHtml:!0},b4=/^(https?|ircs?|mailto|xmpp)$/i,C4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function E4(e){const t=A4(e),n=T4(e);return D4(t.runSync(t.parse(n),n),e)}function A4(e){const t=e.rehypePlugins||Y0,n=e.remarkPlugins||Y0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...q0}:q0;return y4().use(aP).use(n).use(n4,r).use(t)}function T4(e){const t=e.children||"",n=new Yx;return typeof t=="string"&&(n.value=t),n}function D4(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,l=t.skipHtml,o=t.unwrapDisallowed,a=t.urlTransform||L4;for(const h of C4)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+k4+h.id,void 0);return Tm(e,c),VM(e,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function c(h,u,p){if(h.type==="raw"&&p&&typeof u=="number")return l?p.children.splice(u,1):p.children[u]={type:"text",value:h.value},u;if(h.type==="element"){let m;for(m in Ih)if(Object.hasOwn(Ih,m)&&Object.hasOwn(h.properties,m)){const y=h.properties[m],w=Ih[m];(w===null||w.includes(h.tagName))&&(h.properties[m]=a(String(y||""),m,h))}}if(h.type==="element"){let m=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!m&&r&&typeof u=="number"&&(m=!r(h,u,p)),m&&p&&typeof u=="number")return o&&h.children?p.children.splice(u,1,...h.children):p.children.splice(u,1),u}}}function L4(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||b4.test(e.slice(0,t))?e:""}function G0(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function R4(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function N4(e,t,n){const i=Mu((n||{}).ignore||[]),s=I4(t);let l=-1;for(;++l<s.length;)Vx(e,"text",o);function o(c,h){let u=-1,p;for(;++u<h.length;){const m=h[u],y=p?p.children:void 0;if(i(m,y?y.indexOf(m):void 0,p))return;p=m}if(p)return a(c,h)}function a(c,h){const u=h[h.length-1],p=s[l][0],m=s[l][1];let y=0;const g=u.children.indexOf(c);let f=!1,d=[];p.lastIndex=0;let _=p.exec(c.value);for(;_;){const v=_.index,S={index:_.index,input:_.input,stack:[...h,c]};let k=m(..._,S);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?p.lastIndex=v+1:(y!==v&&d.push({type:"text",value:c.value.slice(y,v)}),Array.isArray(k)?d.push(...k):k&&d.push(k),y=v+_[0].length,f=!0),!p.global)break;_=p.exec(c.value)}return f?(y<c.value.length&&d.push({type:"text",value:c.value.slice(y)}),u.children.splice(g,1,...d)):d=[c],g+d.length}}function I4(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([M4(i[0]),O4(i[1])])}return t}function M4(e){return typeof e=="string"?new RegExp(R4(e),"g"):e}function O4(e){return typeof e=="function"?e:function(){return e}}const Uh="phrasing",Wh=["autolink","link","image","label"];function P4(){return{transforms:[U4],enter:{literalAutolink:F4,literalAutolinkEmail:Vh,literalAutolinkHttp:Vh,literalAutolinkWww:Vh},exit:{literalAutolink:$4,literalAutolinkEmail:H4,literalAutolinkHttp:z4,literalAutolinkWww:j4}}}function B4(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Uh,notInConstruct:Wh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Uh,notInConstruct:Wh},{character:":",before:"[ps]",after:"\\/",inConstruct:Uh,notInConstruct:Wh}]}}function F4(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Vh(e){this.config.enter.autolinkProtocol.call(this,e)}function z4(e){this.config.exit.autolinkProtocol.call(this,e)}function j4(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function H4(e){this.config.exit.autolinkEmail.call(this,e)}function $4(e){this.exit(e)}function U4(e){N4(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,W4],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),V4]],{ignore:["link","linkReference"]})}function W4(e,t,n,r,i){let s="";if(!qx(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!K4(n)))return!1;const l=Y4(n+r);if(!l[0])return!1;const o={type:"link",title:null,url:s+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[o,{type:"text",value:l[1]}]:o}function V4(e,t,n,r){return!qx(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function K4(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Y4(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=G0(e,"(");let s=G0(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function qx(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Mi(n)||Ru(n))&&(!t||n!==47)}Gx.peek=n6;function q4(){this.buffer()}function G4(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function X4(){this.buffer()}function Z4(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Q4(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function J4(e){this.exit(e)}function e6(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function t6(e){this.exit(e)}function n6(){return"["}function Gx(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const l=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),l(),s+=i.move("]"),s}function r6(){return{enter:{gfmFootnoteCallString:q4,gfmFootnoteCall:G4,gfmFootnoteDefinitionLabelString:X4,gfmFootnoteDefinition:Z4},exit:{gfmFootnoteCallString:Q4,gfmFootnoteCall:J4,gfmFootnoteDefinitionLabelString:e6,gfmFootnoteDefinition:t6}}}function i6(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Gx},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,l){const o=s.createTracker(l);let a=o.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return a+=o.move(s.safe(s.associationId(r),{before:a,after:"]"})),h(),a+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),a+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?Xx:s6))),c(),a}}function s6(e,t,n){return t===0?e:Xx(e,t,n)}function Xx(e,t,n){return(n?"":"    ")+e}const o6=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Zx.peek=h6;function l6(){return{canContainEols:["delete"],enter:{strikethrough:c6},exit:{strikethrough:u6}}}function a6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:o6}],handlers:{delete:Zx}}}function c6(e){this.enter({type:"delete",children:[]},e)}function u6(e){this.exit(e)}function Zx(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),s(),l}function h6(){return"~"}function f6(e){return e.length}function d6(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||f6,s=[],l=[],o=[],a=[];let c=0,h=-1;for(;++h<e.length;){const w=[],g=[];let f=-1;for(e[h].length>c&&(c=e[h].length);++f<e[h].length;){const d=p6(e[h][f]);if(n.alignDelimiters!==!1){const _=i(d);g[f]=_,(a[f]===void 0||_>a[f])&&(a[f]=_)}w.push(d)}l[h]=w,o[h]=g}let u=-1;if(typeof r=="object"&&"length"in r)for(;++u<c;)s[u]=X0(r[u]);else{const w=X0(r);for(;++u<c;)s[u]=w}u=-1;const p=[],m=[];for(;++u<c;){const w=s[u];let g="",f="";w===99?(g=":",f=":"):w===108?g=":":w===114&&(f=":");let d=n.alignDelimiters===!1?1:Math.max(1,a[u]-g.length-f.length);const _=g+"-".repeat(d)+f;n.alignDelimiters!==!1&&(d=g.length+d+f.length,d>a[u]&&(a[u]=d),m[u]=d),p[u]=_}l.splice(1,0,p),o.splice(1,0,m),h=-1;const y=[];for(;++h<l.length;){const w=l[h],g=o[h];u=-1;const f=[];for(;++u<c;){const d=w[u]||"";let _="",v="";if(n.alignDelimiters!==!1){const S=a[u]-(g[u]||0),k=s[u];k===114?_=" ".repeat(S):k===99?S%2?(_=" ".repeat(S/2+.5),v=" ".repeat(S/2-.5)):(_=" ".repeat(S/2),v=_):v=" ".repeat(S)}n.delimiterStart!==!1&&!u&&f.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&d==="")&&(n.delimiterStart!==!1||u)&&f.push(" "),n.alignDelimiters!==!1&&f.push(_),f.push(d),n.alignDelimiters!==!1&&f.push(v),n.padding!==!1&&f.push(" "),(n.delimiterEnd!==!1||u!==c-1)&&f.push("|")}y.push(n.delimiterEnd===!1?f.join("").replace(/ +$/,""):f.join(""))}return y.join(`
`)}function p6(e){return e==null?"":String(e)}function X0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function m6(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const l=n.indentLines(n.containerFlow(e,s.current()),g6);return i(),l}function g6(e,t,n){return">"+(n?"":" ")+e}function _6(e,t){return Z0(e,t.inConstruct,!0)&&!Z0(e,t.notInConstruct,!1)}function Z0(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Q0(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&_6(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function v6(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>l&&(l=s):s=1,i=r+t.length,r=n.indexOf(t,i);return l}function y6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function w6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function S6(e,t,n,r){const i=w6(n),s=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(y6(e,n)){const u=n.enter("codeIndented"),p=n.indentLines(s,x6);return u(),p}const o=n.createTracker(r),a=i.repeat(Math.max(v6(s,i)+1,3)),c=n.enter("codeFenced");let h=o.move(a);if(e.lang){const u=n.enter(`codeFencedLang${l}`);h+=o.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...o.current()})),u()}if(e.lang&&e.meta){const u=n.enter(`codeFencedMeta${l}`);h+=o.move(" "),h+=o.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...o.current()})),u()}return h+=o.move(`
`),s&&(h+=o.move(s+`
`)),h+=o.move(a),c(),h}function x6(e,t,n){return(n?"":"    ")+e}function Lm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function k6(e,t,n,r){const i=Lm(n),s=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let o=n.enter("label");const a=n.createTracker(r);let c=a.move("[");return c+=a.move(n.safe(n.associationId(e),{before:c,after:"]",...a.current()})),c+=a.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(o=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...a.current()}))),o(),e.title&&(o=n.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),o()),l(),c}function b6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Cl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function tu(e,t,n){const r=zs(e),i=zs(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Qx.peek=C6;function Qx(e,t,n,r){const i=b6(n),s=n.enter("emphasis"),l=n.createTracker(r),o=l.move(i);let a=l.move(n.containerPhrasing(e,{after:i,before:o,...l.current()}));const c=a.charCodeAt(0),h=tu(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(a=Cl(c)+a.slice(1));const u=a.charCodeAt(a.length-1),p=tu(r.after.charCodeAt(0),u,i);p.inside&&(a=a.slice(0,-1)+Cl(u));const m=l.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},o+a+m}function C6(e,t,n){return n.options.emphasis||"*"}function E6(e,t){let n=!1;return Tm(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Od}),!!((!e.depth||e.depth<3)&&Sm(e)&&(t.options.setext||n))}function A6(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(E6(e,n)){const h=n.enter("headingSetext"),u=n.enter("phrasing"),p=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return u(),h(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const l="#".repeat(i),o=n.enter("headingAtx"),a=n.enter("phrasing");s.move(l+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Cl(c.charCodeAt(0))+c.slice(1)),c=c?l+" "+c:l,n.options.closeAtx&&(c+=" "+l),a(),o(),c}Jx.peek=T6;function Jx(e){return e.value||""}function T6(){return"<"}ek.peek=D6;function ek(e,t,n,r){const i=Lm(n),s=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let o=n.enter("label");const a=n.createTracker(r);let c=a.move("![");return c+=a.move(n.safe(e.alt,{before:c,after:"]",...a.current()})),c+=a.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(o=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),o(),e.title&&(o=n.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),o()),c+=a.move(")"),l(),c}function D6(){return"!"}tk.peek=L6;function tk(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let l=n.enter("label");const o=n.createTracker(r);let a=o.move("![");const c=n.safe(e.alt,{before:a,after:"]",...o.current()});a+=o.move(c+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const u=n.safe(n.associationId(e),{before:a,after:"]",...o.current()});return l(),n.stack=h,s(),i==="full"||!c||c!==u?a+=o.move(u+"]"):i==="shortcut"?a=a.slice(0,-1):a+=o.move("]"),a}function L6(){return"!"}nk.peek=R6;function nk(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const l=n.unsafe[s],o=n.compilePattern(l);let a;if(l.atBreak)for(;a=o.exec(r);){let c=a.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(a.index+1)}}return i+r+i}function R6(){return"`"}function rk(e,t){const n=Sm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ik.peek=N6;function ik(e,t,n,r){const i=Lm(n),s=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let o,a;if(rk(e,n)){const h=n.stack;n.stack=[],o=n.enter("autolink");let u=l.move("<");return u+=l.move(n.containerPhrasing(e,{before:u,after:">",...l.current()})),u+=l.move(">"),o(),n.stack=h,u}o=n.enter("link"),a=n.enter("label");let c=l.move("[");return c+=l.move(n.containerPhrasing(e,{before:c,after:"](",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function N6(e,t,n){return rk(e,n)?"<":"["}sk.peek=I6;function sk(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let l=n.enter("label");const o=n.createTracker(r);let a=o.move("[");const c=n.containerPhrasing(e,{before:a,after:"]",...o.current()});a+=o.move(c+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const u=n.safe(n.associationId(e),{before:a,after:"]",...o.current()});return l(),n.stack=h,s(),i==="full"||!c||c!==u?a+=o.move(u+"]"):i==="shortcut"?a=a.slice(0,-1):a+=o.move("]"),a}function I6(){return"["}function Rm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function M6(e){const t=Rm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function O6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ok(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function P6(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let l=e.ordered?O6(n):Rm(n);const o=e.ordered?l==="."?")":".":M6(n);let a=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),ok(n)===l&&h){let u=-1;for(;++u<e.children.length;){const p=e.children[u];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(l=o),n.bulletCurrent=l;const c=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=s,i(),c}function B6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function F6(e,t,n,r){const i=B6(n);let s=n.bulletCurrent||Rm(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let l=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(l-s.length)),o.shift(l);const a=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),h);return a(),c;function h(u,p,m){return p?(m?"":" ".repeat(l))+u:(m?s:s+" ".repeat(l-s.length))+u}}function z6(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),l=n.containerPhrasing(e,r);return s(),i(),l}const j6=Mu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function H6(e,t,n,r){return(e.children.some(function(l){return j6(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function $6(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}lk.peek=U6;function lk(e,t,n,r){const i=$6(n),s=n.enter("strong"),l=n.createTracker(r),o=l.move(i+i);let a=l.move(n.containerPhrasing(e,{after:i,before:o,...l.current()}));const c=a.charCodeAt(0),h=tu(r.before.charCodeAt(r.before.length-1),c,i);h.inside&&(a=Cl(c)+a.slice(1));const u=a.charCodeAt(a.length-1),p=tu(r.after.charCodeAt(0),u,i);p.inside&&(a=a.slice(0,-1)+Cl(u));const m=l.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},o+a+m}function U6(e,t,n){return n.options.strong||"*"}function W6(e,t,n,r){return n.safe(e.value,r)}function V6(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function K6(e,t,n){const r=(ok(n)+(n.options.ruleSpaces?" ":"")).repeat(V6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const ak={blockquote:m6,break:Q0,code:S6,definition:k6,emphasis:Qx,hardBreak:Q0,heading:A6,html:Jx,image:ek,imageReference:tk,inlineCode:nk,link:ik,linkReference:sk,list:P6,listItem:F6,paragraph:z6,root:H6,strong:lk,text:W6,thematicBreak:K6};function Y6(){return{enter:{table:q6,tableData:J0,tableHeader:J0,tableRow:X6},exit:{codeText:Z6,table:G6,tableData:Kh,tableHeader:Kh,tableRow:Kh}}}function q6(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function G6(e){this.exit(e),this.data.inTable=void 0}function X6(e){this.enter({type:"tableRow",children:[]},e)}function Kh(e){this.exit(e)}function J0(e){this.enter({type:"tableCell",children:[]},e)}function Z6(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Q6));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Q6(e,t){return t==="|"?t:e}function J6(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:l,tableCell:a,tableRow:o}};function l(m,y,w,g){return c(h(m,w,g),m.align)}function o(m,y,w,g){const f=u(m,w,g),d=c([f]);return d.slice(0,d.indexOf(`
`))}function a(m,y,w,g){const f=w.enter("tableCell"),d=w.enter("phrasing"),_=w.containerPhrasing(m,{...g,before:s,after:s});return d(),f(),_}function c(m,y){return d6(m,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function h(m,y,w){const g=m.children;let f=-1;const d=[],_=y.enter("table");for(;++f<g.length;)d[f]=u(g[f],y,w);return _(),d}function u(m,y,w){const g=m.children;let f=-1;const d=[],_=y.enter("tableRow");for(;++f<g.length;)d[f]=a(g[f],m,y,w);return _(),d}function p(m,y,w){let g=ak.inlineCode(m,y,w);return w.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function eB(){return{exit:{taskListCheckValueChecked:ev,taskListCheckValueUnchecked:ev,paragraph:nB}}}function tB(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:rB}}}function ev(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function nB(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,l;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){l=o;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function rB(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(l);let a=ak.listItem(e,t,n,{...r,...o.current()});return s&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),a;function c(h){return h+l}}function iB(){return[P4(),r6(),l6(),Y6(),eB()]}function sB(e){return{extensions:[B4(),i6(e),a6(),J6(e),tB()]}}const oB={tokenize:fB,partial:!0},ck={tokenize:dB,partial:!0},uk={tokenize:pB,partial:!0},hk={tokenize:mB,partial:!0},lB={tokenize:gB,partial:!0},fk={name:"wwwAutolink",tokenize:uB,previous:pk},dk={name:"protocolAutolink",tokenize:hB,previous:mk},kr={name:"emailAutolink",tokenize:cB,previous:gk},nr={};function aB(){return{text:nr}}let ci=48;for(;ci<123;)nr[ci]=kr,ci++,ci===58?ci=65:ci===91&&(ci=97);nr[43]=kr;nr[45]=kr;nr[46]=kr;nr[95]=kr;nr[72]=[kr,dk];nr[104]=[kr,dk];nr[87]=[kr,fk];nr[119]=[kr,fk];function cB(e,t,n){const r=this;let i,s;return l;function l(u){return!zd(u)||!gk.call(r,r.previous)||Nm(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(u))}function o(u){return zd(u)?(e.consume(u),o):u===64?(e.consume(u),a):n(u)}function a(u){return u===46?e.check(lB,h,c)(u):u===45||u===95||Dt(u)?(s=!0,e.consume(u),a):h(u)}function c(u){return e.consume(u),i=!0,a}function h(u){return s&&i&&Pt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):n(u)}}function uB(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!pk.call(r,r.previous)||Nm(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(oB,e.attempt(ck,e.attempt(uk,s),n),n)(l))}function s(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function hB(e,t,n){const r=this;let i="",s=!1;return l;function l(u){return(u===72||u===104)&&mk.call(r,r.previous)&&!Nm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),e.consume(u),o):n(u)}function o(u){if(Pt(u)&&i.length<5)return i+=String.fromCodePoint(u),e.consume(u),o;if(u===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(u),a}return n(u)}function a(u){return u===47?(e.consume(u),s?c:(s=!0,a)):n(u)}function c(u){return u===null||Qc(u)||Be(u)||Mi(u)||Ru(u)?n(u):e.attempt(ck,e.attempt(uk,h),n)(u)}function h(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}}function fB(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),s):n(l)}function s(l){return l===null?n(l):t(l)}}function dB(e,t,n){let r,i,s;return l;function l(c){return c===46||c===95?e.check(hk,a,o)(c):c===null||Be(c)||Mi(c)||c!==45&&Ru(c)?a(c):(s=!0,e.consume(c),l)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),l}function a(c){return i||r||!s?n(c):t(c)}}function pB(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?s(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(hk,t,s)(l):l===null||Be(l)||Mi(l)?t(l):(e.consume(l),i)}function s(l){return l===41&&r++,e.consume(l),i}}function mB(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Be(o)||Mi(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Be(o)||Mi(o)?t(o):r(o)}function s(o){return Pt(o)?l(o):n(o)}function l(o){return o===59?(e.consume(o),r):Pt(o)?(e.consume(o),l):n(o)}}function gB(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Dt(s)?n(s):t(s)}}function pk(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Be(e)}function mk(e){return!Pt(e)}function gk(e){return!(e===47||zd(e))}function zd(e){return e===43||e===45||e===46||e===95||Dt(e)}function Nm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const _B={tokenize:CB,partial:!0};function vB(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:xB,continuation:{tokenize:kB},exit:bB}},text:{91:{name:"gfmFootnoteCall",tokenize:SB},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:yB,resolveTo:wB}}}}function yB(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){l=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return o;function o(a){if(!l||!l._balanced)return n(a);const c=Fn(r.sliceSerialize({start:l.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function wB(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function SB(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,l;return o;function o(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),a}function a(u){return u!==94?n(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(u){if(s>999||u===93&&!l||u===null||u===91||Be(u))return n(u);if(u===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Fn(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(u)}return Be(u)||(l=!0),s++,e.consume(u),u===92?h:c}function h(u){return u===91||u===92||u===93?(e.consume(u),s++,c):c(u)}}function xB(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,l=0,o;return a;function a(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(y)}function h(y){if(l>999||y===93&&!o||y===null||y===91||Be(y))return n(y);if(y===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return s=Fn(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Be(y)||(o=!0),l++,e.consume(y),y===92?u:h}function u(y){return y===91||y===92||y===93?(e.consume(y),l++,h):h(y)}function p(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(s)||i.push(s),De(e,m,"gfmFootnoteDefinitionWhitespace")):n(y)}function m(y){return t(y)}}function kB(e,t,n){return e.check(Wl,t,e.attempt(_B,t,n))}function bB(e){e.exit("gfmFootnoteDefinition")}function CB(e,t,n){const r=this;return De(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(s):n(s)}}function EB(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,o){let a=-1;for(;++a<l.length;)if(l[a][0]==="enter"&&l[a][1].type==="strikethroughSequenceTemporary"&&l[a][1]._close){let c=a;for(;c--;)if(l[c][0]==="exit"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._open&&l[a][1].end.offset-l[a][1].start.offset===l[c][1].end.offset-l[c][1].start.offset){l[a][1].type="strikethroughSequence",l[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[c][1].start),end:Object.assign({},l[a][1].end)},u={type:"strikethroughText",start:Object.assign({},l[c][1].end),end:Object.assign({},l[a][1].start)},p=[["enter",h,o],["enter",l[c][1],o],["exit",l[c][1],o],["enter",u,o]],m=o.parser.constructs.insideSpan.null;m&&an(p,p.length,0,Nu(m,l.slice(c+1,a),o)),an(p,p.length,0,[["exit",u,o],["enter",l[a][1],o],["exit",l[a][1],o],["exit",h,o]]),an(l,c-1,a-c+3,p),a=c+p.length-2;break}}for(a=-1;++a<l.length;)l[a][1].type==="strikethroughSequenceTemporary"&&(l[a][1].type="data");return l}function s(l,o,a){const c=this.previous,h=this.events;let u=0;return p;function p(y){return c===126&&h[h.length-1][1].type!=="characterEscape"?a(y):(l.enter("strikethroughSequenceTemporary"),m(y))}function m(y){const w=zs(c);if(y===126)return u>1?a(y):(l.consume(y),u++,m);if(u<2&&!n)return a(y);const g=l.exit("strikethroughSequenceTemporary"),f=zs(y);return g._open=!f||f===2&&!!w,g._close=!w||w===2&&!!f,o(y)}}}class AB{constructor(){this.map=[]}add(t,n,r){TB(this,t,n,r)}consume(t){if(this.map.sort(function(s,l){return s[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function TB(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function DB(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function LB(){return{flow:{null:{name:"table",tokenize:RB,resolveAll:NB}}}}function RB(e,t,n){const r=this;let i=0,s=0,l;return o;function o(A){let N=r.events.length-1;for(;N>-1;){const D=r.events[N][1].type;if(D==="lineEnding"||D==="linePrefix")N--;else break}const I=N>-1?r.events[N][1].type:null,F=I==="tableHead"||I==="tableRow"?k:a;return F===k&&r.parser.lazy[r.now().line]?n(A):F(A)}function a(A){return e.enter("tableHead"),e.enter("tableRow"),c(A)}function c(A){return A===124||(l=!0,s+=1),h(A)}function h(A){return A===null?n(A):ve(A)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),m):n(A):be(A)?De(e,h,"whitespace")(A):(s+=1,l&&(l=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),u(A)))}function u(A){return A===null||A===124||Be(A)?(e.exit("data"),h(A)):(e.consume(A),A===92?p:u)}function p(A){return A===92||A===124?(e.consume(A),u):u(A)}function m(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),l=!1,be(A)?De(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):y(A))}function y(A){return A===45||A===58?g(A):A===124?(l=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),w):S(A)}function w(A){return be(A)?De(e,g,"whitespace")(A):g(A)}function g(A){return A===58?(s+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),f):A===45?(s+=1,f(A)):A===null||ve(A)?v(A):S(A)}function f(A){return A===45?(e.enter("tableDelimiterFiller"),d(A)):S(A)}function d(A){return A===45?(e.consume(A),d):A===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),_):(e.exit("tableDelimiterFiller"),_(A))}function _(A){return be(A)?De(e,v,"whitespace")(A):v(A)}function v(A){return A===124?y(A):A===null||ve(A)?!l||i!==s?S(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):S(A)}function S(A){return n(A)}function k(A){return e.enter("tableRow"),b(A)}function b(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),b):A===null||ve(A)?(e.exit("tableRow"),t(A)):be(A)?De(e,b,"whitespace")(A):(e.enter("data"),x(A))}function x(A){return A===null||A===124||Be(A)?(e.exit("data"),b(A)):(e.consume(A),A===92?C:x)}function C(A){return A===92||A===124?(e.consume(A),x):x(A)}}function NB(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],l=[0,0,0,0],o=!1,a=0,c,h,u;const p=new AB;for(;++n<e.length;){const m=e[n],y=m[1];m[0]==="enter"?y.type==="tableHead"?(o=!1,a!==0&&(tv(p,t,a,c,h),h=void 0,a=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(n,0,[["enter",c,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,u=void 0,s=[0,0,0,0],l=[0,n+1,0,0],o&&(o=!1,h={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(n,0,[["enter",h,t]])),i=y.type==="tableDelimiterRow"?2:h?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(s[1]!==0&&(l[0]=l[1],u=ja(p,t,s,i,void 0,u),s=[0,0,0,0]),l[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(l[0]=l[1],u=ja(p,t,s,i,void 0,u)),s=l,l=[s[1],n,0,0])):y.type==="tableHead"?(o=!0,a=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(a=n,s[1]!==0?(l[0]=l[1],u=ja(p,t,s,i,n,u)):l[1]!==0&&(u=ja(p,t,l,i,n,u)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(l[3]=n)}for(a!==0&&tv(p,t,a,c,h),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=DB(t.events,n))}return e}function ja(e,t,n,r,i,s){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Ji(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const a=Ji(t.events,n[1]);if(s={type:l,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Ji(t.events,n[2]),h=Ji(t.events,n[3]),u={type:o,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",u,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,w=n[3]-n[2]-1;e.add(y,w,[])}}e.add(n[3]+1,0,[["exit",u,t]])}return i!==void 0&&(s.end=Object.assign({},Ji(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function tv(e,t,n,r,i){const s=[],l=Ji(t.events,n);i&&(i.end=Object.assign({},l),s.push(["exit",i,t])),r.end=Object.assign({},l),s.push(["exit",r,t]),e.add(n+1,0,s)}function Ji(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const IB={name:"tasklistCheck",tokenize:OB};function MB(){return{text:{91:IB}}}function OB(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),s)}function s(a){return Be(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),l):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),l):n(a)}function l(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(a)}function o(a){return ve(a)?t(a):be(a)?e.check({tokenize:PB},t,n)(a):n(a)}}function PB(e,t,n){return De(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function BB(e){return Ex([aB(),vB(),EB(e),LB(),MB()])}const FB={};function zB(e){const t=this,n=e||FB,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(BB(n)),s.push(iB()),l.push(sB(n))}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:_k,setPrototypeOf:nv,isFrozen:jB,getPrototypeOf:HB,getOwnPropertyDescriptor:$B}=Object;let{freeze:zt,seal:Cn,create:jd}=Object,{apply:Hd,construct:$d}=typeof Reflect<"u"&&Reflect;zt||(zt=function(t){return t});Cn||(Cn=function(t){return t});Hd||(Hd=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return t.apply(n,i)});$d||($d=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const Ha=jt(Array.prototype.forEach),UB=jt(Array.prototype.lastIndexOf),rv=jt(Array.prototype.pop),_o=jt(Array.prototype.push),WB=jt(Array.prototype.splice),fc=jt(String.prototype.toLowerCase),Yh=jt(String.prototype.toString),qh=jt(String.prototype.match),vo=jt(String.prototype.replace),VB=jt(String.prototype.indexOf),KB=jt(String.prototype.trim),Dn=jt(Object.prototype.hasOwnProperty),Mt=jt(RegExp.prototype.test),yo=YB(TypeError);function jt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Hd(e,t,r)}}function YB(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $d(e,n)}}function ke(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fc;nv&&nv(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const s=n(i);s!==i&&(jB(t)||(t[r]=s),i=s)}e[i]=!0}return e}function qB(e){for(let t=0;t<e.length;t++)Dn(e,t)||(e[t]=null);return e}function Wn(e){const t=jd(null);for(const[n,r]of _k(e))Dn(e,n)&&(Array.isArray(r)?t[n]=qB(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Wn(r):t[n]=r);return t}function wo(e,t){for(;e!==null;){const r=$B(e,t);if(r){if(r.get)return jt(r.get);if(typeof r.value=="function")return jt(r.value)}e=HB(e)}function n(){return null}return n}const iv=zt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gh=zt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xh=zt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GB=zt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Zh=zt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XB=zt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sv=zt(["#text"]),ov=zt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qh=zt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lv=zt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$a=zt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ZB=Cn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),QB=Cn(/<%[\w\W]*|[\w\W]*%>/gm),JB=Cn(/\$\{[\w\W]*/gm),eF=Cn(/^data-[\-\w.\u00B7-\uFFFF]+$/),tF=Cn(/^aria-[\-\w]+$/),vk=Cn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nF=Cn(/^(?:\w+script|data):/i),rF=Cn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yk=Cn(/^html$/i),iF=Cn(/^[a-z][.\w]*(-[.\w]+)+$/i);var av=Object.freeze({__proto__:null,ARIA_ATTR:tF,ATTR_WHITESPACE:rF,CUSTOM_ELEMENT:iF,DATA_ATTR:eF,DOCTYPE_NAME:yk,ERB_EXPR:QB,IS_ALLOWED_URI:vk,IS_SCRIPT_OR_DATA:nF,MUSTACHE_EXPR:ZB,TMPLIT_EXPR:JB});const So={element:1,text:3,progressingInstruction:7,comment:8,document:9},sF=function(){return typeof window>"u"?null:window},oF=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},cv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function wk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sF();const t=pe=>wk(pe);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==So.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:o,Element:a,NodeFilter:c,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:p,trustedTypes:m}=e,y=a.prototype,w=wo(y,"cloneNode"),g=wo(y,"remove"),f=wo(y,"nextSibling"),d=wo(y,"childNodes"),_=wo(y,"parentNode");if(typeof l=="function"){const pe=n.createElement("template");pe.content&&pe.content.ownerDocument&&(n=pe.content.ownerDocument)}let v,S="";const{implementation:k,createNodeIterator:b,createDocumentFragment:x,getElementsByTagName:C}=n,{importNode:A}=r;let N=cv();t.isSupported=typeof _k=="function"&&typeof _=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:F,TMPLIT_EXPR:D,DATA_ATTR:B,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:R}=av;let{IS_ALLOWED_URI:E}=av,M=null;const U=ke({},[...iv,...Gh,...Xh,...Zh,...sv]);let O=null;const Y=ke({},[...ov,...Qh,...lv,...$a]);let K=Object.seal(jd(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ee=null,P=null;const W=Object.seal(jd(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let G=!0,q=!0,ce=!1,ne=!0,de=!1,we=!0,ye=!1,Re=!1,oe=!1,le=!1,Ne=!1,Ue=!1,at=!0,tt=!1;const Ae="user-content-";let Fe=!0,Oe=!1,Z={},J=null;const ae=ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _e=null;const $=ke({},["audio","video","img","source","image","track"]);let X=null;const te=ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",qe="http://www.w3.org/2000/svg",Ie="http://www.w3.org/1999/xhtml";let Te=Ie,nt=!1,ct=null;const Zs=ke({},[fe,qe,Ie],Yh);let Hn=ke({},["mi","mo","mn","ms","mtext"]),br=ke({},["annotation-xml"]);const Zl=ke({},["title","style","font","a","script"]);let en=null;const zu=["application/xhtml+xml","text/html"],ju="text/html";let rt=null,Cr=null;const Hu=n.createElement("form"),Ql=function(V){return V instanceof RegExp||V instanceof Function},Qs=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Cr&&Cr===V)){if((!V||typeof V!="object")&&(V={}),V=Wn(V),en=zu.indexOf(V.PARSER_MEDIA_TYPE)===-1?ju:V.PARSER_MEDIA_TYPE,rt=en==="application/xhtml+xml"?Yh:fc,M=Dn(V,"ALLOWED_TAGS")?ke({},V.ALLOWED_TAGS,rt):U,O=Dn(V,"ALLOWED_ATTR")?ke({},V.ALLOWED_ATTR,rt):Y,ct=Dn(V,"ALLOWED_NAMESPACES")?ke({},V.ALLOWED_NAMESPACES,Yh):Zs,X=Dn(V,"ADD_URI_SAFE_ATTR")?ke(Wn(te),V.ADD_URI_SAFE_ATTR,rt):te,_e=Dn(V,"ADD_DATA_URI_TAGS")?ke(Wn($),V.ADD_DATA_URI_TAGS,rt):$,J=Dn(V,"FORBID_CONTENTS")?ke({},V.FORBID_CONTENTS,rt):ae,ee=Dn(V,"FORBID_TAGS")?ke({},V.FORBID_TAGS,rt):Wn({}),P=Dn(V,"FORBID_ATTR")?ke({},V.FORBID_ATTR,rt):Wn({}),Z=Dn(V,"USE_PROFILES")?V.USE_PROFILES:!1,G=V.ALLOW_ARIA_ATTR!==!1,q=V.ALLOW_DATA_ATTR!==!1,ce=V.ALLOW_UNKNOWN_PROTOCOLS||!1,ne=V.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=V.SAFE_FOR_TEMPLATES||!1,we=V.SAFE_FOR_XML!==!1,ye=V.WHOLE_DOCUMENT||!1,le=V.RETURN_DOM||!1,Ne=V.RETURN_DOM_FRAGMENT||!1,Ue=V.RETURN_TRUSTED_TYPE||!1,oe=V.FORCE_BODY||!1,at=V.SANITIZE_DOM!==!1,tt=V.SANITIZE_NAMED_PROPS||!1,Fe=V.KEEP_CONTENT!==!1,Oe=V.IN_PLACE||!1,E=V.ALLOWED_URI_REGEXP||vk,Te=V.NAMESPACE||Ie,Hn=V.MATHML_TEXT_INTEGRATION_POINTS||Hn,br=V.HTML_INTEGRATION_POINTS||br,K=V.CUSTOM_ELEMENT_HANDLING||{},V.CUSTOM_ELEMENT_HANDLING&&Ql(V.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(K.tagNameCheck=V.CUSTOM_ELEMENT_HANDLING.tagNameCheck),V.CUSTOM_ELEMENT_HANDLING&&Ql(V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(K.attributeNameCheck=V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),V.CUSTOM_ELEMENT_HANDLING&&typeof V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(K.allowCustomizedBuiltInElements=V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(q=!1),Ne&&(le=!0),Z&&(M=ke({},sv),O=[],Z.html===!0&&(ke(M,iv),ke(O,ov)),Z.svg===!0&&(ke(M,Gh),ke(O,Qh),ke(O,$a)),Z.svgFilters===!0&&(ke(M,Xh),ke(O,Qh),ke(O,$a)),Z.mathMl===!0&&(ke(M,Zh),ke(O,lv),ke(O,$a))),V.ADD_TAGS&&(typeof V.ADD_TAGS=="function"?W.tagCheck=V.ADD_TAGS:(M===U&&(M=Wn(M)),ke(M,V.ADD_TAGS,rt))),V.ADD_ATTR&&(typeof V.ADD_ATTR=="function"?W.attributeCheck=V.ADD_ATTR:(O===Y&&(O=Wn(O)),ke(O,V.ADD_ATTR,rt))),V.ADD_URI_SAFE_ATTR&&ke(X,V.ADD_URI_SAFE_ATTR,rt),V.FORBID_CONTENTS&&(J===ae&&(J=Wn(J)),ke(J,V.FORBID_CONTENTS,rt)),V.ADD_FORBID_CONTENTS&&(J===ae&&(J=Wn(J)),ke(J,V.ADD_FORBID_CONTENTS,rt)),Fe&&(M["#text"]=!0),ye&&ke(M,["html","head","body"]),M.table&&(ke(M,["tbody"]),delete ee.tbody),V.TRUSTED_TYPES_POLICY){if(typeof V.TRUSTED_TYPES_POLICY.createHTML!="function")throw yo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof V.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw yo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=V.TRUSTED_TYPES_POLICY,S=v.createHTML("")}else v===void 0&&(v=oF(m,i)),v!==null&&typeof S=="string"&&(S=v.createHTML(""));zt&&zt(V),Cr=V}},Jl=ke({},[...Gh,...Xh,...GB]),ea=ke({},[...Zh,...XB]),$u=function(V){let ie=_(V);(!ie||!ie.tagName)&&(ie={namespaceURI:Te,tagName:"template"});const he=fc(V.tagName),ze=fc(ie.tagName);return ct[V.namespaceURI]?V.namespaceURI===qe?ie.namespaceURI===Ie?he==="svg":ie.namespaceURI===fe?he==="svg"&&(ze==="annotation-xml"||Hn[ze]):!!Jl[he]:V.namespaceURI===fe?ie.namespaceURI===Ie?he==="math":ie.namespaceURI===qe?he==="math"&&br[ze]:!!ea[he]:V.namespaceURI===Ie?ie.namespaceURI===qe&&!br[ze]||ie.namespaceURI===fe&&!Hn[ze]?!1:!ea[he]&&(Zl[he]||!Jl[he]):!!(en==="application/xhtml+xml"&&ct[V.namespaceURI]):!1},dn=function(V){_o(t.removed,{element:V});try{_(V).removeChild(V)}catch{g(V)}},rr=function(V,ie){try{_o(t.removed,{attribute:ie.getAttributeNode(V),from:ie})}catch{_o(t.removed,{attribute:null,from:ie})}if(ie.removeAttribute(V),V==="is")if(le||Ne)try{dn(ie)}catch{}else try{ie.setAttribute(V,"")}catch{}},ta=function(V){let ie=null,he=null;if(oe)V="<remove></remove>"+V;else{const Qe=qh(V,/^[\r\n\t ]+/);he=Qe&&Qe[0]}en==="application/xhtml+xml"&&Te===Ie&&(V='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+V+"</body></html>");const ze=v?v.createHTML(V):V;if(Te===Ie)try{ie=new p().parseFromString(ze,en)}catch{}if(!ie||!ie.documentElement){ie=k.createDocument(Te,"template",null);try{ie.documentElement.innerHTML=nt?S:ze}catch{}}const mt=ie.body||ie.documentElement;return V&&he&&mt.insertBefore(n.createTextNode(he),mt.childNodes[0]||null),Te===Ie?C.call(ie,ye?"html":"body")[0]:ye?ie.documentElement:mt},na=function(V){return b.call(V.ownerDocument||V,V,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Js=function(V){return V instanceof u&&(typeof V.nodeName!="string"||typeof V.textContent!="string"||typeof V.removeChild!="function"||!(V.attributes instanceof h)||typeof V.removeAttribute!="function"||typeof V.setAttribute!="function"||typeof V.namespaceURI!="string"||typeof V.insertBefore!="function"||typeof V.hasChildNodes!="function")},ra=function(V){return typeof o=="function"&&V instanceof o};function pn(pe,V,ie){Ha(pe,he=>{he.call(t,V,ie,Cr)})}const ia=function(V){let ie=null;if(pn(N.beforeSanitizeElements,V,null),Js(V))return dn(V),!0;const he=rt(V.nodeName);if(pn(N.uponSanitizeElement,V,{tagName:he,allowedTags:M}),we&&V.hasChildNodes()&&!ra(V.firstElementChild)&&Mt(/<[/\w!]/g,V.innerHTML)&&Mt(/<[/\w!]/g,V.textContent)||V.nodeType===So.progressingInstruction||we&&V.nodeType===So.comment&&Mt(/<[/\w]/g,V.data))return dn(V),!0;if(!(W.tagCheck instanceof Function&&W.tagCheck(he))&&(!M[he]||ee[he])){if(!ee[he]&&oa(he)&&(K.tagNameCheck instanceof RegExp&&Mt(K.tagNameCheck,he)||K.tagNameCheck instanceof Function&&K.tagNameCheck(he)))return!1;if(Fe&&!J[he]){const ze=_(V)||V.parentNode,mt=d(V)||V.childNodes;if(mt&&ze){const Qe=mt.length;for(let Ct=Qe-1;Ct>=0;--Ct){const An=w(mt[Ct],!0);An.__removalCount=(V.__removalCount||0)+1,ze.insertBefore(An,f(V))}}}return dn(V),!0}return V instanceof a&&!$u(V)||(he==="noscript"||he==="noembed"||he==="noframes")&&Mt(/<\/no(script|embed|frames)/i,V.innerHTML)?(dn(V),!0):(de&&V.nodeType===So.text&&(ie=V.textContent,Ha([I,F,D],ze=>{ie=vo(ie,ze," ")}),V.textContent!==ie&&(_o(t.removed,{element:V.cloneNode()}),V.textContent=ie)),pn(N.afterSanitizeElements,V,null),!1)},sa=function(V,ie,he){if(at&&(ie==="id"||ie==="name")&&(he in n||he in Hu))return!1;if(!(q&&!P[ie]&&Mt(B,ie))){if(!(G&&Mt(z,ie))){if(!(W.attributeCheck instanceof Function&&W.attributeCheck(ie,V))){if(!O[ie]||P[ie]){if(!(oa(V)&&(K.tagNameCheck instanceof RegExp&&Mt(K.tagNameCheck,V)||K.tagNameCheck instanceof Function&&K.tagNameCheck(V))&&(K.attributeNameCheck instanceof RegExp&&Mt(K.attributeNameCheck,ie)||K.attributeNameCheck instanceof Function&&K.attributeNameCheck(ie,V))||ie==="is"&&K.allowCustomizedBuiltInElements&&(K.tagNameCheck instanceof RegExp&&Mt(K.tagNameCheck,he)||K.tagNameCheck instanceof Function&&K.tagNameCheck(he))))return!1}else if(!X[ie]){if(!Mt(E,vo(he,L,""))){if(!((ie==="src"||ie==="xlink:href"||ie==="href")&&V!=="script"&&VB(he,"data:")===0&&_e[V])){if(!(ce&&!Mt(H,vo(he,L,"")))){if(he)return!1}}}}}}}return!0},oa=function(V){return V!=="annotation-xml"&&qh(V,R)},la=function(V){pn(N.beforeSanitizeAttributes,V,null);const{attributes:ie}=V;if(!ie||Js(V))return;const he={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O,forceKeepAttr:void 0};let ze=ie.length;for(;ze--;){const mt=ie[ze],{name:Qe,namespaceURI:Ct,value:An}=mt,Er=rt(Qe),$i=An;let ut=Qe==="value"?$i:KB($i);if(he.attrName=Er,he.attrValue=ut,he.keepAttr=!0,he.forceKeepAttr=void 0,pn(N.uponSanitizeAttribute,V,he),ut=he.attrValue,tt&&(Er==="id"||Er==="name")&&(rr(Qe,V),ut=Ae+ut),we&&Mt(/((--!?|])>)|<\/(style|title|textarea)/i,ut)){rr(Qe,V);continue}if(Er==="attributename"&&qh(ut,"href")){rr(Qe,V);continue}if(he.forceKeepAttr)continue;if(!he.keepAttr){rr(Qe,V);continue}if(!ne&&Mt(/\/>/i,ut)){rr(Qe,V);continue}de&&Ha([I,F,D],ca=>{ut=vo(ut,ca," ")});const aa=rt(V.nodeName);if(!sa(aa,Er,ut)){rr(Qe,V);continue}if(v&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Ct)switch(m.getAttributeType(aa,Er)){case"TrustedHTML":{ut=v.createHTML(ut);break}case"TrustedScriptURL":{ut=v.createScriptURL(ut);break}}if(ut!==$i)try{Ct?V.setAttributeNS(Ct,Qe,ut):V.setAttribute(Qe,ut),Js(V)?dn(V):rv(t.removed)}catch{rr(Qe,V)}}pn(N.afterSanitizeAttributes,V,null)},Uu=function pe(V){let ie=null;const he=na(V);for(pn(N.beforeSanitizeShadowDOM,V,null);ie=he.nextNode();)pn(N.uponSanitizeShadowNode,ie,null),ia(ie),la(ie),ie.content instanceof s&&pe(ie.content);pn(N.afterSanitizeShadowDOM,V,null)};return t.sanitize=function(pe){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=null,he=null,ze=null,mt=null;if(nt=!pe,nt&&(pe="<!-->"),typeof pe!="string"&&!ra(pe))if(typeof pe.toString=="function"){if(pe=pe.toString(),typeof pe!="string")throw yo("dirty is not a string, aborting")}else throw yo("toString is not a function");if(!t.isSupported)return pe;if(Re||Qs(V),t.removed=[],typeof pe=="string"&&(Oe=!1),Oe){if(pe.nodeName){const An=rt(pe.nodeName);if(!M[An]||ee[An])throw yo("root node is forbidden and cannot be sanitized in-place")}}else if(pe instanceof o)ie=ta("<!---->"),he=ie.ownerDocument.importNode(pe,!0),he.nodeType===So.element&&he.nodeName==="BODY"||he.nodeName==="HTML"?ie=he:ie.appendChild(he);else{if(!le&&!de&&!ye&&pe.indexOf("<")===-1)return v&&Ue?v.createHTML(pe):pe;if(ie=ta(pe),!ie)return le?null:Ue?S:""}ie&&oe&&dn(ie.firstChild);const Qe=na(Oe?pe:ie);for(;ze=Qe.nextNode();)ia(ze),la(ze),ze.content instanceof s&&Uu(ze.content);if(Oe)return pe;if(le){if(Ne)for(mt=x.call(ie.ownerDocument);ie.firstChild;)mt.appendChild(ie.firstChild);else mt=ie;return(O.shadowroot||O.shadowrootmode)&&(mt=A.call(r,mt,!0)),mt}let Ct=ye?ie.outerHTML:ie.innerHTML;return ye&&M["!doctype"]&&ie.ownerDocument&&ie.ownerDocument.doctype&&ie.ownerDocument.doctype.name&&Mt(yk,ie.ownerDocument.doctype.name)&&(Ct="<!DOCTYPE "+ie.ownerDocument.doctype.name+`>
`+Ct),de&&Ha([I,F,D],An=>{Ct=vo(Ct,An," ")}),v&&Ue?v.createHTML(Ct):Ct},t.setConfig=function(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qs(pe),Re=!0},t.clearConfig=function(){Cr=null,Re=!1},t.isValidAttribute=function(pe,V,ie){Cr||Qs({});const he=rt(pe),ze=rt(V);return sa(he,ze,ie)},t.addHook=function(pe,V){typeof V=="function"&&_o(N[pe],V)},t.removeHook=function(pe,V){if(V!==void 0){const ie=UB(N[pe],V);return ie===-1?void 0:WB(N[pe],ie,1)[0]}return rv(N[pe])},t.removeHooks=function(pe){N[pe]=[]},t.removeAllHooks=function(){N=cv()},t}var lF=wk();function uv({file:e,onContentClick:t}){const{contentType:n,content:r,filename:i}=e;if(n.startsWith("image/"))return T.jsx("div",{className:"file-viewer-image",children:T.jsx("img",{src:`data:${n};base64,${r}`,alt:i})});if(n==="text/markdown"||i.endsWith(".md"))return T.jsx("div",{className:"file-viewer-markdown",onClick:t,children:T.jsx(E4,{remarkPlugins:[zB],children:r})});if(n==="text/html"||i.endsWith(".html")||i.endsWith(".htm")){const s=lF.sanitize(r,{ADD_TAGS:["style"],ADD_ATTR:["target"]});return T.jsx("div",{className:"file-viewer-html",onClick:t,dangerouslySetInnerHTML:{__html:s}})}return T.jsx("div",{className:"file-viewer-text",children:T.jsx("pre",{children:r})})}function aF({files:e,isOpen:t,onClose:n,onCloseFile:r,onFileRequest:i,theme:s}){const[l,o]=j.useState(null),[a,c]=j.useState(!1),[h,u]=j.useState(null),[p,m]=j.useState(!1),[y,w]=j.useState(()=>{const D=localStorage.getItem("fileviewer-tab-width");return D?parseInt(D,10):150}),[g,f]=j.useState(!1),d=j.useRef(0),_=j.useRef(0),v=j.useMemo(()=>e.slice(-10),[e]);j.useEffect(()=>{if(v.length>0){const D=v[v.length-1];o(D.id)}},[v]),j.useEffect(()=>{const D=B=>{B.key==="Escape"&&t&&(a?(c(!1),u(null)):n())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[t,n,a]);const S=j.useCallback(D=>{if(!D.ctrlKey&&!D.metaKey)return;const z=D.target.closest("a");if(!z)return;const H=z.getAttribute("href");H&&(H.startsWith("file://")||H.startsWith("./")||H.startsWith("../")||H.startsWith("~/"))&&(D.preventDefault(),D.stopPropagation(),i==null||i(H))},[i]),k=j.useMemo(()=>{var D;return((D=v.find(B=>B.id===l))==null?void 0:D.file)||null},[v,l]),b=j.useMemo(()=>{var D;return((D=v.find(B=>B.id===h))==null?void 0:D.file)||null},[v,h]),x=(D,B)=>{B.ctrlKey||B.metaKey?a?D!==l&&u(D):(c(!0),u(D)):o(D)},C=(D,B)=>{if(B.stopPropagation(),r(D),D===l){const z=v.filter(H=>H.id!==D);z.length>0?o(z[z.length-1].id):o(null)}D===h&&(c(!1),u(null))},A=D=>{o(D),m(!1)},N=(D,B)=>B.startsWith("image/")?"":D.endsWith(".md")?"":D.endsWith(".html")||D.endsWith(".htm")?"":D.endsWith(".json")?"":D.endsWith(".css")?"":D.endsWith(".js")||D.endsWith(".ts")?"":"",I=D=>new Date(D).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),F=j.useCallback(D=>{D.preventDefault(),D.stopPropagation(),f(!0),d.current=D.clientX,_.current=y},[y]);return j.useEffect(()=>{if(!g)return;const D=z=>{const H=z.clientX-d.current,L=Math.max(80,Math.min(300,_.current+H));w(L)},B=()=>{f(!1),localStorage.setItem("fileviewer-tab-width",String(y))};return document.addEventListener("mousemove",D),document.addEventListener("mouseup",B),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",B)}},[g,y]),T.jsxs("div",{className:`file-viewer-panel ${t?"open":""} ${s} ${a?"split-mode":""}`,children:[T.jsxs("div",{className:"file-viewer-header",children:[T.jsx("div",{className:"file-viewer-tabs",children:v.map(({id:D,file:B},z)=>T.jsxs("div",{className:`file-tab ${D===l?"active":""} ${D===h?"secondary":""}`,style:{width:y},onClick:H=>x(D,H),title:`${B.filename}
Ctrl+Click to open in split view`,children:[T.jsx("span",{className:"tab-icon",children:N(B.filename,B.contentType)}),T.jsx("span",{className:"tab-name",children:B.filename}),T.jsx("button",{className:"tab-close",onClick:H=>C(D,H),title:"Close",children:""}),z===v.length-1&&T.jsx("div",{className:"tab-resize-handle",onMouseDown:F,title:"Drag to resize tabs"})]},D))}),T.jsxs("div",{className:"file-viewer-actions",children:[T.jsx("button",{className:`file-viewer-btn ${p?"active":""}`,onClick:()=>m(!p),title:"History",children:""}),T.jsx("button",{className:`file-viewer-btn ${a?"active":""}`,onClick:()=>{if(a)c(!1),u(null);else if(v.length>=2){c(!0);const D=v.findIndex(z=>z.id===l),B=D>0?D-1:v.length-1;B!==D&&u(v[B].id)}},title:"Split View",disabled:v.length<2,children:""}),T.jsx("button",{className:"file-viewer-btn",onClick:n,title:"Close (ESC)",children:""})]})]}),p&&T.jsxs("div",{className:"file-viewer-history",children:[T.jsxs("div",{className:"history-header",children:[T.jsxs("span",{children:[" File History (",e.length,")"]}),T.jsx("button",{onClick:()=>m(!1),children:""})]}),T.jsx("div",{className:"history-list",children:[...e].reverse().map(({id:D,file:B,addedAt:z})=>T.jsxs("div",{className:`history-item ${D===l?"active":""}`,onClick:()=>A(D),children:[T.jsx("span",{className:"history-icon",children:N(B.filename,B.contentType)}),T.jsxs("div",{className:"history-info",children:[T.jsx("span",{className:"history-name",children:B.filename}),T.jsx("span",{className:"history-time",children:I(z)})]})]},D))})]}),T.jsxs("div",{className:`file-viewer-body ${a?"split":""}`,children:[T.jsx("div",{className:"file-pane primary",children:k?T.jsx(uv,{file:k,onContentClick:S}):T.jsx("div",{className:"file-viewer-empty",children:T.jsx("p",{children:"No file selected"})})}),a&&T.jsx("div",{className:"file-pane secondary",children:b?T.jsx(uv,{file:b,onContentClick:S}):T.jsx("div",{className:"file-viewer-empty",children:T.jsx("p",{children:"Ctrl+Click a tab to open here"})})})]}),T.jsxs("div",{className:"file-viewer-status",children:[k&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"status-path",title:k.path||k.filename,children:k.path||k.filename}),T.jsx("span",{className:"status-type",children:k.contentType})]}),a&&T.jsx("span",{className:"status-split",children:"Split View"})]})]})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const cF=4,hv=0,fv=1,uF=2;function qs(e){let t=e.length;for(;--t>=0;)e[t]=0}const hF=0,Sk=1,fF=2,dF=3,pF=258,Im=29,Kl=256,El=Kl+1+Im,Cs=30,Mm=19,xk=2*El+1,wi=15,Jh=16,mF=7,Om=256,kk=16,bk=17,Ck=18,Ud=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),dc=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),gF=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ek=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_F=512,ar=new Array((El+2)*2);qs(ar);const Vo=new Array(Cs*2);qs(Vo);const Al=new Array(_F);qs(Al);const Tl=new Array(pF-dF+1);qs(Tl);const Pm=new Array(Im);qs(Pm);const nu=new Array(Cs);qs(nu);function ef(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let Ak,Tk,Dk;function tf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Lk=e=>e<256?Al[e]:Al[256+(e>>>7)],Dl=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Gt=(e,t,n)=>{e.bi_valid>Jh-n?(e.bi_buf|=t<<e.bi_valid&65535,Dl(e,e.bi_buf),e.bi_buf=t>>Jh-e.bi_valid,e.bi_valid+=n-Jh):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},qn=(e,t,n)=>{Gt(e,n[t*2],n[t*2+1])},Rk=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},vF=e=>{e.bi_valid===16?(Dl(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},yF=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,a=t.stat_desc.max_length;let c,h,u,p,m,y,w=0;for(p=0;p<=wi;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<xk;c++)h=e.heap[c],p=n[n[h*2+1]*2+1]+1,p>a&&(p=a,w++),n[h*2+1]=p,!(h>r)&&(e.bl_count[p]++,m=0,h>=o&&(m=l[h-o]),y=n[h*2],e.opt_len+=y*(p+m),s&&(e.static_len+=y*(i[h*2+1]+m)));if(w!==0){do{for(p=a-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[a]--,w-=2}while(w>0);for(p=a;p!==0;p--)for(h=e.bl_count[p];h!==0;)u=e.heap[--c],!(u>r)&&(n[u*2+1]!==p&&(e.opt_len+=(p-n[u*2+1])*n[u*2],n[u*2+1]=p),h--)}},Nk=(e,t,n)=>{const r=new Array(wi+1);let i=0,s,l;for(s=1;s<=wi;s++)i=i+n[s-1]<<1,r[s]=i;for(l=0;l<=t;l++){let o=e[l*2+1];o!==0&&(e[l*2]=Rk(r[o]++,o))}},wF=()=>{let e,t,n,r,i;const s=new Array(wi+1);for(n=0,r=0;r<Im-1;r++)for(Pm[r]=n,e=0;e<1<<Ud[r];e++)Tl[n++]=r;for(Tl[n-1]=r,i=0,r=0;r<16;r++)for(nu[r]=i,e=0;e<1<<dc[r];e++)Al[i++]=r;for(i>>=7;r<Cs;r++)for(nu[r]=i<<7,e=0;e<1<<dc[r]-7;e++)Al[256+i++]=r;for(t=0;t<=wi;t++)s[t]=0;for(e=0;e<=143;)ar[e*2+1]=8,e++,s[8]++;for(;e<=255;)ar[e*2+1]=9,e++,s[9]++;for(;e<=279;)ar[e*2+1]=7,e++,s[7]++;for(;e<=287;)ar[e*2+1]=8,e++,s[8]++;for(Nk(ar,El+1,s),e=0;e<Cs;e++)Vo[e*2+1]=5,Vo[e*2]=Rk(e,5);Ak=new ef(ar,Ud,Kl+1,El,wi),Tk=new ef(Vo,dc,0,Cs,wi),Dk=new ef(new Array(0),gF,0,Mm,mF)},Ik=e=>{let t;for(t=0;t<El;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Cs;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Mm;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Om*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Mk=e=>{e.bi_valid>8?Dl(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},dv=(e,t,n,r)=>{const i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},nf=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&dv(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!dv(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},pv=(e,t,n)=>{let r,i,s=0,l,o;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?qn(e,i,t):(l=Tl[i],qn(e,l+Kl+1,t),o=Ud[l],o!==0&&(i-=Pm[l],Gt(e,i,o)),r--,l=Lk(r),qn(e,l,n),o=dc[l],o!==0&&(r-=nu[l],Gt(e,r,o)));while(s<e.sym_next);qn(e,Om,t)},Wd=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let l,o,a=-1,c;for(e.heap_len=0,e.heap_max=xk,l=0;l<s;l++)n[l*2]!==0?(e.heap[++e.heap_len]=a=l,e.depth[l]=0):n[l*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=a<2?++a:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=a,l=e.heap_len>>1;l>=1;l--)nf(e,n,l);c=s;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],nf(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=o,n[c*2]=n[l*2]+n[o*2],e.depth[c]=(e.depth[l]>=e.depth[o]?e.depth[l]:e.depth[o])+1,n[l*2+1]=n[o*2+1]=c,e.heap[1]=c++,nf(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],yF(e,t),Nk(n,a,e.bl_count)},mv=(e,t,n)=>{let r,i=-1,s,l=t[0*2+1],o=0,a=7,c=4;for(l===0&&(a=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=l,l=t[(r+1)*2+1],!(++o<a&&s===l)&&(o<c?e.bl_tree[s*2]+=o:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[kk*2]++):o<=10?e.bl_tree[bk*2]++:e.bl_tree[Ck*2]++,o=0,i=s,l===0?(a=138,c=3):s===l?(a=6,c=3):(a=7,c=4))},gv=(e,t,n)=>{let r,i=-1,s,l=t[0*2+1],o=0,a=7,c=4;for(l===0&&(a=138,c=3),r=0;r<=n;r++)if(s=l,l=t[(r+1)*2+1],!(++o<a&&s===l)){if(o<c)do qn(e,s,e.bl_tree);while(--o!==0);else s!==0?(s!==i&&(qn(e,s,e.bl_tree),o--),qn(e,kk,e.bl_tree),Gt(e,o-3,2)):o<=10?(qn(e,bk,e.bl_tree),Gt(e,o-3,3)):(qn(e,Ck,e.bl_tree),Gt(e,o-11,7));o=0,i=s,l===0?(a=138,c=3):s===l?(a=6,c=3):(a=7,c=4)}},SF=e=>{let t;for(mv(e,e.dyn_ltree,e.l_desc.max_code),mv(e,e.dyn_dtree,e.d_desc.max_code),Wd(e,e.bl_desc),t=Mm-1;t>=3&&e.bl_tree[Ek[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},xF=(e,t,n,r)=>{let i;for(Gt(e,t-257,5),Gt(e,n-1,5),Gt(e,r-4,4),i=0;i<r;i++)Gt(e,e.bl_tree[Ek[i]*2+1],3);gv(e,e.dyn_ltree,t-1),gv(e,e.dyn_dtree,n-1)},kF=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return hv;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return fv;for(n=32;n<Kl;n++)if(e.dyn_ltree[n*2]!==0)return fv;return hv};let _v=!1;const bF=e=>{_v||(wF(),_v=!0),e.l_desc=new tf(e.dyn_ltree,Ak),e.d_desc=new tf(e.dyn_dtree,Tk),e.bl_desc=new tf(e.bl_tree,Dk),e.bi_buf=0,e.bi_valid=0,Ik(e)},Ok=(e,t,n,r)=>{Gt(e,(hF<<1)+(r?1:0),3),Mk(e),Dl(e,n),Dl(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},CF=e=>{Gt(e,Sk<<1,3),qn(e,Om,ar),vF(e)},EF=(e,t,n,r)=>{let i,s,l=0;e.level>0?(e.strm.data_type===uF&&(e.strm.data_type=kF(e)),Wd(e,e.l_desc),Wd(e,e.d_desc),l=SF(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?Ok(e,t,n,r):e.strategy===cF||s===i?(Gt(e,(Sk<<1)+(r?1:0),3),pv(e,ar,Vo)):(Gt(e,(fF<<1)+(r?1:0),3),xF(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),pv(e,e.dyn_ltree,e.dyn_dtree)),Ik(e),r&&Mk(e)},AF=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Tl[n]+Kl+1)*2]++,e.dyn_dtree[Lk(t)*2]++),e.sym_next===e.sym_end);var TF=bF,DF=Ok,LF=EF,RF=AF,NF=CF,IF={_tr_init:TF,_tr_stored_block:DF,_tr_flush_block:LF,_tr_tally:RF,_tr_align:NF};const MF=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do i=i+t[r++]|0,s=s+i|0;while(--l);i%=65521,s%=65521}return i|s<<16|0};var Ll=MF;const OF=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},PF=new Uint32Array(OF()),BF=(e,t,n,r)=>{const i=PF,s=r+n;e^=-1;for(let l=r;l<s;l++)e=e>>>8^i[(e^t[l])&255];return e^-1};var gt=BF,Oi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Yl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:FF,_tr_stored_block:Vd,_tr_flush_block:zF,_tr_tally:Qr,_tr_align:jF}=IF,{Z_NO_FLUSH:Jr,Z_PARTIAL_FLUSH:HF,Z_FULL_FLUSH:$F,Z_FINISH:yn,Z_BLOCK:vv,Z_OK:St,Z_STREAM_END:yv,Z_STREAM_ERROR:Jn,Z_DATA_ERROR:UF,Z_BUF_ERROR:rf,Z_DEFAULT_COMPRESSION:WF,Z_FILTERED:VF,Z_HUFFMAN_ONLY:Ua,Z_RLE:KF,Z_FIXED:YF,Z_DEFAULT_STRATEGY:qF,Z_UNKNOWN:GF,Z_DEFLATED:Pu}=Yl,XF=9,ZF=15,QF=8,JF=29,e8=256,Kd=e8+1+JF,t8=30,n8=19,r8=2*Kd+1,i8=15,Ee=3,Hr=258,er=Hr+Ee+1,s8=32,js=42,Bm=57,Yd=69,qd=73,Gd=91,Xd=103,Si=113,Ro=666,Bt=1,Gs=2,Pi=3,Xs=4,o8=3,xi=(e,t)=>(e.msg=Oi[t],t),wv=e=>e*2-(e>4?9:0),Fr=e=>{let t=e.length;for(;--t>=0;)e[t]=0},l8=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let a8=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,ei=a8;const nn=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},on=(e,t)=>{zF(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,nn(e.strm)},Me=(e,t)=>{e.pending_buf[e.pending++]=t},xo=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Zd=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=Ll(e.adler,t,i,n):e.state.wrap===2&&(e.adler=gt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Pk=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,l=e.prev_length,o=e.nice_match;const a=e.strstart>e.w_size-er?e.strstart-(e.w_size-er):0,c=e.window,h=e.w_mask,u=e.prev,p=e.strstart+Hr;let m=c[r+l-1],y=c[r+l];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(c[i+l]!==y||c[i+l-1]!==m||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(s=Hr-(p-r),r=p-Hr,s>l){if(e.match_start=t,l=s,s>=o)break;m=c[r+l-1],y=c[r+l]}}while((t=u[t&h])>a&&--n!==0);return l<=e.lookahead?l:e.lookahead},Hs=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-er)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),l8(e),r+=t),e.strm.avail_in===0)break;if(n=Zd(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Ee)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ei(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ei(e,e.ins_h,e.window[i+Ee-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ee)););}while(e.lookahead<er&&e.strm.avail_in!==0)},Bk=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,l=0,o=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==yn||t===Jr||r!==i+e.strm.avail_in)))break;l=t===yn&&r===i+e.strm.avail_in?1:0,Vd(e,0,0,l),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,nn(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(Zd(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(l===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?Xs:t!==Jr&&t!==yn&&e.strm.avail_in===0&&e.strstart===e.block_start?Gs:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(Zd(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===yn)&&t!==Jr&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,l=t===yn&&e.strm.avail_in===0&&r===i?1:0,Vd(e,e.block_start,r,l),e.block_start+=r,nn(e.strm)),l?Pi:Bt)},sf=(e,t)=>{let n,r;for(;;){if(e.lookahead<er){if(Hs(e),e.lookahead<er&&t===Jr)return Bt;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ee&&(e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ee-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-er&&(e.match_length=Pk(e,n)),e.match_length>=Ee)if(r=Qr(e,e.strstart-e.match_start,e.match_length-Ee),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ee){e.match_length--;do e.strstart++,e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ee-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ei(e,e.ins_h,e.window[e.strstart+1]);else r=Qr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(on(e,!1),e.strm.avail_out===0))return Bt}return e.insert=e.strstart<Ee-1?e.strstart:Ee-1,t===yn?(on(e,!0),e.strm.avail_out===0?Pi:Xs):e.sym_next&&(on(e,!1),e.strm.avail_out===0)?Bt:Gs},Xi=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<er){if(Hs(e),e.lookahead<er&&t===Jr)return Bt;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ee&&(e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ee-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ee-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-er&&(e.match_length=Pk(e,n),e.match_length<=5&&(e.strategy===VF||e.match_length===Ee&&e.strstart-e.match_start>4096)&&(e.match_length=Ee-1)),e.prev_length>=Ee&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ee,r=Qr(e,e.strstart-1-e.prev_match,e.prev_length-Ee),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ei(e,e.ins_h,e.window[e.strstart+Ee-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ee-1,e.strstart++,r&&(on(e,!1),e.strm.avail_out===0))return Bt}else if(e.match_available){if(r=Qr(e,0,e.window[e.strstart-1]),r&&on(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Bt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Qr(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ee-1?e.strstart:Ee-1,t===yn?(on(e,!0),e.strm.avail_out===0?Pi:Xs):e.sym_next&&(on(e,!1),e.strm.avail_out===0)?Bt:Gs},c8=(e,t)=>{let n,r,i,s;const l=e.window;for(;;){if(e.lookahead<=Hr){if(Hs(e),e.lookahead<=Hr&&t===Jr)return Bt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ee&&e.strstart>0&&(i=e.strstart-1,r=l[i],r===l[++i]&&r===l[++i]&&r===l[++i])){s=e.strstart+Hr;do;while(r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&r===l[++i]&&i<s);e.match_length=Hr-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ee?(n=Qr(e,1,e.match_length-Ee),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Qr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(on(e,!1),e.strm.avail_out===0))return Bt}return e.insert=0,t===yn?(on(e,!0),e.strm.avail_out===0?Pi:Xs):e.sym_next&&(on(e,!1),e.strm.avail_out===0)?Bt:Gs},u8=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Hs(e),e.lookahead===0)){if(t===Jr)return Bt;break}if(e.match_length=0,n=Qr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(on(e,!1),e.strm.avail_out===0))return Bt}return e.insert=0,t===yn?(on(e,!0),e.strm.avail_out===0?Pi:Xs):e.sym_next&&(on(e,!1),e.strm.avail_out===0)?Bt:Gs};function Un(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const No=[new Un(0,0,0,0,Bk),new Un(4,4,8,4,sf),new Un(4,5,16,8,sf),new Un(4,6,32,32,sf),new Un(4,4,16,16,Xi),new Un(8,16,32,32,Xi),new Un(8,16,128,128,Xi),new Un(8,32,128,256,Xi),new Un(32,128,258,1024,Xi),new Un(32,258,258,4096,Xi)],h8=e=>{e.window_size=2*e.w_size,Fr(e.head),e.max_lazy_match=No[e.level].max_lazy,e.good_match=No[e.level].good_length,e.nice_match=No[e.level].nice_length,e.max_chain_length=No[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ee-1,e.match_available=0,e.ins_h=0};function f8(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Pu,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(r8*2),this.dyn_dtree=new Uint16Array((2*t8+1)*2),this.bl_tree=new Uint16Array((2*n8+1)*2),Fr(this.dyn_ltree),Fr(this.dyn_dtree),Fr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(i8+1),this.heap=new Uint16Array(2*Kd+1),Fr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Kd+1),Fr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ql=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==js&&t.status!==Bm&&t.status!==Yd&&t.status!==qd&&t.status!==Gd&&t.status!==Xd&&t.status!==Si&&t.status!==Ro?1:0},Fk=e=>{if(ql(e))return xi(e,Jn);e.total_in=e.total_out=0,e.data_type=GF;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Bm:t.wrap?js:Si,e.adler=t.wrap===2?0:1,t.last_flush=-2,FF(t),St},zk=e=>{const t=Fk(e);return t===St&&h8(e.state),t},d8=(e,t)=>ql(e)||e.state.wrap!==2?Jn:(e.state.gzhead=t,St),jk=(e,t,n,r,i,s)=>{if(!e)return Jn;let l=1;if(t===WF&&(t=6),r<0?(l=0,r=-r):r>15&&(l=2,r-=16),i<1||i>XF||n!==Pu||r<8||r>15||t<0||t>9||s<0||s>YF||r===8&&l!==1)return xi(e,Jn);r===8&&(r=9);const o=new f8;return e.state=o,o.strm=e,o.status=js,o.wrap=l,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Ee-1)/Ee),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=n,zk(e)},p8=(e,t)=>jk(e,t,Pu,ZF,QF,qF),m8=(e,t)=>{if(ql(e)||t>vv||t<0)return e?xi(e,Jn):Jn;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Ro&&t!==yn)return xi(e,e.avail_out===0?rf:Jn);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(nn(e),e.avail_out===0)return n.last_flush=-1,St}else if(e.avail_in===0&&wv(t)<=wv(r)&&t!==yn)return xi(e,rf);if(n.status===Ro&&e.avail_in!==0)return xi(e,rf);if(n.status===js&&n.wrap===0&&(n.status=Si),n.status===js){let i=Pu+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Ua||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=s8),i+=31-i%31,xo(n,i),n.strstart!==0&&(xo(n,e.adler>>>16),xo(n,e.adler&65535)),e.adler=1,n.status=Si,nn(e),n.pending!==0)return n.last_flush=-1,St}if(n.status===Bm){if(e.adler=0,Me(n,31),Me(n,139),Me(n,8),n.gzhead)Me(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Me(n,n.gzhead.time&255),Me(n,n.gzhead.time>>8&255),Me(n,n.gzhead.time>>16&255),Me(n,n.gzhead.time>>24&255),Me(n,n.level===9?2:n.strategy>=Ua||n.level<2?4:0),Me(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Me(n,n.gzhead.extra.length&255),Me(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=gt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Yd;else if(Me(n,0),Me(n,0),Me(n,0),Me(n,0),Me(n,0),Me(n,n.level===9?2:n.strategy>=Ua||n.level<2?4:0),Me(n,o8),n.status=Si,nn(e),n.pending!==0)return n.last_flush=-1,St}if(n.status===Yd){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=gt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=o,nn(e),n.pending!==0)return n.last_flush=-1,St;i=0,s-=o}let l=new Uint8Array(n.gzhead.extra);n.pending_buf.set(l.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=gt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=qd}if(n.status===qd){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=gt(e.adler,n.pending_buf,n.pending-i,i)),nn(e),n.pending!==0)return n.last_flush=-1,St;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Me(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=gt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Gd}if(n.status===Gd){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=gt(e.adler,n.pending_buf,n.pending-i,i)),nn(e),n.pending!==0)return n.last_flush=-1,St;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Me(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=gt(e.adler,n.pending_buf,n.pending-i,i))}n.status=Xd}if(n.status===Xd){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(nn(e),n.pending!==0))return n.last_flush=-1,St;Me(n,e.adler&255),Me(n,e.adler>>8&255),e.adler=0}if(n.status=Si,nn(e),n.pending!==0)return n.last_flush=-1,St}if(e.avail_in!==0||n.lookahead!==0||t!==Jr&&n.status!==Ro){let i=n.level===0?Bk(n,t):n.strategy===Ua?u8(n,t):n.strategy===KF?c8(n,t):No[n.level].func(n,t);if((i===Pi||i===Xs)&&(n.status=Ro),i===Bt||i===Pi)return e.avail_out===0&&(n.last_flush=-1),St;if(i===Gs&&(t===HF?jF(n):t!==vv&&(Vd(n,0,0,!1),t===$F&&(Fr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),nn(e),e.avail_out===0))return n.last_flush=-1,St}return t!==yn?St:n.wrap<=0?yv:(n.wrap===2?(Me(n,e.adler&255),Me(n,e.adler>>8&255),Me(n,e.adler>>16&255),Me(n,e.adler>>24&255),Me(n,e.total_in&255),Me(n,e.total_in>>8&255),Me(n,e.total_in>>16&255),Me(n,e.total_in>>24&255)):(xo(n,e.adler>>>16),xo(n,e.adler&65535)),nn(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?St:yv)},g8=e=>{if(ql(e))return Jn;const t=e.state.status;return e.state=null,t===Si?xi(e,UF):St},_8=(e,t)=>{let n=t.length;if(ql(e))return Jn;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==js||r.lookahead)return Jn;if(i===1&&(e.adler=Ll(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Fr(r.head),r.strstart=0,r.block_start=0,r.insert=0);let a=new Uint8Array(r.w_size);a.set(t.subarray(n-r.w_size,n),0),t=a,n=r.w_size}const s=e.avail_in,l=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Hs(r);r.lookahead>=Ee;){let a=r.strstart,c=r.lookahead-(Ee-1);do r.ins_h=ei(r,r.ins_h,r.window[a+Ee-1]),r.prev[a&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=a,a++;while(--c);r.strstart=a,r.lookahead=Ee-1,Hs(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ee-1,r.match_available=0,e.next_in=l,e.input=o,e.avail_in=s,r.wrap=i,St};var v8=p8,y8=jk,w8=zk,S8=Fk,x8=d8,k8=m8,b8=g8,C8=_8,E8="pako deflate (from Nodeca project)",Ko={deflateInit:v8,deflateInit2:y8,deflateReset:w8,deflateResetKeep:S8,deflateSetHeader:x8,deflate:k8,deflateEnd:b8,deflateSetDictionary:C8,deflateInfo:E8};const A8=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var T8=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)A8(n,r)&&(e[r]=n[r])}}return e},D8=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let l=e[r];n.set(l,i),i+=l.length}return n},Bu={assign:T8,flattenChunks:D8};let Hk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Hk=!1}const Rl=new Uint8Array(256);for(let e=0;e<256;e++)Rl[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Rl[254]=Rl[254]=1;var L8=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,l=e.length,o=0;for(i=0;i<l;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const R8=(e,t)=>{if(t<65534&&e.subarray&&Hk)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var N8=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let l=e[r++];if(l<128){s[i++]=l;continue}let o=Rl[l];if(o>4){s[i++]=65533,r+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&r<n;)l=l<<6|e[r++]&63,o--;if(o>1){s[i++]=65533;continue}l<65536?s[i++]=l:(l-=65536,s[i++]=55296|l>>10&1023,s[i++]=56320|l&1023)}return R8(s,i)},I8=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Rl[e[n]]>t?n:t},Nl={string2buf:L8,buf2string:N8,utf8border:I8};function M8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $k=M8;const Uk=Object.prototype.toString,{Z_NO_FLUSH:O8,Z_SYNC_FLUSH:P8,Z_FULL_FLUSH:B8,Z_FINISH:F8,Z_OK:ru,Z_STREAM_END:z8,Z_DEFAULT_COMPRESSION:j8,Z_DEFAULT_STRATEGY:H8,Z_DEFLATED:$8}=Yl;function Gl(e){this.options=Bu.assign({level:j8,method:$8,chunkSize:16384,windowBits:15,memLevel:8,strategy:H8},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $k,this.strm.avail_out=0;let n=Ko.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ru)throw new Error(Oi[n]);if(t.header&&Ko.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Nl.string2buf(t.dictionary):Uk.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Ko.deflateSetDictionary(this.strm,r),n!==ru)throw new Error(Oi[n]);this._dict_set=!0}}Gl.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?F8:O8,typeof e=="string"?n.input=Nl.string2buf(e):Uk.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===P8||s===B8)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Ko.deflate(n,s),i===z8)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Ko.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ru;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Gl.prototype.onData=function(e){this.chunks.push(e)};Gl.prototype.onEnd=function(e){e===ru&&(this.result=Bu.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Fm(e,t){const n=new Gl(t);if(n.push(e,!0),n.err)throw n.msg||Oi[n.err];return n.result}function U8(e,t){return t=t||{},t.raw=!0,Fm(e,t)}function W8(e,t){return t=t||{},t.gzip=!0,Fm(e,t)}var V8=Gl,K8=Fm,Y8=U8,q8=W8,G8={Deflate:V8,deflate:K8,deflateRaw:Y8,gzip:q8};const Wa=16209,X8=16191;var Z8=function(t,n){let r,i,s,l,o,a,c,h,u,p,m,y,w,g,f,d,_,v,S,k,b,x,C,A;const N=t.state;r=t.next_in,C=t.input,i=r+(t.avail_in-5),s=t.next_out,A=t.output,l=s-(n-t.avail_out),o=s+(t.avail_out-257),a=N.dmax,c=N.wsize,h=N.whave,u=N.wnext,p=N.window,m=N.hold,y=N.bits,w=N.lencode,g=N.distcode,f=(1<<N.lenbits)-1,d=(1<<N.distbits)-1;e:do{y<15&&(m+=C[r++]<<y,y+=8,m+=C[r++]<<y,y+=8),_=w[m&f];t:for(;;){if(v=_>>>24,m>>>=v,y-=v,v=_>>>16&255,v===0)A[s++]=_&65535;else if(v&16){S=_&65535,v&=15,v&&(y<v&&(m+=C[r++]<<y,y+=8),S+=m&(1<<v)-1,m>>>=v,y-=v),y<15&&(m+=C[r++]<<y,y+=8,m+=C[r++]<<y,y+=8),_=g[m&d];n:for(;;){if(v=_>>>24,m>>>=v,y-=v,v=_>>>16&255,v&16){if(k=_&65535,v&=15,y<v&&(m+=C[r++]<<y,y+=8,y<v&&(m+=C[r++]<<y,y+=8)),k+=m&(1<<v)-1,k>a){t.msg="invalid distance too far back",N.mode=Wa;break e}if(m>>>=v,y-=v,v=s-l,k>v){if(v=k-v,v>h&&N.sane){t.msg="invalid distance too far back",N.mode=Wa;break e}if(b=0,x=p,u===0){if(b+=c-v,v<S){S-=v;do A[s++]=p[b++];while(--v);b=s-k,x=A}}else if(u<v){if(b+=c+u-v,v-=u,v<S){S-=v;do A[s++]=p[b++];while(--v);if(b=0,u<S){v=u,S-=v;do A[s++]=p[b++];while(--v);b=s-k,x=A}}}else if(b+=u-v,v<S){S-=v;do A[s++]=p[b++];while(--v);b=s-k,x=A}for(;S>2;)A[s++]=x[b++],A[s++]=x[b++],A[s++]=x[b++],S-=3;S&&(A[s++]=x[b++],S>1&&(A[s++]=x[b++]))}else{b=s-k;do A[s++]=A[b++],A[s++]=A[b++],A[s++]=A[b++],S-=3;while(S>2);S&&(A[s++]=A[b++],S>1&&(A[s++]=A[b++]))}}else if(v&64){t.msg="invalid distance code",N.mode=Wa;break e}else{_=g[(_&65535)+(m&(1<<v)-1)];continue n}break}}else if(v&64)if(v&32){N.mode=X8;break e}else{t.msg="invalid literal/length code",N.mode=Wa;break e}else{_=w[(_&65535)+(m&(1<<v)-1)];continue t}break}}while(r<i&&s<o);S=y>>3,r-=S,y-=S<<3,m&=(1<<y)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<o?257+(o-s):257-(s-o),N.hold=m,N.bits=y};const Zi=15,Sv=852,xv=592,kv=0,of=1,bv=2,Q8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),J8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ez=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nz=(e,t,n,r,i,s,l,o)=>{const a=o.bits;let c=0,h=0,u=0,p=0,m=0,y=0,w=0,g=0,f=0,d=0,_,v,S,k,b,x=null,C;const A=new Uint16Array(Zi+1),N=new Uint16Array(Zi+1);let I=null,F,D,B;for(c=0;c<=Zi;c++)A[c]=0;for(h=0;h<r;h++)A[t[n+h]]++;for(m=a,p=Zi;p>=1&&A[p]===0;p--);if(m>p&&(m=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<p&&A[u]===0;u++);for(m<u&&(m=u),g=1,c=1;c<=Zi;c++)if(g<<=1,g-=A[c],g<0)return-1;if(g>0&&(e===kv||p!==1))return-1;for(N[1]=0,c=1;c<Zi;c++)N[c+1]=N[c]+A[c];for(h=0;h<r;h++)t[n+h]!==0&&(l[N[t[n+h]]++]=h);if(e===kv?(x=I=l,C=20):e===of?(x=Q8,I=J8,C=257):(x=ez,I=tz,C=0),d=0,h=0,c=u,b=s,y=m,w=0,S=-1,f=1<<m,k=f-1,e===of&&f>Sv||e===bv&&f>xv)return 1;for(;;){F=c-w,l[h]+1<C?(D=0,B=l[h]):l[h]>=C?(D=I[l[h]-C],B=x[l[h]-C]):(D=96,B=0),_=1<<c-w,v=1<<y,u=v;do v-=_,i[b+(d>>w)+v]=F<<24|D<<16|B|0;while(v!==0);for(_=1<<c-1;d&_;)_>>=1;if(_!==0?(d&=_-1,d+=_):d=0,h++,--A[c]===0){if(c===p)break;c=t[n+l[h]]}if(c>m&&(d&k)!==S){for(w===0&&(w=m),b+=u,y=c-w,g=1<<y;y+w<p&&(g-=A[y+w],!(g<=0));)y++,g<<=1;if(f+=1<<y,e===of&&f>Sv||e===bv&&f>xv)return 1;S=d&k,i[S]=m<<24|y<<16|b-s|0}}return d!==0&&(i[b+d]=c-w<<24|64<<16|0),o.bits=m,0};var Yo=nz;const rz=0,Wk=1,Vk=2,{Z_FINISH:Cv,Z_BLOCK:iz,Z_TREES:Va,Z_OK:Bi,Z_STREAM_END:sz,Z_NEED_DICT:oz,Z_STREAM_ERROR:En,Z_DATA_ERROR:Kk,Z_MEM_ERROR:Yk,Z_BUF_ERROR:lz,Z_DEFLATED:Ev}=Yl,Fu=16180,Av=16181,Tv=16182,Dv=16183,Lv=16184,Rv=16185,Nv=16186,Iv=16187,Mv=16188,Ov=16189,iu=16190,sr=16191,lf=16192,Pv=16193,af=16194,Bv=16195,Fv=16196,zv=16197,jv=16198,Ka=16199,Ya=16200,Hv=16201,$v=16202,Uv=16203,Wv=16204,Vv=16205,cf=16206,Kv=16207,Yv=16208,Ke=16209,qk=16210,Gk=16211,az=852,cz=592,uz=15,hz=uz,qv=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function fz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hi=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Fu||t.mode>Gk?1:0},Xk=e=>{if(Hi(e))return En;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Fu,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(az),t.distcode=t.distdyn=new Int32Array(cz),t.sane=1,t.back=-1,Bi},Zk=e=>{if(Hi(e))return En;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Xk(e)},Qk=(e,t)=>{let n;if(Hi(e))return En;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?En:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Zk(e))},Jk=(e,t)=>{if(!e)return En;const n=new fz;e.state=n,n.strm=e,n.window=null,n.mode=Fu;const r=Qk(e,t);return r!==Bi&&(e.state=null),r},dz=e=>Jk(e,hz);let Gv=!0,uf,hf;const pz=e=>{if(Gv){uf=new Int32Array(512),hf=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Yo(Wk,e.lens,0,288,uf,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Yo(Vk,e.lens,0,32,hf,0,e.work,{bits:5}),Gv=!1}e.lencode=uf,e.lenbits=9,e.distcode=hf,e.distbits=5},eb=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},mz=(e,t)=>{let n,r,i,s,l,o,a,c,h,u,p,m,y,w,g=0,f,d,_,v,S,k,b,x;const C=new Uint8Array(4);let A,N;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hi(e)||!e.output||!e.input&&e.avail_in!==0)return En;n=e.state,n.mode===sr&&(n.mode=lf),l=e.next_out,i=e.output,a=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,h=n.bits,u=o,p=a,x=Bi;e:for(;;)switch(n.mode){case Fu:if(n.wrap===0){n.mode=lf;break}for(;h<16;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=c&255,C[1]=c>>>8&255,n.check=gt(n.check,C,2,0),c=0,h=0,n.mode=Av;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ke;break}if((c&15)!==Ev){e.msg="unknown compression method",n.mode=Ke;break}if(c>>>=4,h-=4,b=(c&15)+8,n.wbits===0&&(n.wbits=b),b>15||b>n.wbits){e.msg="invalid window size",n.mode=Ke;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?Ov:sr,c=0,h=0;break;case Av:for(;h<16;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(n.flags=c,(n.flags&255)!==Ev){e.msg="unknown compression method",n.mode=Ke;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ke;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=gt(n.check,C,2,0)),c=0,h=0,n.mode=Tv;case Tv:for(;h<32;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=gt(n.check,C,4,0)),c=0,h=0,n.mode=Dv;case Dv:for(;h<16;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=gt(n.check,C,2,0)),c=0,h=0,n.mode=Lv;case Lv:if(n.flags&1024){for(;h<16;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=gt(n.check,C,2,0)),c=0,h=0}else n.head&&(n.head.extra=null);n.mode=Rv;case Rv:if(n.flags&1024&&(m=n.length,m>o&&(m=o),m&&(n.head&&(b=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),b)),n.flags&512&&n.wrap&4&&(n.check=gt(n.check,r,m,s)),o-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=Nv;case Nv:if(n.flags&2048){if(o===0)break e;m=0;do b=r[s+m++],n.head&&b&&n.length<65536&&(n.head.name+=String.fromCharCode(b));while(b&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=gt(n.check,r,m,s)),o-=m,s+=m,b)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Iv;case Iv:if(n.flags&4096){if(o===0)break e;m=0;do b=r[s+m++],n.head&&b&&n.length<65536&&(n.head.comment+=String.fromCharCode(b));while(b&&m<o);if(n.flags&512&&n.wrap&4&&(n.check=gt(n.check,r,m,s)),o-=m,s+=m,b)break e}else n.head&&(n.head.comment=null);n.mode=Mv;case Mv:if(n.flags&512){for(;h<16;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ke;break}c=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=sr;break;case Ov:for(;h<32;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}e.adler=n.check=qv(c),c=0,h=0,n.mode=iu;case iu:if(n.havedict===0)return e.next_out=l,e.avail_out=a,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=h,oz;e.adler=n.check=1,n.mode=sr;case sr:if(t===iz||t===Va)break e;case lf:if(n.last){c>>>=h&7,h-=h&7,n.mode=cf;break}for(;h<3;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}switch(n.last=c&1,c>>>=1,h-=1,c&3){case 0:n.mode=Pv;break;case 1:if(pz(n),n.mode=Ka,t===Va){c>>>=2,h-=2;break e}break;case 2:n.mode=Fv;break;case 3:e.msg="invalid block type",n.mode=Ke}c>>>=2,h-=2;break;case Pv:for(c>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ke;break}if(n.length=c&65535,c=0,h=0,n.mode=af,t===Va)break e;case af:n.mode=Bv;case Bv:if(m=n.length,m){if(m>o&&(m=o),m>a&&(m=a),m===0)break e;i.set(r.subarray(s,s+m),l),o-=m,s+=m,a-=m,l+=m,n.length-=m;break}n.mode=sr;break;case Fv:for(;h<14;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(n.nlen=(c&31)+257,c>>>=5,h-=5,n.ndist=(c&31)+1,c>>>=5,h-=5,n.ncode=(c&15)+4,c>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ke;break}n.have=0,n.mode=zv;case zv:for(;n.have<n.ncode;){for(;h<3;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}n.lens[I[n.have++]]=c&7,c>>>=3,h-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},x=Yo(rz,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid code lengths set",n.mode=Ke;break}n.have=0,n.mode=jv;case jv:for(;n.have<n.nlen+n.ndist;){for(;g=n.lencode[c&(1<<n.lenbits)-1],f=g>>>24,d=g>>>16&255,_=g&65535,!(f<=h);){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(_<16)c>>>=f,h-=f,n.lens[n.have++]=_;else{if(_===16){for(N=f+2;h<N;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(c>>>=f,h-=f,n.have===0){e.msg="invalid bit length repeat",n.mode=Ke;break}b=n.lens[n.have-1],m=3+(c&3),c>>>=2,h-=2}else if(_===17){for(N=f+3;h<N;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}c>>>=f,h-=f,b=0,m=3+(c&7),c>>>=3,h-=3}else{for(N=f+7;h<N;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}c>>>=f,h-=f,b=0,m=11+(c&127),c>>>=7,h-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ke;break}for(;m--;)n.lens[n.have++]=b}}if(n.mode===Ke)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ke;break}if(n.lenbits=9,A={bits:n.lenbits},x=Yo(Wk,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid literal/lengths set",n.mode=Ke;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},x=Yo(Vk,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,x){e.msg="invalid distances set",n.mode=Ke;break}if(n.mode=Ka,t===Va)break e;case Ka:n.mode=Ya;case Ya:if(o>=6&&a>=258){e.next_out=l,e.avail_out=a,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=h,Z8(e,p),l=e.next_out,i=e.output,a=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,h=n.bits,n.mode===sr&&(n.back=-1);break}for(n.back=0;g=n.lencode[c&(1<<n.lenbits)-1],f=g>>>24,d=g>>>16&255,_=g&65535,!(f<=h);){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(d&&!(d&240)){for(v=f,S=d,k=_;g=n.lencode[k+((c&(1<<v+S)-1)>>v)],f=g>>>24,d=g>>>16&255,_=g&65535,!(v+f<=h);){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}c>>>=v,h-=v,n.back+=v}if(c>>>=f,h-=f,n.back+=f,n.length=_,d===0){n.mode=Vv;break}if(d&32){n.back=-1,n.mode=sr;break}if(d&64){e.msg="invalid literal/length code",n.mode=Ke;break}n.extra=d&15,n.mode=Hv;case Hv:if(n.extra){for(N=n.extra;h<N;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=$v;case $v:for(;g=n.distcode[c&(1<<n.distbits)-1],f=g>>>24,d=g>>>16&255,_=g&65535,!(f<=h);){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(!(d&240)){for(v=f,S=d,k=_;g=n.distcode[k+((c&(1<<v+S)-1)>>v)],f=g>>>24,d=g>>>16&255,_=g&65535,!(v+f<=h);){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}c>>>=v,h-=v,n.back+=v}if(c>>>=f,h-=f,n.back+=f,d&64){e.msg="invalid distance code",n.mode=Ke;break}n.offset=_,n.extra=d&15,n.mode=Uv;case Uv:if(n.extra){for(N=n.extra;h<N;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ke;break}n.mode=Wv;case Wv:if(a===0)break e;if(m=p-a,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ke;break}m>n.wnext?(m-=n.wnext,y=n.wsize-m):y=n.wnext-m,m>n.length&&(m=n.length),w=n.window}else w=i,y=l-n.offset,m=n.length;m>a&&(m=a),a-=m,n.length-=m;do i[l++]=w[y++];while(--m);n.length===0&&(n.mode=Ya);break;case Vv:if(a===0)break e;i[l++]=n.length,a--,n.mode=Ya;break;case cf:if(n.wrap){for(;h<32;){if(o===0)break e;o--,c|=r[s++]<<h,h+=8}if(p-=a,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?gt(n.check,i,p,l-p):Ll(n.check,i,p,l-p)),p=a,n.wrap&4&&(n.flags?c:qv(c))!==n.check){e.msg="incorrect data check",n.mode=Ke;break}c=0,h=0}n.mode=Kv;case Kv:if(n.wrap&&n.flags){for(;h<32;){if(o===0)break e;o--,c+=r[s++]<<h,h+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ke;break}c=0,h=0}n.mode=Yv;case Yv:x=sz;break e;case Ke:x=Kk;break e;case qk:return Yk;case Gk:default:return En}return e.next_out=l,e.avail_out=a,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=h,(n.wsize||p!==e.avail_out&&n.mode<Ke&&(n.mode<cf||t!==Cv))&&eb(e,e.output,e.next_out,p-e.avail_out),u-=e.avail_in,p-=e.avail_out,e.total_in+=u,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?gt(n.check,i,p,e.next_out-p):Ll(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===sr?128:0)+(n.mode===Ka||n.mode===af?256:0),(u===0&&p===0||t===Cv)&&x===Bi&&(x=lz),x},gz=e=>{if(Hi(e))return En;let t=e.state;return t.window&&(t.window=null),e.state=null,Bi},_z=(e,t)=>{if(Hi(e))return En;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Bi):En},vz=(e,t)=>{const n=t.length;let r,i,s;return Hi(e)||(r=e.state,r.wrap!==0&&r.mode!==iu)?En:r.mode===iu&&(i=1,i=Ll(i,t,n,0),i!==r.check)?Kk:(s=eb(e,t,n,n),s?(r.mode=qk,Yk):(r.havedict=1,Bi))};var yz=Zk,wz=Qk,Sz=Xk,xz=dz,kz=Jk,bz=mz,Cz=gz,Ez=_z,Az=vz,Tz="pako inflate (from Nodeca project)",cr={inflateReset:yz,inflateReset2:wz,inflateResetKeep:Sz,inflateInit:xz,inflateInit2:kz,inflate:bz,inflateEnd:Cz,inflateGetHeader:Ez,inflateSetDictionary:Az,inflateInfo:Tz};function Dz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Lz=Dz;const tb=Object.prototype.toString,{Z_NO_FLUSH:Rz,Z_FINISH:Nz,Z_OK:Il,Z_STREAM_END:ff,Z_NEED_DICT:df,Z_STREAM_ERROR:Iz,Z_DATA_ERROR:Xv,Z_MEM_ERROR:Mz}=Yl;function Xl(e){this.options=Bu.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $k,this.strm.avail_out=0;let n=cr.inflateInit2(this.strm,t.windowBits);if(n!==Il)throw new Error(Oi[n]);if(this.header=new Lz,cr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Nl.string2buf(t.dictionary):tb.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=cr.inflateSetDictionary(this.strm,t.dictionary),n!==Il)))throw new Error(Oi[n])}Xl.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?Nz:Rz,tb.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=cr.inflate(n,l),s===df&&i&&(s=cr.inflateSetDictionary(n,i),s===Il?s=cr.inflate(n,l):s===Xv&&(s=df));n.avail_in>0&&s===ff&&n.state.wrap>0&&e[n.next_in]!==0;)cr.inflateReset(n),s=cr.inflate(n,l);switch(s){case Iz:case Xv:case df:case Mz:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===ff))if(this.options.to==="string"){let a=Nl.utf8border(n.output,n.next_out),c=n.next_out-a,h=Nl.buf2string(n.output,a);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(a,a+c),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Il&&o===0)){if(s===ff)return s=cr.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Xl.prototype.onData=function(e){this.chunks.push(e)};Xl.prototype.onEnd=function(e){e===Il&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bu.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function zm(e,t){const n=new Xl(t);if(n.push(e),n.err)throw n.msg||Oi[n.err];return n.result}function Oz(e,t){return t=t||{},t.raw=!0,zm(e,t)}var Pz=Xl,Bz=zm,Fz=Oz,zz=zm,jz={Inflate:Pz,inflate:Bz,inflateRaw:Fz,ungzip:zz};const{Deflate:Hz,deflate:$z,deflateRaw:Uz,gzip:Wz}=G8,{Inflate:Vz,inflate:Kz,inflateRaw:Yz,ungzip:qz}=jz;var Gz=Hz,Xz=$z,Zz=Uz,Qz=Wz,Jz=Vz,ej=Kz,tj=Yz,nj=qz,rj=Yl,ij={Deflate:Gz,deflate:Xz,deflateRaw:Zz,gzip:Qz,Inflate:Jz,inflate:ej,inflateRaw:tj,ungzip:nj,constants:rj};function sj(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder("utf-8").decode(n)}function oj(e){const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);const r=ij.ungzip(n);return new TextDecoder("utf-8").decode(r)}const lj=1e3,aj=3e4;function cj({url:e,token:t,onScreen:n,onSessionList:r,onSessionStatus:i,onProjectList:s,onProjectStatus:l,onFileView:o}){const[a,c]=j.useState("disconnected"),h=j.useRef(null),u=j.useRef(0),p=j.useRef(null),m=j.useRef(new Map),y=j.useRef(0),w=j.useCallback(()=>{var z;if(((z=h.current)==null?void 0:z.readyState)===WebSocket.OPEN)return;c("connecting");const D=t?`${e}?token=${encodeURIComponent(t)}`:e,B=new WebSocket(D);B.onopen=()=>{console.log("WebSocket connected to:",D),console.log("Token used:",t),c("connected"),u.current=0,console.log("Sending listSessions and listProjects..."),B.send(JSON.stringify({type:"listSessions"})),B.send(JSON.stringify({type:"listProjects"})),p.current&&B.send(JSON.stringify({type:"register",role:"viewer",session:p.current}))},B.onmessage=H=>{var L,R,E;try{const M=JSON.parse(H.data);switch(console.log("[WS] Received message:",M.type,M.session||""),M.type){case"screen":if(M.session&&M.payload)try{const U=sj(M.payload);n==null||n(M.session,U)}catch(U){console.error("Failed to decode screen data:",U)}break;case"screenGz":if(M.session&&M.payload)try{const U=oj(M.payload);n==null||n(M.session,U)}catch(U){console.error("Failed to decompress screen data:",U)}break;case"sessionList":console.log("Received sessionList:",M.sessions),M.sessions&&(r==null||r(M.sessions));break;case"sessionStatus":M.session&&M.status&&(i==null||i(M.session,M.status));break;case"projectList":console.log("Received projectList:",M.projects),M.projects&&(s==null||s(M.projects));break;case"projectStatus":M.project&&(l==null||l(M.project));break;case"missionAnalysis":if(M.requestId){const U=m.current.get(M.requestId);if(U)if(clearTimeout(U.timeout),m.current.delete(M.requestId),M.error)U.reject(new Error(M.error));else{const O={steps:M.steps||[],decisions:M.decisions||[]};U.resolve(O)}}break;case"addSourceResult":if(M.requestId){const U=m.current.get(M.requestId);U&&(clearTimeout(U.timeout),m.current.delete(M.requestId),M.error?U.reject(new Error(M.error)):U.resolve({folder:((L=M.meta)==null?void 0:L.folder)||"",fileCount:parseInt(((R=M.meta)==null?void 0:R.fileCount)||"0",10),files:((E=M.payload)==null?void 0:E.split(`
`))||[]}))}break;case"file_view":if(M.session&&M.meta){const U={filename:M.meta.filename||"unknown",contentType:M.meta.contentType||"text/plain",content:M.payload||"",path:M.meta.path};o==null||o(M.session,U)}break}}catch(M){console.error("Failed to parse message:",M)}},B.onclose=()=>{console.log("WebSocket disconnected"),c("disconnected"),h.current=null,g()},B.onerror=H=>{console.error("WebSocket error:",H)},h.current=B},[e,t,n,r,i,s,l,o]),g=j.useCallback(()=>{const D=u.current++,B=Math.min(lj*Math.pow(2,D),aj),z=Math.random()*B*.2;console.log(`Reconnecting in ${B+z}ms...`),setTimeout(w,B+z)},[w]),f=j.useCallback(D=>{var B;p.current=D,((B=h.current)==null?void 0:B.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"register",role:"viewer",session:D}))},[]),d=j.useCallback((D,B)=>{var z;((z=h.current)==null?void 0:z.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"keys",session:D,payload:B}))},[]),_=j.useCallback(()=>{var D;((D=h.current)==null?void 0:D.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"listSessions"}))},[]),v=j.useCallback((D,B)=>{var z;((z=h.current)==null?void 0:z.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"createSession",meta:{machineId:D,sessionName:B}}))},[]),S=j.useCallback((D,B,z)=>{var H;((H=h.current)==null?void 0:H.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"resize",session:D,meta:{cols:String(B),rows:String(z)}}))},[]),k=j.useCallback(D=>{var B;((B=h.current)==null?void 0:B.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"killSession",session:D}))},[]),b=j.useCallback(()=>{var D;((D=h.current)==null?void 0:D.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"listProjects"}))},[]),x=j.useCallback(D=>{var B;((B=h.current)==null?void 0:B.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"watchProject",meta:{projectId:D}}))},[]),C=j.useCallback((D,B)=>{var z;((z=h.current)==null?void 0:z.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"startWorkflow",meta:{projectId:D,mission:B}}))},[]),A=j.useCallback(D=>{var B;((B=h.current)==null?void 0:B.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"deleteProject",meta:{projectId:D}}))},[]),N=j.useCallback((D,B)=>{var z;((z=h.current)==null?void 0:z.readyState)===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"requestFileView",session:D,meta:{path:B}}))},[]),I=j.useCallback((D,B,z,H)=>new Promise((L,R)=>{var U;if(((U=h.current)==null?void 0:U.readyState)!==WebSocket.OPEN){R(new Error("WebSocket not connected"));return}const E=`analyze-${++y.current}-${Date.now()}`,M=setTimeout(()=>{m.current.delete(E),R(new Error("Analysis timeout"))},6e4);m.current.set(E,{resolve:L,reject:R,timeout:M}),h.current.send(JSON.stringify({type:"analyzeMission",requestId:E,meta:{projectId:D,mission:B,contextPaths:z.join(","),previousDecisions:H?JSON.stringify(H):""}}))}),[]),F=j.useCallback((D,B,z,H)=>new Promise((L,R)=>{var U;if(((U=h.current)==null?void 0:U.readyState)!==WebSocket.OPEN){R(new Error("WebSocket not connected"));return}const E=`addsource-${++y.current}-${Date.now()}`,M=setTimeout(()=>{m.current.delete(E),R(new Error("Add source timeout"))},12e4);m.current.set(E,{resolve:L,reject:R,timeout:M}),h.current.send(JSON.stringify({type:"addSource",requestId:E,meta:{projectId:D,sourceType:B,sourceUrl:z,targetFolder:H||""}}))}),[]);return j.useEffect(()=>(w(),()=>{var D;(D=h.current)==null||D.close()}),[w]),{status:a,joinSession:f,sendKeys:d,refreshSessions:_,createSession:v,sendResize:S,killSession:k,refreshProjects:b,watchProject:x,startWorkflow:C,analyzeMission:I,addSource:F,deleteProject:A,requestFileView:N}}function uj(){const[e,t]=j.useState(!1);return j.useEffect(()=>{const n=s=>{(s.ctrlKey||s.metaKey)&&(t(!0),document.body.classList.add("ctrl-pressed"))},r=s=>{!s.ctrlKey&&!s.metaKey&&(t(!1),document.body.classList.remove("ctrl-pressed"))},i=()=>{t(!1),document.body.classList.remove("ctrl-pressed")};return window.addEventListener("keydown",n),window.addEventListener("keyup",r),window.addEventListener("blur",i),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",r),window.removeEventListener("blur",i),document.body.classList.remove("ctrl-pressed")}},[]),e}const hj=["localhost","15.164.214.74"],nb=hj.includes(window.location.hostname),fj=nb?`ws://${window.location.hostname}:8080/ws`:"wss://relay.sessioncast.io/ws",dj="dev@localhost";function pj(){const[e,t]=j.useState(()=>{if(nb)return dj;const X=new URLSearchParams(window.location.search).get("token");return X?(localStorage.setItem("auth_token",X),window.history.replaceState({},document.title,"/"),X):localStorage.getItem("auth_token")}),[n,r]=j.useState([]),[i,s]=j.useState(null),l=j.useRef(null),[o,a]=j.useState([]),[c,h]=j.useState(null),[u,p]=j.useState(()=>{const $=localStorage.getItem("theme");return $==="light"||$==="dark"?$:"light"});j.useEffect(()=>{document.documentElement.className=u==="light"?"light":"",localStorage.setItem("theme",u)},[u]);const m=j.useCallback(()=>{p($=>$==="dark"?"light":"dark")},[]),y=j.useCallback($=>{t($)},[]),w=j.useCallback(()=>{localStorage.removeItem("auth_token"),t(null)},[]),[g,f]=j.useState(!1),[d,_]=j.useState(!1),[v,S]=j.useState("sessions"),[k,b]=j.useState(new Set),[x,C]=j.useState(()=>{const $=localStorage.getItem("hidden_sessions");return $?new Set(JSON.parse($)):new Set}),[A,N]=j.useState([]),[I,F]=j.useState(!1);uj();const D=j.useCallback(($,X)=>{if($===l.current){const te=BE();te&&te(X)}else b(te=>{const fe=new Set(te);return fe.add($),fe})},[]),B=j.useCallback($=>{r($)},[]),z=j.useCallback(($,X)=>{r(te=>te.map(fe=>fe.id===$?{...fe,status:X}:fe))},[]),H=j.useCallback($=>{a($)},[]),L=j.useCallback($=>{a(X=>X.map(te=>te.projectId===$.projectId?$:te))},[]),R=j.useCallback(($,X)=>{if(console.log("[FileView] Received file_view:",{sessionId:$,currentSession:l.current,filename:X.filename}),$===l.current){console.log("[FileView] Session matches, adding to FileViewer");const te={id:`${X.filename}-${Date.now()}`,file:X,addedAt:Date.now()};N(fe=>[...fe,te]),F(!0)}else console.log("[FileView] Session mismatch, ignoring")},[]),{status:E,joinSession:M,sendKeys:U,createSession:O,sendResize:Y,killSession:K,watchProject:ee,startWorkflow:P,analyzeMission:W,addSource:G,deleteProject:q,requestFileView:ce}=cj({url:fj,token:e,onScreen:D,onSessionList:B,onSessionStatus:z,onProjectList:H,onProjectStatus:L,onFileView:R}),ne=j.useCallback($=>{l.current&&ce(l.current,$)},[ce]),de=j.useCallback(()=>{F(!1)},[]),we=j.useCallback($=>{N(X=>X.filter(te=>te.id!==$))},[]),ye=j.useCallback(($,X)=>{O($,X)},[O]),Re=j.useCallback($=>{K($)},[K]),oe=j.useCallback($=>{C(X=>{const te=new Set(X);return te.add($),localStorage.setItem("hidden_sessions",JSON.stringify([...te])),te})},[]),le=j.useCallback($=>{h($),s(null),l.current=null,S("projects"),ee($)},[ee]),Ne=j.useCallback(()=>{h(null),s(null),l.current=null,S("projects")},[]),Ue=j.useCallback(($,X)=>{c&&(console.log("Starting workflow with agents:",X),P(c,$))},[c,P]),at=j.useCallback(async($,X,te)=>{if(!c)throw new Error("No project selected");return W(c,$,X,te)},[c,W]),tt=j.useCallback(async($,X,te)=>{if(!c)throw new Error("No project selected");return G(c,$,X,te)},[c,G]),Ae=j.useCallback($=>{q($),c===$&&h(null)},[q,c]),Fe=j.useCallback(()=>{const $={projectId:`demo-${Date.now()}`,name:"Demo Project",mission:"",status:"pending",workflowStarted:!1,agents:[],sources:[]};a(X=>[$,...X]),h($.projectId),s(null),l.current=null},[]),Oe=n.filter($=>!x.has($.id)),Z=$=>{l.current=$,s($),h(null),S("sessions"),M($),_(!1),b(X=>{const te=new Set(X);return te.delete($),te})},J=$=>{i&&U(i,$)},ae=n.find($=>$.id===i),_e=o.find($=>$.projectId===c);return e?T.jsxs("div",{className:"app",children:[T.jsx("button",{className:"sidebar-toggle",onClick:()=>_(!d),"aria-label":"Toggle sidebar",children:d?"":""}),T.jsx("div",{className:`sidebar-overlay ${d?"visible":""}`,onClick:()=>_(!1)}),T.jsx(NE,{sessions:Oe,currentSession:i,onSelectSession:Z,theme:u,onToggleTheme:m,onLogout:w,onManageTokens:()=>f(!0),isOpen:d,onCreateSession:ye,onKillSession:Re,onHideSession:oe,updatedSessions:k,projects:o,currentProject:c,onSelectProject:le,onNewProject:Ne,onDeleteProject:Ae,activeTab:v,onActiveTabChange:S}),g&&e&&T.jsx(qE,{authToken:e,onClose:()=>f(!1)}),T.jsx("div",{className:"main-content",children:c&&_e?_e.workflowStarted?T.jsx(x3,{projectId:c,token:e}):T.jsx(qI,{project:_e,onStart:Ue,onAnalyze:at,onAddSource:tt}):v==="projects"?T.jsx(QE,{onCreateDemoProject:Fe}):Oe.length===0?T.jsx(ZE,{authToken:e}):T.jsxs(T.Fragment,{children:[T.jsx(PE,{sessionId:i,sessionLabel:(ae==null?void 0:ae.label)||null,status:(ae==null?void 0:ae.status)||"offline",connectionStatus:E,onInput:$=>i&&U(i,$),onResize:($,X)=>i&&Y(i,$,X),onRefresh:()=>i&&M(i),onFileClick:ne,theme:u}),T.jsx($E,{onSend:J,disabled:!i||(ae==null?void 0:ae.status)!=="online"})]})}),T.jsx(aF,{files:A,isOpen:I,onClose:de,onCloseFile:we,onFileRequest:ne,theme:u})]}):T.jsx(VE,{onLoginSuccess:y})}pf.createRoot(document.getElementById("root")).render(T.jsx(Q.StrictMode,{children:T.jsx(LE,{children:T.jsx(pj,{})})}));
